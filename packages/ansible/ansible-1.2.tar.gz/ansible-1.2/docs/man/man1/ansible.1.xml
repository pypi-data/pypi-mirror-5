<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<refentry lang="en">
<refmeta>
<refentrytitle>ansible</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class="source">Ansible</refmiscinfo>
<refmiscinfo class="version">1.2</refmiscinfo>
<refmiscinfo class="manual">System administration commands</refmiscinfo>
</refmeta>
<refnamediv>
    <refname>ansible</refname>
    <refpurpose>run a command somewhere else</refpurpose>
</refnamediv>
<refsynopsisdiv id="_synopsis">
<simpara>ansible &lt;host-pattern&gt; [-f forks] [-m module_name] [-a args]</simpara>
</refsynopsisdiv>
<refsect1 id="_description">
<title>DESCRIPTION</title>
<simpara><emphasis role="strong">Ansible</emphasis> is an extra-simple tool/framework/API for doing 'remote things' over
SSH.</simpara>
</refsect1>
<refsect1 id="_arguments">
<title>ARGUMENTS</title>
<variablelist>
<varlistentry>
<term>
<emphasis role="strong">host-pattern</emphasis>
</term>
<listitem>
<simpara>
A name of a group in the inventory file, a shell-like glob selecting
hosts in inventory file, or any combination of the two separated by
semicolons.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_options">
<title>OPTIONS</title>
<variablelist>
<varlistentry>
<term>
<emphasis role="strong">-v</emphasis>, <emphasis role="strong">--verbose</emphasis>
</term>
<listitem>
<simpara>
Verbose mode, more output from successful actions will be shown. Give
up to three times for more output.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-i</emphasis> <emphasis>PATH</emphasis>, <emphasis role="strong">--inventory=</emphasis><emphasis>PATH</emphasis>
</term>
<listitem>
<simpara>
The <emphasis>PATH</emphasis> to the inventory hosts file, which defaults to <emphasis>/etc/ansible/hosts</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-f</emphasis> <emphasis>NUM</emphasis>, <emphasis role="strong">--forks=</emphasis><emphasis>NUM</emphasis>
</term>
<listitem>
<simpara>
Level of parallelism. <emphasis>NUM</emphasis> is specified as an integer, the default is 5.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">--private-key=</emphasis><emphasis>PRIVATE_KEY_FILE</emphasis>
</term>
<listitem>
<simpara>
Use this file to authenticate the connection.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-m</emphasis> <emphasis>NAME</emphasis>, <emphasis role="strong">--module-name=</emphasis><emphasis>NAME</emphasis>
</term>
<listitem>
<simpara>
Execute the module called <emphasis>NAME</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-M</emphasis> <emphasis>DIRECTORY</emphasis>, <emphasis role="strong">--module-path=</emphasis><emphasis>DIRECTORY</emphasis>
</term>
<listitem>
<simpara>
The <emphasis>DIRECTORY</emphasis> search path to load modules from. The default is
<emphasis>/usr/share/ansible</emphasis>. This can also be set with the ANSIBLE_LIBRARY
environment variable.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-a</emphasis> '<emphasis>ARGUMENTS</emphasis>', <emphasis role="strong">--args=</emphasis>'<emphasis>ARGUMENTS</emphasis>'
</term>
<listitem>
<simpara>
The <emphasis>ARGUMENTS</emphasis> to pass to the module.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-k</emphasis>, <emphasis role="strong">--ask-pass</emphasis>
</term>
<listitem>
<simpara>
Prompt for the SSH password instead of assuming key-based authentication with ssh-agent.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-K</emphasis>, <emphasis role="strong">--ask-sudo-pass</emphasis>
</term>
<listitem>
<simpara>
Prompt for the password to use with --sudo, if any
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-o</emphasis>, <emphasis role="strong">--one-line</emphasis>
</term>
<listitem>
<simpara>
Try to output everything on one line.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-s</emphasis>, <emphasis role="strong">--sudo</emphasis>
</term>
<listitem>
<simpara>
Run the command as the user given by -u and sudo to root.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-t</emphasis> <emphasis>DIRECTORY</emphasis>, <emphasis role="strong">--tree=</emphasis><emphasis>DIRECTORY</emphasis>
</term>
<listitem>
<simpara>
Save contents in this output <emphasis>DIRECTORY</emphasis>, with the results saved in a
file named after each host.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-T</emphasis> <emphasis>SECONDS</emphasis>, <emphasis role="strong">--timeout=</emphasis><emphasis>SECONDS</emphasis>
</term>
<listitem>
<simpara>
Connection timeout to use when trying to talk to hosts, in <emphasis>SECONDS</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-B</emphasis> <emphasis>NUM</emphasis>, <emphasis role="strong">--background=</emphasis><emphasis>NUM</emphasis>
</term>
<listitem>
<simpara>
Run commands in the background, killing the task after <emphasis>NUM</emphasis> seconds.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-P</emphasis> <emphasis>NUM</emphasis>, <emphasis role="strong">--poll=</emphasis><emphasis>NUM</emphasis>
</term>
<listitem>
<simpara>
Poll a background job every <emphasis>NUM</emphasis> seconds. Requires <emphasis role="strong">-B</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-u</emphasis> <emphasis>USERNAME</emphasis>, <emphasis role="strong">--remote-user=</emphasis><emphasis>USERNAME</emphasis>
</term>
<listitem>
<simpara>
Use this remote <emphasis>USERNAME</emphasis> instead of the current user.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-U</emphasis> <emphasis>SUDO_USERNAME</emphasis>, <emphasis role="strong">--sudo-user=</emphasis><emphasis>SUDO_USERNAME</emphasis>
</term>
<listitem>
<simpara>
Sudo to <emphasis>SUDO_USERNAME</emphasis> instead of root.  Implies --sudo.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-c</emphasis> <emphasis>CONNECTION</emphasis>, <emphasis role="strong">--connection=</emphasis><emphasis>CONNECTION</emphasis>
</term>
<listitem>
<simpara>
Connection type to use.  Possible options are <emphasis>paramiko</emphasis> (SSH), <emphasis>ssh</emphasis>,
and <emphasis>local</emphasis>.  <emphasis>local</emphasis> is mostly useful for crontab or kickstarts.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-l</emphasis> <emphasis>SUBSET</emphasis>, <emphasis role="strong">--limit=</emphasis><emphasis>SUBSET</emphasis>
</term>
<listitem>
<simpara>
Further limits the selected host/group patterns.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-l</emphasis> <emphasis>~REGEX</emphasis>, <emphasis role="strong">--limit=</emphasis><emphasis>~REGEX</emphasis>
</term>
<listitem>
<simpara>
Further limits hosts with a regex pattern.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_inventory">
<title>INVENTORY</title>
<simpara>Ansible stores the hosts it can potentially operate on in an inventory
file. The syntax is one host per line.  Groups headers are allowed and
are included on their own line, enclosed in square brackets that
start the line.</simpara>
<simpara>Ranges of hosts are also supported.  For more information and
additional options, see the documentation on <ulink url="http://ansible.github.com/">http://ansible.github.com/</ulink>.</simpara>
</refsect1>
<refsect1 id="_files">
<title>FILES</title>
<simpara>/etc/ansible/hosts&#8201;&#8212;&#8201;Default inventory file</simpara>
<simpara>/usr/share/ansible/&#8201;&#8212;&#8201;Default module library</simpara>
<simpara>/etc/ansible/ansible.cfg&#8201;&#8212;&#8201;Config file, used if present</simpara>
<simpara>~/.ansible.cfg&#8201;&#8212;&#8201;User config file, overrides the default config if present</simpara>
</refsect1>
<refsect1 id="_environment">
<title>ENVIRONMENT</title>
<simpara>The following environment variables may specified.</simpara>
<simpara>ANSIBLE_HOSTS &#8201;&#8212;&#8201;Override the default ansible hosts file</simpara>
<simpara>ANSIBLE_LIBRARY&#8201;&#8212;&#8201;Override the default ansible module library path</simpara>
<simpara>ANSIBLE_CONFIG&#8201;&#8212;&#8201;Override the default ansible config file</simpara>
</refsect1>
<refsect1 id="_author">
<title>AUTHOR</title>
<simpara>Ansible was originally written by Michael DeHaan. See the AUTHORS file
for a complete list of contributors.</simpara>
</refsect1>
<refsect1 id="_copyright">
<title>COPYRIGHT</title>
<simpara>Copyright Â© 2012, Michael DeHaan</simpara>
<simpara>Ansible is released under the terms of the GPLv3 License.</simpara>
</refsect1>
<refsect1 id="_see_also">
<title>SEE ALSO</title>
<simpara><emphasis role="strong">ansible-playbook</emphasis>(1), <emphasis role="strong">ansible-pull</emphasis>(1), <emphasis role="strong">ansible-doc</emphasis>(1)</simpara>
<simpara>Extensive documentation as well as IRC and mailing list info
is available on the ansible home page: <ulink url="https://ansible.github.com/">https://ansible.github.com/</ulink></simpara>
</refsect1>
</refentry>
