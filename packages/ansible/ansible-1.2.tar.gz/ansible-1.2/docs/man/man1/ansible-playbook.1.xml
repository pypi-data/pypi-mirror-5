<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<refentry lang="en">
<refmeta>
<refentrytitle>ansible-playbook</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class="source">Ansible</refmiscinfo>
<refmiscinfo class="version">1.2</refmiscinfo>
<refmiscinfo class="manual">System administration commands</refmiscinfo>
</refmeta>
<refnamediv>
    <refname>ansible-playbook</refname>
    <refpurpose>run an ansible playbook</refpurpose>
</refnamediv>
<refsynopsisdiv id="_synopsis">
<simpara>ansible-playbook &lt;filename.yml&gt; &#8230; [options]</simpara>
</refsynopsisdiv>
<refsect1 id="_description">
<title>DESCRIPTION</title>
<simpara><emphasis role="strong">Ansible playbooks</emphasis> are a configuration and multinode deployment
system.  Ansible-playbook is the tool used to run them.  See the
project home page (link below) for more information.</simpara>
</refsect1>
<refsect1 id="_arguments">
<title>ARGUMENTS</title>
<variablelist>
<varlistentry>
<term>
<emphasis role="strong">filename.yml</emphasis>
</term>
<listitem>
<simpara>
The names of one or more YAML format files to run as ansible playbooks.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_options">
<title>OPTIONS</title>
<variablelist>
<varlistentry>
<term>
<emphasis role="strong">-v</emphasis>, <emphasis role="strong">--verbose</emphasis>
</term>
<listitem>
<simpara>
Verbose mode, more output from successful actions will be shown. Give
up to three times for more output.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-i</emphasis> <emphasis>PATH</emphasis>, <emphasis role="strong">--inventory=</emphasis><emphasis>PATH</emphasis>
</term>
<listitem>
<simpara>
The <emphasis>PATH</emphasis> to the inventory hosts file, which defaults to
<emphasis>/etc/ansible/hosts</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-M</emphasis> <emphasis>DIRECTORY</emphasis>, <emphasis role="strong">--module-path=</emphasis><emphasis>DIRECTORY</emphasis>
</term>
<listitem>
<simpara>
The <emphasis>DIRECTORY</emphasis> search path to load modules from. The default is
<emphasis>/usr/share/ansible</emphasis>. This can also be set with the ANSIBLE_LIBRARY
environment variable.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-e</emphasis> <emphasis>VARS</emphasis>, <emphasis role="strong">--extra-vars=</emphasis><emphasis>VARS</emphasis>
</term>
<listitem>
<simpara>
Extra variables to inject into a playbook, in key=value key=value format or
as quoted JSON (hashes and arrays).
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-f</emphasis> <emphasis>NUM</emphasis>, <emphasis role="strong">--forks=</emphasis><emphasis>NUM</emphasis>
</term>
<listitem>
<simpara>
Level of parallelism. <emphasis>NUM</emphasis> is specified as an integer, the default is 5.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-k</emphasis>, <emphasis role="strong">--ask-pass</emphasis>
</term>
<listitem>
<simpara>
Prompt for the SSH password instead of assuming key-based
authentication with ssh-agent.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-K</emphasis>, <emphasis role="strong">--ask-sudo-pass</emphasis>
</term>
<listitem>
<simpara>
Prompt for the password to use for playbook plays that request sudo
access, if any.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-U</emphasis>, <emphasis>SUDO_USER</emphasis>, <emphasis role="strong">--sudo-user=</emphasis><emphasis>SUDO_USER</emphasis>
</term>
<listitem>
<simpara>
Desired sudo user (default=root).
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">--tags</emphasis>
</term>
<listitem>
<simpara>
Run only these tags from the playbook
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">--syntax-check</emphasis>
</term>
<listitem>
<simpara>
Look for syntax errors in the playbook, but don&#8217;t run anything
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">--check</emphasis>
</term>
<listitem>
<simpara>
Do not make any changes on the remote system, but test resources to see what might
have changed.  Note this can not scan all possible resource types and is only
a simulation.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">--diff</emphasis>
</term>
<listitem>
<simpara>
When changing any templated files, show the unified diffs of how they changed.  When
used with --check, shows how the files would have changed if --check were not used.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-T</emphasis> <emphasis>SECONDS</emphasis>, <emphasis role="strong">--timeout=</emphasis><emphasis>SECONDS</emphasis>
</term>
<listitem>
<simpara>
Connection timeout to use when trying to talk to hosts, in <emphasis>SECONDS</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-s</emphasis>, <emphasis role="strong">--sudo</emphasis>
</term>
<listitem>
<simpara>
Force all plays to use sudo, even if not marked as such.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-u</emphasis> <emphasis>USERNAME</emphasis>, <emphasis role="strong">--remote-user=</emphasis><emphasis>USERNAME</emphasis>
</term>
<listitem>
<simpara>
Use this remote user name on playbook steps that do not indicate a
user name to run as.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-c</emphasis> <emphasis>CONNECTION</emphasis>, <emphasis role="strong">--connection=</emphasis><emphasis>CONNECTION</emphasis>
</term>
<listitem>
<simpara>
Connection type to use.  Possible options are <emphasis>paramiko</emphasis> (SSH), <emphasis>ssh</emphasis>,
and <emphasis>local</emphasis>.  <emphasis>local</emphasis> is mostly useful for crontab or kickstarts.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-l</emphasis> <emphasis>SUBSET</emphasis>, <emphasis role="strong">--limit=</emphasis><emphasis>SUBSET</emphasis>
</term>
<listitem>
<simpara>
Further limits the selected host/group patterns.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_environment">
<title>ENVIRONMENT</title>
<simpara>The following environment variables may specified.</simpara>
<simpara>ANSIBLE_HOSTS &#8201;&#8212;&#8201;Override the default ansible hosts file</simpara>
<simpara>ANSIBLE_LIBRARY&#8201;&#8212;&#8201;Override the default ansible module library path</simpara>
</refsect1>
<refsect1 id="_files">
<title>FILES</title>
<simpara>/etc/ansible/hosts&#8201;&#8212;&#8201;Default inventory file</simpara>
<simpara>/usr/share/ansible/&#8201;&#8212;&#8201;Default module library</simpara>
<simpara>/etc/ansible/ansible.cfg&#8201;&#8212;&#8201;Config file, used if present</simpara>
<simpara>~/.ansible.cfg&#8201;&#8212;&#8201;User config file, overrides the default config if present</simpara>
</refsect1>
<refsect1 id="_author">
<title>AUTHOR</title>
<simpara>Ansible was originally written by Michael DeHaan. See the AUTHORS file
for a complete list of contributors.</simpara>
</refsect1>
<refsect1 id="_copyright">
<title>COPYRIGHT</title>
<simpara>Copyright Â© 2012, Michael DeHaan</simpara>
<simpara>Ansible is released under the terms of the GPLv3 License.</simpara>
</refsect1>
<refsect1 id="_see_also">
<title>SEE ALSO</title>
<simpara><emphasis role="strong">ansible</emphasis>(1), <emphasis role="strong">ansible-pull</emphasis>(1), <emphasis role="strong">ansible-doc</emphasis>(1)</simpara>
<simpara>Extensive documentation as well as IRC and mailing list info
is available on the ansible home page: <ulink url="https://ansible.github.com/">https://ansible.github.com/</ulink></simpara>
</refsect1>
</refentry>
