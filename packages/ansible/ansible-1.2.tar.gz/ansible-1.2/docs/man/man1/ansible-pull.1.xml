<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<refentry lang="en">
<refmeta>
<refentrytitle>ansible</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class="source">Ansible</refmiscinfo>
<refmiscinfo class="version">1.2</refmiscinfo>
<refmiscinfo class="manual">System administration commands</refmiscinfo>
</refmeta>
<refnamediv>
    <refname>ansible-pull</refname>
    <refpurpose>set up a remote copy of ansible on each managed node</refpurpose>
</refnamediv>
<refsynopsisdiv id="_synopsis">
<simpara>ansible -d DEST -U URL [ -C CHECKOUT ] [ -i INVENTORY ] [ &lt;filename.yml&gt; ]</simpara>
</refsynopsisdiv>
<refsect1 id="_description">
<title>DESCRIPTION</title>
<simpara><emphasis role="strong">Ansible</emphasis> is an extra-simple tool/framework/API for doing 'remote things' over
SSH.</simpara>
<simpara>Use ansible-pull to set up a remote copy of ansible on each managed
node, each set to run via cron and update playbook source via
git. This inverts the default <emphasis role="strong">push</emphasis> architecture of ansible into a
<emphasis role="strong">pull</emphasis> architecture, which has near-limitless scaling potential.</simpara>
<simpara>The setup playbook can be tuned to change the cron frequency, logging
locations, and parameters to ansible-pull.</simpara>
<simpara>This is useful both for extreme scale-out as well as periodic
remediation. Usage of the <emphasis>fetch</emphasis> module to retrieve logs from
ansible-pull runs would be an excellent way to gather and analyze
remote logs from ansible-pull.</simpara>
</refsect1>
<refsect1 id="_optional_argument">
<title>OPTIONAL ARGUMENT</title>
<variablelist>
<varlistentry>
<term>
<emphasis role="strong">filename.yml</emphasis>
</term>
<listitem>
<simpara>
The name of one the YAML format files to run as an ansible playbook.  This can
be a relative path within the git checkout.  If not provided, ansible-pull
will look for a playbook based on the host&#8217;s fully-qualified domain name and
finally a playbook named <emphasis role="strong">local.yml</emphasis>.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_options">
<title>OPTIONS</title>
<variablelist>
<varlistentry>
<term>
<emphasis role="strong">-d</emphasis> <emphasis>DEST</emphasis>, <emphasis role="strong">--directory=</emphasis><emphasis>DEST</emphasis>
</term>
<listitem>
<simpara>
Directory to checkout git repository into.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-U</emphasis> <emphasis>URL</emphasis>, <emphasis role="strong">--url=</emphasis><emphasis>URL</emphasis>
</term>
<listitem>
<simpara>
URL of git repository to clone.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-C</emphasis> <emphasis>CHECKOUT</emphasis>, <emphasis role="strong">--checkout=</emphasis><emphasis>CHECKOUT</emphasis>
</term>
<listitem>
<simpara>
Branch/Tag/Commit to checkout.  Defaults to <emphasis>HEAD</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">-i</emphasis> <emphasis>PATH</emphasis>, <emphasis role="strong">--inventory=</emphasis><emphasis>PATH</emphasis>
</term>
<listitem>
<simpara>
The <emphasis>PATH</emphasis> to the inventory hosts file.  This can be a relative path within
the git checkout.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
<emphasis role="strong">--purge</emphasis>
</term>
<listitem>
<simpara>
Purge the git checkout after the playbook is run.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_author">
<title>AUTHOR</title>
<simpara>Ansible was originally written by Michael DeHaan. See the AUTHORS file
for a complete list of contributors.</simpara>
</refsect1>
<refsect1 id="_copyright">
<title>COPYRIGHT</title>
<simpara>Copyright Â© 2012, Michael DeHaan</simpara>
<simpara>Ansible is released under the terms of the GPLv3 License.</simpara>
</refsect1>
<refsect1 id="_see_also">
<title>SEE ALSO</title>
<simpara><emphasis role="strong">ansible</emphasis>(1), <emphasis role="strong">ansible-playbook</emphasis>(1), <emphasis role="strong">ansible-doc</emphasis>(1)</simpara>
<simpara>Extensive documentation as well as IRC and mailing list info
is available on the ansible home page: <ulink url="https://ansible.github.com/">https://ansible.github.com/</ulink></simpara>
</refsect1>
</refentry>
