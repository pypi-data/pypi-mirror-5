<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<configuration xmlns:i18n="http://xml.zope.org/namespaces/i18n" i18n:domain="ringo">
  <source>
    <!-- Define different entity types -->
    <entity i18n:attributes="label" id="e1" name="login" label="Login" type="string">
      <rule i18n:attributes="msg" expr="bool($login)" msg="Login is required" method="pre"/>
    </entity>
    <entity i18n:attributes="label" id="e2" name="pass" label="Password" type="password">
      <rule i18n:attributes="msg" expr="bool($pass)" msg="Password is required" method="pre"/>
      <rule i18n:attributes="msg" expr="len($pass) >= 6" msg="Password must be at least 6 chars long" method="pre"/>
    </entity>
    <entity i18n:attributes="label" id="e3" name="login" label="Login" type="string">
      <rule i18n:attributes="msg" expr="bool($login)" msg="Loginname is required" method="pre"/>
    </entity>
    <entity i18n:attributes="label" id="e4" name="pass2" label="Retype password" type="password">
      <rule i18n:attributes="msg" expr="$pass==$pass2" msg="Password are not equal" method="pre"/>
    </entity>
    <entity i18n:attributes="label" id="e5" name="email" label="Email" type="email">
      <rule i18n:attributes="msg" expr="bool($email)" msg="Email is required" method="pre"/>
    </entity>
  </source>
  <form id="loginform" autocomplete="off" method="POST" action="/auth/login" enctype="multipart/form-data">
    <snippet ref="s1"/>
  </form>
  <form id="forgot_password" autocomplete="off" method="POST" action="/auth/forgot_password" enctype="multipart/form-data">
    <row>
      <col><field ref="e3"/></col>
      <col></col>
    </row>
  </form>
  <form id="register_user" method="POST" action="/auth/register_user" enctype="multipart/form-data">
    <row>
      <col><field ref="e1"/></col>
    </row>
    <row>
      <col><field ref="e2"/></col>
      <col><field ref="e4"/></col>
    </row>
    <row>
      <col><field ref="e5"/></col>
    </row>
  </form>
  <snippet id="s1">
    <row>
      <col><field ref="e1"/></col>
    </row>
    <row>
      <col><field ref="e2"/></col>
    </row>
  </snippet>
</configuration>
