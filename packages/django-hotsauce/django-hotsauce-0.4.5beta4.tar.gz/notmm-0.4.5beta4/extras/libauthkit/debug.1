running test
running egg_info
writing requirements to libauthkit.egg-info/requires.txt
writing libauthkit.egg-info/PKG-INFO
writing top-level names to libauthkit.egg-info/top_level.txt
writing dependency_links to libauthkit.egg-info/dependency_links.txt
writing entry points to libauthkit.egg-info/entry_points.txt
writing requirements to libauthkit.egg-info/requires.txt
writing libauthkit.egg-info/PKG-INFO
writing top-level names to libauthkit.egg-info/top_level.txt
writing dependency_links to libauthkit.egg-info/dependency_links.txt
writing entry points to libauthkit.egg-info/entry_points.txt
reading manifest file 'libauthkit.egg-info/SOURCES.txt'
reading manifest template 'MANIFEST.in'
writing manifest file 'libauthkit.egg-info/SOURCES.txt'
running build_ext
Failure: TypeError (__init__() takes exactly 2 arguments (1 given)) ... ERROR
test_base.test_ok ... ERROR
test_base.test_intercept ... /home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py:496: UserWarning: AuthKit is configured via the authkit.setup.intercept option not to intercept 401 responses so the authentication middleware will not be triggered even if a 401 Unauthenticated response is returned.
  "AuthKit is configured via the authkit.setup.intercept option not "
FAIL
test_base.test_fail ... FAIL
test_base.test_form_fail ... ERROR
test_base.test_forward_fail ... ERROR
test_base.test_redirect_fail ... ERROR
test_multihandler.test_ok ... ERROR
test_multihandler.test_intercept ... FAIL
test_multihandler.test_fail ... FAIL
test_multihandler.test_form_fail ... ERROR
test_multihandler.test_forward_fail ... ERROR
test_multihandler.test_redirect_fail ... ERROR
test_sqlalchemy.test_users_api_database ... ERROR
test_sqlalchemy.test_users_model_api_database ... ERROR

======================================================================
ERROR: Failure: TypeError (__init__() takes exactly 2 arguments (1 given))
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/loader.py", line 382, in loadTestsFromName
    addr.filename, addr.module)
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/importer.py", line 39, in importFromPath
    return self.importFromDir(dir_path, fqname)
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/importer.py", line 86, in importFromDir
    mod = load_module(part_fqname, fh, filename, desc)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/users/schevo_driver/__init__.py", line 1, in <module>
    from model import db
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/users/schevo_driver/model.py", line 9, in <module>
    db = XdserverProxy(dbName='accounts')
TypeError: __init__() takes exactly 2 arguments (1 given)

======================================================================
ERROR: test_base.test_ok
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 65, in test_ok
    res = TestApp(app).get('')
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_base.test_form_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 129, in test_form_fail
    res = TestApp(form_app).get('/private', status=200)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_base.test_forward_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 135, in test_forward_fail
    res = TestApp(forward_app).get('/private')
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_base.test_redirect_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 149, in test_redirect_fail
    res = TestApp(redirect_app).get('/private', status=302)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_multihandler.test_ok
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 65, in test_ok
    res = TestApp(app).get('')
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_multihandler.test_form_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 130, in test_form_fail
    res = TestApp(form_app).get('/private', status=200)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_multihandler.test_forward_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 136, in test_forward_fail
    res = TestApp(forward_app).get('/private')
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_multihandler.test_redirect_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 150, in test_redirect_fail
    res = TestApp(redirect_app).get('/private', status=302)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/base.py", line 310, in __call__
    return self.app(environ, start_response)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/authkit/authenticate/cookie.py", line 263, in __call__
    cookies = self.get_cookies(environ)
AttributeError: 'CookieUserSetter' object has no attribute 'get_cookies'

======================================================================
ERROR: test_sqlalchemy.test_users_api_database
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_sqlalchemy.py", line 58, in test_users_api_database
    raise Exception("Could not run the SQLAlchemy tests, SQLAlchemyManager is not installed")
Exception: Could not run the SQLAlchemy tests, SQLAlchemyManager is not installed

======================================================================
ERROR: test_sqlalchemy.test_users_model_api_database
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_sqlalchemy.py", line 362, in test_users_model_api_database
    import model as test_model
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/examples/user/database-model/model.py", line 1, in <module>
    from notmm.utils.sql.session import ScopedSession
ImportError: No module named sql.session

======================================================================
FAIL: test_base.test_intercept
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 117, in test_intercept
    assertEqual(res.full_status, '401 Unauth')
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 37, in assertEqual
    raise AssertionError('%s != %s'%(a,b))
AssertionError: 401 Unauthorized != 401 Unauth
-------------------- >> begin captured logging << --------------------
authkit.authenticate.multi: DEBUG: Status: '403 Forbidden', Headers: [('Content-type', 'text/plain')]
authkit.authenticate.multi: DEBUG: Status checker received status '403 Forbidden', headers [('Content-type', 'text/plain')], intercepted ['403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns True
authkit.authenticate.multi: DEBUG: MultiMiddleware self.checker check() returning <authkit.authenticate.digest.DigestAuthHandler object at 0xa9eed8c>
authkit.authenticate.multi: DEBUG: Matched binding returns status: '401 Unauthorized', headers: [('WWW-Authenticate', 'Digest nonce="e6ccb86958597a9cebb467ad1202f734", opaque="6cbd912e8c31b0b6ceff65f9ac96fbdd", realm="test", qop="auth"'), ('content-type', 'text/plain; charset=utf8')], exc_info: None
authkit.authenticate.multi: DEBUG: Status: '702 Doesnt exist', Headers: [('Content-type', 'text/plain')]
authkit.authenticate.multi: DEBUG: Status checker received status '702 Doesnt exist', headers [('Content-type', 'text/plain')], intercepted ['403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns True
authkit.authenticate.multi: DEBUG: MultiMiddleware self.checker check() returning <authkit.authenticate.digest.DigestAuthHandler object at 0xa9eed8c>
authkit.authenticate.multi: DEBUG: Matched binding returns status: '401 Unauthorized', headers: [('WWW-Authenticate', 'Digest nonce="796eb0e2e41b4c798bd48223f0941ef8", opaque="654adef75cd1e93f497742fa640e56b6", realm="test", qop="auth"'), ('content-type', 'text/plain; charset=utf8')], exc_info: None
authkit.authenticate.multi: DEBUG: Status: '500 Error', Headers: [('Content-type', 'text/plain')]
authkit.authenticate.multi: DEBUG: Status checker received status '500 Error', headers [('Content-type', 'text/plain')], intercepted ['403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns False
authkit.authenticate.multi: DEBUG: Multi: No binding was found for the check
authkit.authenticate.multi: DEBUG: Status: '401 Unauthorized', Headers: [('Content-type', 'text/plain')]
authkit.authenticate.multi: DEBUG: Status checker received status '401 Unauthorized', headers [('Content-type', 'text/plain')], intercepted ['403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns False
authkit.authenticate.multi: DEBUG: Multi: No binding was found for the check
--------------------- >> end captured logging << ---------------------

======================================================================
FAIL: test_base.test_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_base.py", line 122, in test_fail
    res = TestApp(app).get('/private', status=401)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 172, in lint_app
    "The application must return an iterator, if only an empty list")
AssertionError: The application must return an iterator, if only an empty list

======================================================================
FAIL: test_multihandler.test_intercept
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 117, in test_intercept
    assertEqual(res.full_status, '401 Unauth')
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 37, in assertEqual
    raise AssertionError('%s != %s'%(a,b))
AssertionError: 401 Unauthorized != 401 Unauth
-------------------- >> begin captured logging << --------------------
authkit.authenticate.multi: DEBUG: Status: '403 Forbidden', Headers: [('Content-type', 'text/plain; charset=utf8')]
authkit.authenticate.multi: DEBUG: Status checker received status '403 Forbidden', headers [('Content-type', 'text/plain; charset=utf8')], intercepted ['401', '403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns True
authkit.authenticate.multi: DEBUG: MultiMiddleware self.checker check() returning <authkit.authenticate.digest.DigestAuthHandler object at 0xaa4296c>
authkit.authenticate.multi: DEBUG: Matched binding returns status: '401 Unauthorized', headers: [('WWW-Authenticate', 'Digest nonce="01764029b162dbade00b862c7694b295", opaque="1622ccc599c83341cae7c77adc2d96ed", realm="test", qop="auth"'), ('content-type', 'text/plain; charset=utf8')], exc_info: None
authkit.authenticate.multi: DEBUG: Status: '702 Doesnt exist', Headers: [('Content-type', 'text/plain; charset=utf8')]
authkit.authenticate.multi: DEBUG: Status checker received status '702 Doesnt exist', headers [('Content-type', 'text/plain; charset=utf8')], intercepted ['401', '403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns True
authkit.authenticate.multi: DEBUG: MultiMiddleware self.checker check() returning <authkit.authenticate.digest.DigestAuthHandler object at 0xaa4296c>
authkit.authenticate.multi: DEBUG: Matched binding returns status: '401 Unauthorized', headers: [('WWW-Authenticate', 'Digest nonce="9253c4a366d9476e5541b4c90c1998d9", opaque="ddfb31198da53b0648d58999a5979cb8", realm="test", qop="auth"'), ('content-type', 'text/plain; charset=utf8')], exc_info: None
authkit.authenticate.multi: DEBUG: Status: '500 Error', Headers: [('Content-type', 'text/plain; charset=utf8')]
authkit.authenticate.multi: DEBUG: Status checker received status '500 Error', headers [('Content-type', 'text/plain; charset=utf8')], intercepted ['401', '403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns False
authkit.authenticate.multi: DEBUG: Multi: No binding was found for the check
authkit.authenticate.multi: DEBUG: Status: '401 Unauthorized', Headers: [('Content-type', 'text/plain; charset=utf8')]
authkit.authenticate.multi: DEBUG: Status checker received status '401 Unauthorized', headers [('Content-type', 'text/plain; charset=utf8')], intercepted ['401', '403', '702']
authkit.authenticate.multi: DEBUG: Status checker returns True
authkit.authenticate.multi: DEBUG: MultiMiddleware self.checker check() returning <authkit.authenticate.digest.DigestAuthHandler object at 0xaa4296c>
authkit.authenticate.multi: DEBUG: Matched binding returns status: '401 Unauthorized', headers: [('WWW-Authenticate', 'Digest nonce="34c1823ccb1601b89a1f6bf8ce7aec41", opaque="c22cb5cb10996e1a8379836d651fa416", realm="test", qop="auth"'), ('content-type', 'text/plain; charset=utf8')], exc_info: None
--------------------- >> end captured logging << ---------------------

======================================================================
FAIL: test_multihandler.test_fail
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/site-packages/nose-0.11.4-py2.7.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/steiner/src/notmm/branches/0.4-stable/extras/libauthkit/test/test_multihandler.py", line 122, in test_fail
    res = TestApp(app).get('/private', status=401)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 208, in get
    return self.do_request(req, status=status)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/fixture.py", line 389, in do_request
    **req.environ)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/wsgilib.py", line 343, in raw_interactive
    app_iter = application(basic_environ, start_response)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 170, in lint_app
    iterator = application(environ, start_response_wrapper)
  File "/usr/local/lib/python2.7/site-packages/Paste-1.7.5.1-py2.7.egg/paste/lint.py", line 172, in lint_app
    "The application must return an iterator, if only an empty list")
AssertionError: The application must return an iterator, if only an empty list

----------------------------------------------------------------------
Ran 15 tests in 0.707s

FAILED (failures=4, errors=11)
