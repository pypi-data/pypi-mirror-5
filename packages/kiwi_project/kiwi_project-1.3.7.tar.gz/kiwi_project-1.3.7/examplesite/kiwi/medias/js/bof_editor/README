BOF Editor

Developed and designed by Thenon David, [Sveetch.biz|http://sveetch.biz]

BOF Editor est un plugin __jQuery__ qui permet d'éditer des champs de texte long 
dans un espace quasiment plein écran, avec une option de prévisualisation du 
texte ainsi qu'une barre de raccourcis de syntaxe Wiki (wikibar).

Il est donc orienté pour des textes sous formats Wiki et non comme les ''rich 
editor'' qui permettent de rédiger directement du HTML.

Il possède plusieurs options, dont la possibilité de s'ouvrir soit lors d'un 
clic sur un champs de texte (''focus''), soit sur le clic d'un lien (''button'').

!!! Licence

Le code de ce projet est sous double licence  :

* [MIT|http://www.opensource.org/licenses/mit-license.php]
* [GPL|http://www.gnu.org/licenses/gpl.html]

!!! Pré-requis

* __[jQuery|http://jquery.com/]__ >= 1.3.2
* L'API et le CSS de la __Wikibar__ si vous souhaitez utiliser l'option de la Wikibar.
* Un script sur votre serveur web pour renvoyer une prévisualisation par Ajax si vous souhaitez utiliser l'option de prévisualisation.

!!! Installation

Notez que toute les options du BOF Editor sont facultatives et toutes cumulables.

!! De base

Il vous suffit d'insérer l'API du BOF Editor ainsi que son CSS et de l'instancier sur le textarea visé :

  <link rel="Stylesheet" title="Normal" media="screen" type="text/css" href="bof_editor/ui.css"/>
  <script type="text/javascript" src="bof_editor/api.js"></script>
  
  <script language="JavaScript" type="text/javascript">
  //<![CDATA[
      $(document).ready(function(){
          $('#id_text').BOF_Editor();
      });
  //]]>
  </script>

!! Avec wikibar

++En plus++ du code ''de base'', il vous faut insérer l'API et CSS de la Wikibar :

  <link rel="Stylesheet" title="Normal" media="screen" type="text/css" href="wikibar/ui.css"/>
  <script type="text/javascript" src="wikibar/api.js"></script>

Et changer l'instanciation du BOF Editor pour lui activer l'option de la wikibar :

  <script language="JavaScript" type="text/javascript">
  //<![CDATA[
      $(document).ready(function(){
          $('#id_text').BOF_Editor(
            'with_wikibar': true
          );
      });
  //]]>
  </script>

!! Avec wikibar et prévisualisation

Il suffit de suivre le même procédé que pour le mode avec wikibar, mais il 
faut encore changer l'instanciation pour indiquer l'url ou envoyer le texte 
et recevoir une prévisualisation :

  <script language="JavaScript" type="text/javascript">
  //<![CDATA[
      $(document).ready(function(){
          $('#id_text').BOF_Editor(
            'url_preview': "/syntax/preview/",
            'with_wikibar': true
          );
      });
  //]]>
  </script>

Le fait d'indiquer une url de prévisualisation active son mode, vous pouvez 
mettre l'url que vous souhaitez. Elle devra accepter les requêtes du type 
++POST++, le texte sera placé dans un attribut ++source++ et renvoyé formaté 
dans une réponse contenant uniquement le html.

!! Mode "bouton"

Par défaut, l'éditeur est en mode "focus", c'est à dire qu'il s'ouvre dès le 
clic dans le champs de texte. Il est possible d'utiliser le mode "bouton" qui 
ajouter un lien juste en dessous le champs texte et le clic sur ce lien ouvrira 
l'éditeur.

Il suffit d'indiquer le mode dans les options :

  <script language="JavaScript" type="text/javascript">
  //<![CDATA[
      $(document).ready(function(){
          $('#id_text').BOF_Editor(
            'mode': 'button',
            'i18n_opener_button': "Ouvrir l'éditeur"
          );
      });
  //]]>
  </script>

Notez aussi l'option "i18n_opener_button", facultative, qui permet de changer 
le titre du lien affiché.

!! Django

Django depuis la version 1.2.x nécessite d'indiquer un CSRF Token dans les requêtes de 
types POST, une option 'csrf_token' existe à cet effet. Ajoutez la dans les options 
lorsque vous instanciez votre éditeur :

  <script language="JavaScript" type="text/javascript">
  //<![CDATA[
      $(document).ready(function(){
          $('#id_text').BOF_Editor(
            'url_preview': "/syntax/preview/",
            'csrf_token': "csrftoken"
            'with_wikibar': true
          );
      });
  //]]>
  </script>

Notez que cette option n'est utile que si vous utilisez l'option de prévisualisation ET 
Django.

!!! Encore plus d'options

D'autres options de comportements sont disponibles, pour celà consulter le détails 
contenu dans l'API (``api.js``).

!!! Téléchargement

BOF Editor est téléchargeable uniquement depuis son dépôt __Subversion__

  http://svn.logicielslibres.info/bordel/sveetch/bof_editor/

Notez qu'il comporte déja une copie de la __Wikibar__, ce n'est donc pas la peine de la télécharger à part si vous comptiez l'utiliser.

!!! Traduction

Tout les textes par défaut sont en français, si vous souhaitez les changer ou 
utiliser l'éditeur dans d'autres langues, vous pouvez les modifier par les 
options. Tout les textes modifiables ont un nom d'option commencant par 
@@i18n_@@.
