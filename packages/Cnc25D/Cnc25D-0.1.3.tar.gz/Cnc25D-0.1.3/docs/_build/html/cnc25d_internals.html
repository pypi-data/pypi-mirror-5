<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cnc25D Internals &mdash; Cnc25D 0.1.3 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="Cnc25D 0.1.3 documentation" href="index.html" />
    <link rel="next" title="CNC Cut Outline" href="cnc_cut_outline.html" />
    <link rel="prev" title="Box Wood Frame Design" href="box_wood_frame_design.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Cnc25D 0.1.3 documentation</span></a></h1>
        <h2 class="heading"><span>Cnc25D Internals</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="box_wood_frame_design.html">Box Wood Frame Design</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="cnc_cut_outline.html">CNC Cut Outline</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="cnc25d-internals">
<h1>Cnc25D Internals<a class="headerlink" href="#cnc25d-internals" title="Permalink to this headline">¶</a></h1>
<div class="section" id="file-layout">
<h2>1. File layout<a class="headerlink" href="#file-layout" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>Cnc25D/
  .gitignore
  CHANGES.rst         # Release change notes. Required by PyPI
  LICENSE.txt         # Applicable license
  MANIFEST            # automatically generated by the Python package distribution setup tools
  MANIFEST.in         # include addition files to the Python package distribution
  README.rst          # README used by GitHUb and PyPI
  setup.py            # Python package distribution setup file
  bin/                                    # contains binaries to be installed on the host system during the Cnc25D package installation
    cnc25d_example_generator_src.py       # source code of the cnc25d_example_generator.py script
    cnc25d_example_generator.py           # generated by scr/micropreprocessor.py
  cnc25d/                             # the main package
    __init__.py
    importing_freecad.py              # lets import the FreeCAD libraries
    cnc_cut_outline.py                # cnc25d API to design parts
    export_2d.py                      # cnc25d API to export DXF or SVG
    box_wood_frame.py                 # box_wood_frame design example
    tests/                       # contains the test files of the cnc25d package
      __init__.py
      importing_cnc25d.py        # modify sys.path to import the cnc25d library
      cnc25d_api_macro.py        # usage example of the cnc25d API. Reused by cnc25d_example_generator.py. Can not be executed directly.
      cnc25d_api_test.py         # executable wrapper of cnc25d_api_macro.py
      box_wood_frame_macro.py    # usage example of box_wood_frame. Reused by cnc25d_example_generator.py. Can not be executed directly.
      box_wood_frame_test.py     # executable wrapper of box_wood_frame_macro.py
  docs/                               # cnc25d package documentation sources
    box_wood_frame.svg                # SVG draft
    box_wood_frame.txt                # text autmatically extracted from the SVG draft
    cnc25d_api.rst                    # source of the Sphinx generated documentation
    index.rst                         # top file of the Sphinx documentation sources
    conf.py                           # Sphinx configuration
    Makefile                          # make clean html to rebuild the documentation
    images/                           # contains the images used by the Sphinx documentation
      3_axis_cnc.png
  scr/                                          # additional scripts for developers
    micropreprocessor.py                        # lets generate cnc25d_example_generator.py
    note_on_cnc25d_dev.txt                      # notes for developers</pre>
</div>
<img alt="_images/cnc25d_file_dependency.png" src="_images/cnc25d_file_dependency.png" />
</div>
<div class="section" id="design-example-generation">
<h2>2. Design example generation<a class="headerlink" href="#design-example-generation" title="Permalink to this headline">¶</a></h2>
<p>The binary script <em>cnc25d_example_generator.py</em> just writes example scripts. These example scripts are actually the files <em>cnc25d/tests/cnc25d_api_macro.py</em> and <em>cnc25d/tests/box_wood_frame_macro.py</em>. To check these example scripts, you must run their wrapper <em>scripts cnc25d/tests/cnc25d_api_test.py</em> and <em>cnc25d/tests/box_wood_frame_test.py</em>.</p>
<p>Because of the Python package workflow, the example scripts can not be copied after the installation and must be embedded in the binary script <em>cnc25d_example_generator.py</em> before the creation of the Python package distribution. This is the purpose of the script <em>scr/micropreprocessor.py</em>. The file <em>bin/cnc25d_example_generator_src.py</em> contains the skeleton of the script <em>bin/cnc25d_example_generator.py</em>. The following command include the example scripts to generate the final script <em>bin/cnc25d_example_generator.py</em>:</p>
<div class="highlight-python"><pre>&gt; scr/micropreprocessor.py bin/cnc25d_example_generator_src.py</pre>
</div>
<p>The purpose of this workflow is to help the maintenance of the generated example scripts and avoid bugs in their content.</p>
<p>To create a new design example, follow those steps:</p>
<ul>
<li><p class="first">Create the new design example file in the directory <em>Cnc25D/cnc25d/tests/</em> with a file name such as <em>my_new_design_macro.py</em></p>
</li>
<li><p class="first">Create a wrapper script (eg: <em>my_new_design_test.py</em>) in the same directory that imports the cnc25d package to let run the script <em>my_new_design_macro.py</em></p>
</li>
<li><p class="first">Add the few lines in the file <em>Cnc25D/bin/cnc25d_example_generator_src.py</em> that includes the new script <em>Cnc25D/cnc25d/tests/my_new_design_macro.py</em></p>
</li>
<li><p class="first">Regenerate <em>Cnc25D/bin/cnc25d_example_generator.py</em> with the command:</p>
<div class="highlight-python"><pre>&gt; scr/micropreprocessor.py bin/cnc25d_example_generator_src.py</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="python-package-distribution-release">
<h2>3. Python package distribution release<a class="headerlink" href="#python-package-distribution-release" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="documentation-process">
<h2>4. Documentation process<a class="headerlink" href="#documentation-process" title="Permalink to this headline">¶</a></h2>
<p><em>SVG</em> files are edited with <a class="reference external" href="http://inkscape.org/">Inkscape</a> and are use as draft documents for pictures and texts. If you want to modify one of the <em>PNG</em> of the documentation, you can find the vectorial source in one of the <em>SVG</em> files. After modifying the <em>SVG</em>, save it and export the picture as <em>PNG</em> in the directory <em>docs/images/</em>.</p>
<p>A good practice is to use a <em>SVG</em> document with a width of 600 pixels. It helps creating not too large pictures for a nice fitting in <em>html</em> and <em>pdf</em> documents. Extend the height of the <em>SVG</em> document as much as you need it.</p>
<p>Texts can be extracted from the <em>SVG</em> files with the command:</p>
<div class="highlight-python"><pre>&gt; scr/svg2txt.py docs/*.svg</pre>
</div>
<p>The generated <em>txt</em> files are used for checking spelling and are raw material for the <em>reStructuredText</em> files.</p>
<p>The sources of the <a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> documentation are only the <em>reStructuredText</em> files (*.rst) and the <em>PNG</em> files (*.png).</p>
<img alt="_images/documentation_process.png" src="_images/documentation_process.png" />
</div>
<div class="section" id="design-example-recommendations">
<h2>5. Design example recommendations<a class="headerlink" href="#design-example-recommendations" title="Permalink to this headline">¶</a></h2>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="box_wood_frame_design.html">Box Wood Frame Design</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="cnc_cut_outline.html">CNC Cut Outline</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, charlyoleg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>