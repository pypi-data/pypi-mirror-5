{% load i18n sizeformat %}
<h3>{% trans "Cluster Overview" %}</h3>
<div class="status row-fluid detail">
    <dl>
        <dt>{% trans "Name" %}</dt>
        <dd>{{ cluster.name }}</dd>
        <dt>{% trans "ID" %}</dt>
        <dd>{{ cluster.id }}</dd>
        <dt>{% trans "Description" %}</dt>
        <dd>{{ cluster.description|default:"None" }}</dd>
    </dl>
    <dl>
        <dt>{% trans "Plugin" %}</dt>
        <dd><a href="/savanna/plugins/{{ cluster.plugin_name }}">{{ cluster.plugin_name }}</a></dd>
        <dt>{% trans "Hadoop Version" %}</dt>
        <dd>{{ cluster.hadoop_version }}</dd>
    </dl>
    <dl>
        <dt>{% trans "Template" %}</dt>
        {% if cluster_template %}
            <dd><a href="/savanna/cluster_templates/{{ cluster_template.id }}">{{ cluster_template.name }} </a></dd>
        {% else %}
            <dd>{% trans "Template not specified" %}</dd>
        {% endif %}
        <dt>{% trans "Base Image" %}</dt>
        <dd>{{ base_image.name }}</dd>
        <dt>{% trans "Keypair" %}</dt>
        <dd>{{ cluster.user_keypair_id }}</dd>
    </dl>
    <dl>
        <dt>{% trans "Anti-affinity enabled for" %}</dt>
        {% if cluster.anti_affinity %}
            <dd>
                <ul>
                {% for process in cluster.anti_affinity %}
                    <li>{{ process }}</li>
                {% endfor %}
                </ul>
            </dd>
        {% else %}
            <h6>{% trans "no processes" %}</h6>
        {% endif %}
    </dl>
    <dl>
    <dt>{% trans "Node Configurations" %}</dt>
        {% if cluster.cluster_configs %}
            <dd>
                {% for service, service_conf in cluster.cluster_configs.items %}
                    <h4>{{ service }}</h4>
                    {% if service_conf %}
                    <ul>
                    {% for conf_name, conf_value in service_conf.items %}
                        <li>{{ conf_name }}:&nbsp{{ conf_value }}</li>
                    {% endfor %}
                    </ul>
                    {% else %}
                    <h6>No configurations</h6>
                    {% endif %}
                {% endfor %}
            </dd>
        {% else %}
            <dd>{% trans "Cluster configurations are not specified" %}</dd>
        {% endif %}
    </dl>

    <dl>
        {% for info_key, info_val in cluster.info.items %}
        <dt>{{ info_key }}</dt>
            {% for key, val in info_val.items %}
                <dd>{{ key }}:&nbsp{% autoescape off %}{{ val }}{% endautoescape %}</dd>
            {% endfor %}
        {% endfor %}
    </dl>
</div>
