<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>		<html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>		<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">

      <title>nflgame API documentation</title>
      <meta name="description" content="An API to retrieve and read NFL Game Center JSON data.
It can work with real-time data, which can be...">

  
  <style type="text/css">
  
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    background: #ddd;
    height: 100%;
  }

  #container {
    width: 840px;
    background-color: #fdfdfd;
    color: #111;
    margin: 0 auto;
    border-left: 1px solid #000;
    border-right: 1px solid #000;
    padding: 10px 25px;
    min-height: 100%;
  }

  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    top: 5px;
    left: 5px;
    font-size: 140%;
  }

  h1 {
    margin: 0 0 10px 0;
  }

  h2 {
    margin: 25px 0 10px 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
  }

  a:hover {
    color: #e08524;
  }

  p {
    line-height: 1.35em;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .ident {
    color: #900;
  }

  code {
    background: #e8e8e8;
  } 

  pre {
    background: #e8e8e8;
    padding: 6px;
    margin: 0 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }

  ul#index {
    padding: 0;
    margin: 0;
  }

    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }

    ul#index li {
      margin-bottom: 18px;
    }

      ul#index ul li {
        margin-bottom: 8px;
      }

    ul#index, ul#index ul {
      list-style-type: none;
    }

    ul#index ul {
      margin: 0 0 10px 20px;
      padding: 0;
    }

  .column_list {
    width: 100%;
    display: inline-block;
    margin-left: 20px;
  }

  .column_list:after {
    visibility: hidden;
    display: block;
    font-size: 0;
    height: 0;
    content: " ";
    clear: both;
  }

    .column_list ul {
      float: left;
      text-align: left;
      width: 32%;
      margin: 0 !important;
    }

  .item {
    margin: 0 0 25px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #e8e8e8;
      padding: 4px;
      margin: 0 0 8px 0;
      font-size: 110%;
      font-weight: bold;
    }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 10px 0;
      padding: 0 8px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 10px 8px 0 8px;
      padding: 0;
    }

    .source_link {
      font-weight: bold;
    }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }

  /*****************************/

  </style>

    <style type="text/css">
    .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
    function toggle(id, $link) {
      $node = document.getElementById(id);
      if (!$node)
        return;
      if (!$node.style.display || $node.style.display == 'none') {
        $node.style.display = 'block';
        $link.innerHTML = 'Hide source.';
      } else {
        $node.style.display = 'none';
        $link.innerHTML = 'Show source.';
      }
    }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">

    
  

  


  <h1>Module nflgame</h1>
  <p>An API to retrieve and read NFL Game Center JSON data.
It can work with real-time data, which can be used for fantasy football.</p>
<p>nflgame works by parsing the same JSON data that powers NFL.com's live
GameCenter. Therefore, nflgame can be used to report game statistics while
a game is being played.</p>
<p>The package comes pre-loaded with game data from every pre- and regular
season game from 2009 up until August 28, 2012. Therefore, querying such data
does not actually ping NFL.com.</p>
<p>However, if you try to search for data in a game that is being currently
played, the JSON data will be downloaded from NFL.com at each request (so be
careful not to inspect for data too many times while a game is being played).
If you ask for data for a particular game that hasn't been cached to disk
but is no longer being played, it will be automatically cached to disk
so that no further downloads are required.</p>
<p>nflgame requires Python 2.6 or Python 2.7. It does not (yet) work with
Python 3.</p>
<h1>Examples</h1>
<h2>Finding games</h2>
<p>Games can be selected in bulk, e.g., every game in week 1 of 2010::</p>
<div class="codehilite"><pre><span class="n">games</span> <span class="o">=</span> <span class="n">nflgame</span><span class="p">.</span><span class="n">games</span><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="n">week</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<p>Or pin-pointed exactly, e.g., the Patriots week 17 whomping against the Bills::</p>
<div class="codehilite"><pre><span class="n">game</span> <span class="o">=</span> <span class="n">nflgame</span><span class="p">.</span><span class="n">one</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="s">&quot;NE&quot;</span><span class="p">,</span> <span class="s">&quot;BUF&quot;</span><span class="p">)</span>
</pre></div>


<p>This season's (2012) pre-season games can also be accessed::</p>
<div class="codehilite"><pre><span class="n">pregames</span> <span class="o">=</span> <span class="n">nflgame</span><span class="p">.</span><span class="n">games</span><span class="p">(</span><span class="mi">2012</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="err">&#39;</span><span class="n">PRE</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>


<h2>Find passing leaders of a game</h2>
<p>Given some game, the player statistics can be easily searched. For example,
to find the passing leaders of a particular game::</p>
<div class="codehilite"><pre><span class="k">for</span> <span class="n">p</span> <span class="n">in</span> <span class="n">game</span><span class="p">.</span><span class="n">players</span><span class="p">.</span><span class="n">passing</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">&quot;passing_yds&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">passing_att</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">passing_cmp</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">passing_yds</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">passing_tds</span>
</pre></div>


<p>Output::</p>
<div class="codehilite"><pre><span class="n">T</span><span class="p">.</span><span class="n">Brady</span> <span class="mi">35</span> <span class="mi">23</span> <span class="mi">338</span> <span class="mi">3</span>
<span class="n">R</span><span class="p">.</span><span class="n">Fitzpatrick</span> <span class="mi">46</span> <span class="mi">29</span> <span class="mi">307</span> <span class="mi">2</span>
<span class="n">B</span><span class="p">.</span><span class="n">Hoyer</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">22</span> <span class="mi">0</span>
</pre></div>


<h2>See every player that made an interception</h2>
<p>We can filter all players on whether they had more than zero defensive
interceptions, and then sort those players by the number of picks::</p>
<div class="codehilite"><pre><span class="k">for</span> <span class="n">p</span> <span class="n">in</span> <span class="n">game</span><span class="p">.</span><span class="n">players</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">defense_int</span><span class="o">=</span><span class="n">lambda</span> <span class="n">x</span><span class="o">:</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">).</span><span class="n">sort</span><span class="p">(</span><span class="s">&quot;defense_int&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">defense_int</span>
</pre></div>


<p>Output::</p>
<div class="codehilite"><pre><span class="n">S</span><span class="p">.</span><span class="n">Moore</span> <span class="mi">2</span>
<span class="n">A</span><span class="p">.</span><span class="n">Molden</span> <span class="mi">1</span>
<span class="n">D</span><span class="p">.</span><span class="n">McCourty</span> <span class="mi">1</span>
<span class="n">N</span><span class="p">.</span><span class="n">Barnett</span> <span class="mi">1</span>
</pre></div>


<h2>Finding weekly rushing leaders</h2>
<p>Sequences of players can be added together, and their sum can then be used
like any other sequence of players. For example, to get every player
that played in week 10 of 2009::</p>
<div class="codehilite"><pre><span class="n">week10</span> <span class="o">=</span> <span class="n">nflgame</span><span class="p">.</span><span class="n">games</span><span class="p">(</span><span class="mi">2009</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">players</span> <span class="o">=</span> <span class="n">nflgame</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">week10</span><span class="p">)</span>
</pre></div>


<p>And then to list all rushers with at least 10 carries sorted by rushing yards::</p>
<div class="codehilite"><pre><span class="n">rushers</span> <span class="o">=</span> <span class="n">players</span><span class="p">.</span><span class="n">rushing</span><span class="p">()</span>
<span class="k">for</span> <span class="n">p</span> <span class="n">in</span> <span class="n">rushers</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">rushing_att</span><span class="o">=</span><span class="n">lambda</span> <span class="n">x</span><span class="o">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">).</span><span class="n">sort</span><span class="p">(</span><span class="s">&quot;rushing_yds&quot;</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">rushing_att</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">rushing_yds</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">rushing_tds</span>
</pre></div>


<p>And the final output::</p>
<div class="codehilite"><pre><span class="n">A</span><span class="p">.</span><span class="n">Peterson</span> <span class="mi">18</span> <span class="mi">133</span> <span class="mi">2</span>
<span class="n">C</span><span class="p">.</span><span class="n">Johnson</span> <span class="mi">26</span> <span class="mi">132</span> <span class="mi">2</span>
<span class="n">S</span><span class="p">.</span><span class="n">Jackson</span> <span class="mi">26</span> <span class="mi">131</span> <span class="mi">1</span>
<span class="n">M</span><span class="p">.</span><span class="n">Jones</span><span class="o">-</span><span class="n">Drew</span> <span class="mi">24</span> <span class="mi">123</span> <span class="mi">1</span>
<span class="n">J</span><span class="p">.</span><span class="n">Forsett</span> <span class="mi">17</span> <span class="mi">123</span> <span class="mi">1</span>
<span class="n">M</span><span class="p">.</span><span class="n">Bush</span> <span class="mi">14</span> <span class="mi">119</span> <span class="mi">0</span>
<span class="n">L</span><span class="p">.</span><span class="n">Betts</span> <span class="mi">26</span> <span class="mi">114</span> <span class="mi">1</span>
<span class="n">F</span><span class="p">.</span><span class="n">Gore</span> <span class="mi">25</span> <span class="mi">104</span> <span class="mi">1</span>
<span class="n">J</span><span class="p">.</span><span class="n">Charles</span> <span class="mi">18</span> <span class="mi">103</span> <span class="mi">1</span>
<span class="n">R</span><span class="p">.</span><span class="n">Williams</span> <span class="mi">20</span> <span class="mi">102</span> <span class="mi">0</span>
<span class="n">K</span><span class="p">.</span><span class="n">Moreno</span> <span class="mi">18</span> <span class="mi">97</span> <span class="mi">0</span>
<span class="n">L</span><span class="p">.</span><span class="n">Tomlinson</span> <span class="mi">24</span> <span class="mi">96</span> <span class="mi">2</span>
<span class="n">D</span><span class="p">.</span><span class="n">Williams</span> <span class="mi">19</span> <span class="mi">92</span> <span class="mi">0</span>
<span class="n">R</span><span class="p">.</span><span class="n">Rice</span> <span class="mi">20</span> <span class="mi">89</span> <span class="mi">1</span>
<span class="n">C</span><span class="p">.</span><span class="n">Wells</span> <span class="mi">16</span> <span class="mi">85</span> <span class="mi">2</span>
<span class="n">J</span><span class="p">.</span><span class="n">Stewart</span> <span class="mi">11</span> <span class="mi">82</span> <span class="mi">2</span>
<span class="n">R</span><span class="p">.</span><span class="n">Brown</span> <span class="mi">12</span> <span class="mi">82</span> <span class="mi">1</span>
<span class="n">R</span><span class="p">.</span><span class="n">Grant</span> <span class="mi">19</span> <span class="mi">79</span> <span class="mi">0</span>
<span class="n">K</span><span class="p">.</span><span class="n">Faulk</span> <span class="mi">12</span> <span class="mi">79</span> <span class="mi">0</span>
<span class="n">T</span><span class="p">.</span><span class="n">Jones</span> <span class="mi">21</span> <span class="mi">77</span> <span class="mi">1</span>
<span class="n">J</span><span class="p">.</span><span class="n">Snelling</span> <span class="mi">18</span> <span class="mi">61</span> <span class="mi">1</span>
<span class="n">K</span><span class="p">.</span><span class="n">Smith</span> <span class="mi">12</span> <span class="mi">55</span> <span class="mi">0</span>
<span class="n">C</span><span class="p">.</span><span class="n">Williams</span> <span class="mi">14</span> <span class="mi">52</span> <span class="mi">1</span>
<span class="n">M</span><span class="p">.</span><span class="n">Forte</span> <span class="mi">20</span> <span class="mi">41</span> <span class="mi">0</span>
<span class="n">P</span><span class="p">.</span><span class="n">Thomas</span> <span class="mi">11</span> <span class="mi">37</span> <span class="mi">0</span>
<span class="n">R</span><span class="p">.</span><span class="n">Mendenhall</span> <span class="mi">13</span> <span class="mi">36</span> <span class="mi">0</span>
<span class="n">W</span><span class="p">.</span><span class="n">McGahee</span> <span class="mi">13</span> <span class="mi">35</span> <span class="mi">0</span>
<span class="n">B</span><span class="p">.</span><span class="n">Scott</span> <span class="mi">13</span> <span class="mi">33</span> <span class="mi">0</span>
<span class="n">L</span><span class="p">.</span><span class="n">Maroney</span> <span class="mi">13</span> <span class="mi">31</span> <span class="mi">1</span>
</pre></div>


<p>You could do the same for the entire 2009 season::</p>
<div class="codehilite"><pre><span class="n">players</span> <span class="o">=</span> <span class="n">nflgame</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">nflgame</span><span class="p">.</span><span class="n">games</span><span class="p">(</span><span class="mi">2009</span><span class="p">))</span>
<span class="k">for</span> <span class="n">p</span> <span class="n">in</span> <span class="n">players</span><span class="p">.</span><span class="n">rushing</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">&quot;rushing_yds&quot;</span><span class="p">).</span><span class="n">limit</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="o">:</span>
    <span class="n">print</span> <span class="n">p</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">rushing_att</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">rushing_yds</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">rushing_tds</span>
</pre></div>


<p>And the output::</p>
<div class="codehilite"><pre><span class="n">C</span><span class="p">.</span><span class="n">Johnson</span> <span class="mi">322</span> <span class="mi">1872</span> <span class="mi">12</span>
<span class="n">S</span><span class="p">.</span><span class="n">Jackson</span> <span class="mi">305</span> <span class="mi">1361</span> <span class="mi">4</span>
<span class="n">A</span><span class="p">.</span><span class="n">Peterson</span> <span class="mi">306</span> <span class="mi">1335</span> <span class="mi">17</span>
<span class="n">T</span><span class="p">.</span><span class="n">Jones</span> <span class="mi">305</span> <span class="mi">1324</span> <span class="mi">12</span>
<span class="n">M</span><span class="p">.</span><span class="n">Jones</span><span class="o">-</span><span class="n">Drew</span> <span class="mi">296</span> <span class="mi">1309</span> <span class="mi">15</span>
<span class="n">R</span><span class="p">.</span><span class="n">Rice</span> <span class="mi">240</span> <span class="mi">1269</span> <span class="mi">7</span>
<span class="n">R</span><span class="p">.</span><span class="n">Grant</span> <span class="mi">271</span> <span class="mi">1202</span> <span class="mi">10</span>
<span class="n">C</span><span class="p">.</span><span class="n">Benson</span> <span class="mi">272</span> <span class="mi">1118</span> <span class="mi">6</span>
<span class="n">D</span><span class="p">.</span><span class="n">Williams</span> <span class="mi">210</span> <span class="mi">1104</span> <span class="mi">7</span>
<span class="n">R</span><span class="p">.</span><span class="n">Williams</span> <span class="mi">229</span> <span class="mi">1090</span> <span class="mi">11</span>
<span class="n">R</span><span class="p">.</span><span class="n">Mendenhall</span> <span class="mi">222</span> <span class="mi">1014</span> <span class="mi">7</span>
<span class="n">F</span><span class="p">.</span><span class="n">Gore</span> <span class="mi">206</span> <span class="mi">1013</span> <span class="mi">8</span>
<span class="n">J</span><span class="p">.</span><span class="n">Stewart</span> <span class="mi">205</span> <span class="mi">1008</span> <span class="mi">9</span>
<span class="n">K</span><span class="p">.</span><span class="n">Moreno</span> <span class="mi">233</span> <span class="mi">897</span> <span class="mi">5</span>
<span class="n">M</span><span class="p">.</span><span class="n">Turner</span> <span class="mi">177</span> <span class="mi">864</span> <span class="mi">10</span>
<span class="n">J</span><span class="p">.</span><span class="n">Charles</span> <span class="mi">165</span> <span class="mi">861</span> <span class="mi">5</span>
<span class="n">F</span><span class="p">.</span><span class="n">Jackson</span> <span class="mi">205</span> <span class="mi">850</span> <span class="mi">2</span>
<span class="n">M</span><span class="p">.</span><span class="n">Barber</span> <span class="mi">200</span> <span class="mi">841</span> <span class="mi">7</span>
<span class="n">B</span><span class="p">.</span><span class="n">Jacobs</span> <span class="mi">218</span> <span class="mi">834</span> <span class="mi">5</span>
<span class="n">M</span><span class="p">.</span><span class="n">Forte</span> <span class="mi">242</span> <span class="mi">828</span> <span class="mi">4</span>
<span class="n">J</span><span class="p">.</span><span class="n">Addai</span> <span class="mi">213</span> <span class="mi">788</span> <span class="mi">9</span>
<span class="n">C</span><span class="p">.</span><span class="n">Williams</span> <span class="mi">190</span> <span class="mi">776</span> <span class="mi">4</span>
<span class="n">C</span><span class="p">.</span><span class="n">Wells</span> <span class="mi">170</span> <span class="mi">774</span> <span class="mi">7</span>
<span class="n">A</span><span class="p">.</span><span class="n">Bradshaw</span> <span class="mi">156</span> <span class="mi">765</span> <span class="mi">7</span>
<span class="n">L</span><span class="p">.</span><span class="n">Maroney</span> <span class="mi">189</span> <span class="mi">735</span> <span class="mi">9</span>
<span class="n">J</span><span class="p">.</span><span class="n">Harrison</span> <span class="mi">161</span> <span class="mi">735</span> <span class="mi">4</span>
<span class="n">P</span><span class="p">.</span><span class="n">Thomas</span> <span class="mi">141</span> <span class="mi">733</span> <span class="mi">5</span>
<span class="n">L</span><span class="p">.</span><span class="n">Tomlinson</span> <span class="mi">221</span> <span class="mi">729</span> <span class="mi">12</span>
<span class="n">Kv</span><span class="p">.</span><span class="n">Smith</span> <span class="mi">196</span> <span class="mi">678</span> <span class="mi">4</span>
<span class="n">L</span><span class="p">.</span><span class="n">McCoy</span> <span class="mi">154</span> <span class="mi">633</span> <span class="mi">4</span>
<span class="n">M</span><span class="p">.</span><span class="n">Bell</span> <span class="mi">155</span> <span class="mi">626</span> <span class="mi">5</span>
<span class="n">C</span><span class="p">.</span><span class="n">Buckhalter</span> <span class="mi">114</span> <span class="mi">624</span> <span class="mi">1</span>
<span class="n">J</span><span class="p">.</span><span class="n">Jones</span> <span class="mi">163</span> <span class="mi">602</span> <span class="mi">2</span>
<span class="n">F</span><span class="p">.</span><span class="n">Jones</span> <span class="mi">101</span> <span class="mi">594</span> <span class="mi">2</span>
<span class="n">T</span><span class="p">.</span><span class="n">Hightower</span> <span class="mi">137</span> <span class="mi">574</span> <span class="mi">8</span>
</pre></div>


<h2>Load data into Excel</h2>
<p>Every sequence of Players can be easily dumped into a file formatted
as comma-separated values (CSV). CSV files can then be opened directly
with programs like Excel, Google Docs, Open Office and Libre Office.</p>
<p>You could dump every statistic from a game like so::</p>
<div class="codehilite"><pre><span class="n">game</span><span class="p">.</span><span class="n">players</span><span class="p">.</span><span class="n">csv</span><span class="p">(</span><span class="err">&#39;</span><span class="n">player</span><span class="o">-</span><span class="n">stats</span><span class="p">.</span><span class="n">csv</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>


<p>Or if you want to get crazy, you could dump the statistics of every player
from an entire season::</p>
<div class="codehilite"><pre><span class="n">nflgame</span><span class="p">.</span><span class="n">combine</span><span class="p">(</span><span class="n">nflgame</span><span class="p">.</span><span class="n">games</span><span class="p">(</span><span class="mi">2010</span><span class="p">)).</span><span class="n">csv</span><span class="p">(</span><span class="err">&#39;</span><span class="n">season2010</span><span class="p">.</span><span class="n">csv</span><span class="err">&#39;</span><span class="p">)</span>
</pre></div>
  
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame', this);">Show source.</a></p>
    <div id="source-nflgame" class="source">
      <div class="codehilite"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">An API to retrieve and read NFL Game Center JSON data.</span>
<span class="sd">It can work with real-time data, which can be used for fantasy football.</span>

<span class="sd">nflgame works by parsing the same JSON data that powers NFL.com&#39;s live</span>
<span class="sd">GameCenter. Therefore, nflgame can be used to report game statistics while</span>
<span class="sd">a game is being played.</span>

<span class="sd">The package comes pre-loaded with game data from every pre- and regular</span>
<span class="sd">season game from 2009 up until August 28, 2012. Therefore, querying such data</span>
<span class="sd">does not actually ping NFL.com.</span>

<span class="sd">However, if you try to search for data in a game that is being currently</span>
<span class="sd">played, the JSON data will be downloaded from NFL.com at each request (so be</span>
<span class="sd">careful not to inspect for data too many times while a game is being played).</span>
<span class="sd">If you ask for data for a particular game that hasn&#39;t been cached to disk</span>
<span class="sd">but is no longer being played, it will be automatically cached to disk</span>
<span class="sd">so that no further downloads are required.</span>

<span class="sd">nflgame requires Python 2.6 or Python 2.7. It does not (yet) work with</span>
<span class="sd">Python 3.</span>

<span class="sd">Examples</span>
<span class="sd">========</span>

<span class="sd">Finding games</span>
<span class="sd">-------------</span>
<span class="sd">Games can be selected in bulk, e.g., every game in week 1 of 2010::</span>

<span class="sd">    games = nflgame.games(2010, week=1)</span>

<span class="sd">Or pin-pointed exactly, e.g., the Patriots week 17 whomping against the Bills::</span>

<span class="sd">    game = nflgame.one(2011, 17, &quot;NE&quot;, &quot;BUF&quot;)</span>

<span class="sd">This season&#39;s (2012) pre-season games can also be accessed::</span>

<span class="sd">    pregames = nflgame.games(2012, kind=&#39;PRE&#39;)</span>

<span class="sd">Find passing leaders of a game</span>
<span class="sd">------------------------------</span>
<span class="sd">Given some game, the player statistics can be easily searched. For example,</span>
<span class="sd">to find the passing leaders of a particular game::</span>

<span class="sd">    for p in game.players.passing().sort(&quot;passing_yds&quot;):</span>
<span class="sd">        print p, p.passing_att, p.passing_cmp, p.passing_yds, p.passing_tds</span>

<span class="sd">Output::</span>

<span class="sd">    T.Brady 35 23 338 3</span>
<span class="sd">    R.Fitzpatrick 46 29 307 2</span>
<span class="sd">    B.Hoyer 1 1 22 0</span>

<span class="sd">See every player that made an interception</span>
<span class="sd">------------------------------------------</span>
<span class="sd">We can filter all players on whether they had more than zero defensive</span>
<span class="sd">interceptions, and then sort those players by the number of picks::</span>

<span class="sd">    for p in game.players.filter(defense_int=lambda x:x&gt;0).sort(&quot;defense_int&quot;):</span>
<span class="sd">        print p, p.defense_int</span>

<span class="sd">Output::</span>

<span class="sd">    S.Moore 2</span>
<span class="sd">    A.Molden 1</span>
<span class="sd">    D.McCourty 1</span>
<span class="sd">    N.Barnett 1</span>

<span class="sd">Finding weekly rushing leaders</span>
<span class="sd">------------------------------</span>
<span class="sd">Sequences of players can be added together, and their sum can then be used</span>
<span class="sd">like any other sequence of players. For example, to get every player</span>
<span class="sd">that played in week 10 of 2009::</span>

<span class="sd">    week10 = nflgame.games(2009, 10)</span>
<span class="sd">    players = nflgame.combine(week10)</span>

<span class="sd">And then to list all rushers with at least 10 carries sorted by rushing yards::</span>

<span class="sd">    rushers = players.rushing()</span>
<span class="sd">    for p in rushers.filter(rushing_att=lambda x: x &gt; 10).sort(&quot;rushing_yds&quot;):</span>
<span class="sd">        print p, p.rushing_att, p.rushing_yds, p.rushing_tds</span>

<span class="sd">And the final output::</span>

<span class="sd">    A.Peterson 18 133 2</span>
<span class="sd">    C.Johnson 26 132 2</span>
<span class="sd">    S.Jackson 26 131 1</span>
<span class="sd">    M.Jones-Drew 24 123 1</span>
<span class="sd">    J.Forsett 17 123 1</span>
<span class="sd">    M.Bush 14 119 0</span>
<span class="sd">    L.Betts 26 114 1</span>
<span class="sd">    F.Gore 25 104 1</span>
<span class="sd">    J.Charles 18 103 1</span>
<span class="sd">    R.Williams 20 102 0</span>
<span class="sd">    K.Moreno 18 97 0</span>
<span class="sd">    L.Tomlinson 24 96 2</span>
<span class="sd">    D.Williams 19 92 0</span>
<span class="sd">    R.Rice 20 89 1</span>
<span class="sd">    C.Wells 16 85 2</span>
<span class="sd">    J.Stewart 11 82 2</span>
<span class="sd">    R.Brown 12 82 1</span>
<span class="sd">    R.Grant 19 79 0</span>
<span class="sd">    K.Faulk 12 79 0</span>
<span class="sd">    T.Jones 21 77 1</span>
<span class="sd">    J.Snelling 18 61 1</span>
<span class="sd">    K.Smith 12 55 0</span>
<span class="sd">    C.Williams 14 52 1</span>
<span class="sd">    M.Forte 20 41 0</span>
<span class="sd">    P.Thomas 11 37 0</span>
<span class="sd">    R.Mendenhall 13 36 0</span>
<span class="sd">    W.McGahee 13 35 0</span>
<span class="sd">    B.Scott 13 33 0</span>
<span class="sd">    L.Maroney 13 31 1</span>

<span class="sd">You could do the same for the entire 2009 season::</span>

<span class="sd">    players = nflgame.combine(nflgame.games(2009))</span>
<span class="sd">    for p in players.rushing().sort(&quot;rushing_yds&quot;).limit(35):</span>
<span class="sd">        print p, p.rushing_att, p.rushing_yds, p.rushing_tds</span>

<span class="sd">And the output::</span>

<span class="sd">    C.Johnson 322 1872 12</span>
<span class="sd">    S.Jackson 305 1361 4</span>
<span class="sd">    A.Peterson 306 1335 17</span>
<span class="sd">    T.Jones 305 1324 12</span>
<span class="sd">    M.Jones-Drew 296 1309 15</span>
<span class="sd">    R.Rice 240 1269 7</span>
<span class="sd">    R.Grant 271 1202 10</span>
<span class="sd">    C.Benson 272 1118 6</span>
<span class="sd">    D.Williams 210 1104 7</span>
<span class="sd">    R.Williams 229 1090 11</span>
<span class="sd">    R.Mendenhall 222 1014 7</span>
<span class="sd">    F.Gore 206 1013 8</span>
<span class="sd">    J.Stewart 205 1008 9</span>
<span class="sd">    K.Moreno 233 897 5</span>
<span class="sd">    M.Turner 177 864 10</span>
<span class="sd">    J.Charles 165 861 5</span>
<span class="sd">    F.Jackson 205 850 2</span>
<span class="sd">    M.Barber 200 841 7</span>
<span class="sd">    B.Jacobs 218 834 5</span>
<span class="sd">    M.Forte 242 828 4</span>
<span class="sd">    J.Addai 213 788 9</span>
<span class="sd">    C.Williams 190 776 4</span>
<span class="sd">    C.Wells 170 774 7</span>
<span class="sd">    A.Bradshaw 156 765 7</span>
<span class="sd">    L.Maroney 189 735 9</span>
<span class="sd">    J.Harrison 161 735 4</span>
<span class="sd">    P.Thomas 141 733 5</span>
<span class="sd">    L.Tomlinson 221 729 12</span>
<span class="sd">    Kv.Smith 196 678 4</span>
<span class="sd">    L.McCoy 154 633 4</span>
<span class="sd">    M.Bell 155 626 5</span>
<span class="sd">    C.Buckhalter 114 624 1</span>
<span class="sd">    J.Jones 163 602 2</span>
<span class="sd">    F.Jones 101 594 2</span>
<span class="sd">    T.Hightower 137 574 8</span>

<span class="sd">Load data into Excel</span>
<span class="sd">--------------------</span>
<span class="sd">Every sequence of Players can be easily dumped into a file formatted</span>
<span class="sd">as comma-separated values (CSV). CSV files can then be opened directly</span>
<span class="sd">with programs like Excel, Google Docs, Open Office and Libre Office.</span>

<span class="sd">You could dump every statistic from a game like so::</span>

<span class="sd">    game.players.csv(&#39;player-stats.csv&#39;)</span>

<span class="sd">Or if you want to get crazy, you could dump the statistics of every player</span>
<span class="sd">from an entire season::</span>

<span class="sd">    nflgame.combine(nflgame.games(2010)).csv(&#39;season2010.csv&#39;)</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">ordereddict</span> <span class="kn">import</span> <span class="n">OrderedDict</span>  <span class="c"># from PyPI</span>
<span class="kn">import</span> <span class="nn">itertools</span>

<span class="kn">import</span> <span class="nn">nflgame.game</span>
<span class="kn">import</span> <span class="nn">nflgame.live</span>
<span class="kn">import</span> <span class="nn">nflgame.player</span>
<span class="kn">import</span> <span class="nn">nflgame.schedule</span>
<span class="kn">import</span> <span class="nn">nflgame.seq</span>
<span class="kn">from</span> <span class="nn">nflgame.version</span> <span class="kn">import</span> <span class="n">__version__</span>

<span class="n">VERSION</span> <span class="o">=</span> <span class="n">__version__</span>  <span class="c"># Deprecated. Backwards compatibility.</span>

<span class="n">NoPlayers</span> <span class="o">=</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">seq</span><span class="o">.</span><span class="n">GenPlayerStats</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">NoPlayers corresponds to the identity element of a Players sequences.</span>

<span class="sd">Namely, adding it to any other Players sequence has no effect.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">players</span> <span class="o">=</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">player</span><span class="o">.</span><span class="n">_create_players</span><span class="p">()</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A dict of all players and meta information about each player keyed</span>
<span class="sd">by GSIS ID. (The identifiers used by NFL.com GameCenter.)</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">teams</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s">&#39;ARI&#39;</span><span class="p">,</span> <span class="s">&#39;Arizona&#39;</span><span class="p">,</span> <span class="s">&#39;Cardinals&#39;</span><span class="p">,</span> <span class="s">&#39;Arizona Cardinals&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;ATL&#39;</span><span class="p">,</span> <span class="s">&#39;Atlanta&#39;</span><span class="p">,</span> <span class="s">&#39;Falcons&#39;</span><span class="p">,</span> <span class="s">&#39;Atlana Falcons&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;BAL&#39;</span><span class="p">,</span> <span class="s">&#39;Baltimore&#39;</span><span class="p">,</span> <span class="s">&#39;Ravens&#39;</span><span class="p">,</span> <span class="s">&#39;Baltimore Ravens&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;BUF&#39;</span><span class="p">,</span> <span class="s">&#39;Buffalo&#39;</span><span class="p">,</span> <span class="s">&#39;Bills&#39;</span><span class="p">,</span> <span class="s">&#39;Buffalo Bills&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;CAR&#39;</span><span class="p">,</span> <span class="s">&#39;Carolina&#39;</span><span class="p">,</span> <span class="s">&#39;Panthers&#39;</span><span class="p">,</span> <span class="s">&#39;Caroline Panthers&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;CHI&#39;</span><span class="p">,</span> <span class="s">&#39;Chicago&#39;</span><span class="p">,</span> <span class="s">&#39;Bears&#39;</span><span class="p">,</span> <span class="s">&#39;Chicago Bears&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;CIN&#39;</span><span class="p">,</span> <span class="s">&#39;Cincinnati&#39;</span><span class="p">,</span> <span class="s">&#39;Bengals&#39;</span><span class="p">,</span> <span class="s">&#39;Cincinnati Bengals&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;CLE&#39;</span><span class="p">,</span> <span class="s">&#39;Cleveland&#39;</span><span class="p">,</span> <span class="s">&#39;Browns&#39;</span><span class="p">,</span> <span class="s">&#39;Cleveland Browns&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;DAL&#39;</span><span class="p">,</span> <span class="s">&#39;Dallas&#39;</span><span class="p">,</span> <span class="s">&#39;Cowboys&#39;</span><span class="p">,</span> <span class="s">&#39;Dallas Cowboys&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;DEN&#39;</span><span class="p">,</span> <span class="s">&#39;Denver&#39;</span><span class="p">,</span> <span class="s">&#39;Broncos&#39;</span><span class="p">,</span> <span class="s">&#39;Denver Broncos&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;DET&#39;</span><span class="p">,</span> <span class="s">&#39;Detroit&#39;</span><span class="p">,</span> <span class="s">&#39;Lions&#39;</span><span class="p">,</span> <span class="s">&#39;Detroit Lions&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;GB&#39;</span><span class="p">,</span> <span class="s">&#39;Green Bay&#39;</span><span class="p">,</span> <span class="s">&#39;Packers&#39;</span><span class="p">,</span> <span class="s">&#39;Green Bay Packers&#39;</span><span class="p">,</span> <span class="s">&#39;G.B.&#39;</span><span class="p">,</span> <span class="s">&#39;GNB&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;HOU&#39;</span><span class="p">,</span> <span class="s">&#39;Houston&#39;</span><span class="p">,</span> <span class="s">&#39;Texans&#39;</span><span class="p">,</span> <span class="s">&#39;Houston Texans&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;IND&#39;</span><span class="p">,</span> <span class="s">&#39;Indianapolis&#39;</span><span class="p">,</span> <span class="s">&#39;Colts&#39;</span><span class="p">,</span> <span class="s">&#39;Indianapolis Colts&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;JAC&#39;</span><span class="p">,</span> <span class="s">&#39;Jacksonville&#39;</span><span class="p">,</span> <span class="s">&#39;Jaguars&#39;</span><span class="p">,</span> <span class="s">&#39;Jacksonville Jaguars&#39;</span><span class="p">,</span> <span class="s">&#39;JAX&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;KC&#39;</span><span class="p">,</span> <span class="s">&#39;Kansas City&#39;</span><span class="p">,</span> <span class="s">&#39;Chiefs&#39;</span><span class="p">,</span> <span class="s">&#39;Kansas City Chiefs&#39;</span><span class="p">,</span> <span class="s">&#39;K.C.&#39;</span><span class="p">,</span> <span class="s">&#39;KAN&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;MIA&#39;</span><span class="p">,</span> <span class="s">&#39;Miami&#39;</span><span class="p">,</span> <span class="s">&#39;Dolphins&#39;</span><span class="p">,</span> <span class="s">&#39;Miami Dolphins&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;MIN&#39;</span><span class="p">,</span> <span class="s">&#39;Minnesota&#39;</span><span class="p">,</span> <span class="s">&#39;Vikings&#39;</span><span class="p">,</span> <span class="s">&#39;Minnesota Vikings&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;NE&#39;</span><span class="p">,</span> <span class="s">&#39;New England&#39;</span><span class="p">,</span> <span class="s">&#39;Patriots&#39;</span><span class="p">,</span> <span class="s">&#39;New England Patriots&#39;</span><span class="p">,</span> <span class="s">&#39;N.E.&#39;</span><span class="p">,</span> <span class="s">&#39;NWE&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;NO&#39;</span><span class="p">,</span> <span class="s">&#39;New Orleans&#39;</span><span class="p">,</span> <span class="s">&#39;Saints&#39;</span><span class="p">,</span> <span class="s">&#39;New Orleans Saints&#39;</span><span class="p">,</span> <span class="s">&#39;N.O.&#39;</span><span class="p">,</span> <span class="s">&#39;NOR&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;NYG&#39;</span><span class="p">,</span> <span class="s">&#39;Giants&#39;</span><span class="p">,</span> <span class="s">&#39;New York Giants&#39;</span><span class="p">,</span> <span class="s">&#39;N.Y.G.&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;NYJ&#39;</span><span class="p">,</span> <span class="s">&#39;Jets&#39;</span><span class="p">,</span> <span class="s">&#39;New York Jets&#39;</span><span class="p">,</span> <span class="s">&#39;N.Y.J.&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;OAK&#39;</span><span class="p">,</span> <span class="s">&#39;Oakland&#39;</span><span class="p">,</span> <span class="s">&#39;Raiders&#39;</span><span class="p">,</span> <span class="s">&#39;Oakland Raiders&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;PHI&#39;</span><span class="p">,</span> <span class="s">&#39;Philadelphia&#39;</span><span class="p">,</span> <span class="s">&#39;Eagles&#39;</span><span class="p">,</span> <span class="s">&#39;Philadelphia Eagles&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;PIT&#39;</span><span class="p">,</span> <span class="s">&#39;Pittsburgh&#39;</span><span class="p">,</span> <span class="s">&#39;Steelers&#39;</span><span class="p">,</span> <span class="s">&#39;Pittsburgh Steelers&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;SD&#39;</span><span class="p">,</span> <span class="s">&#39;San Diego&#39;</span><span class="p">,</span> <span class="s">&#39;Chargers&#39;</span><span class="p">,</span> <span class="s">&#39;San Diego Chargers&#39;</span><span class="p">,</span> <span class="s">&#39;S.D.&#39;</span><span class="p">,</span> <span class="s">&#39;SDG&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;SEA&#39;</span><span class="p">,</span> <span class="s">&#39;Seattle&#39;</span><span class="p">,</span> <span class="s">&#39;Seahawks&#39;</span><span class="p">,</span> <span class="s">&#39;Seattle Seahawks&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;SF&#39;</span><span class="p">,</span> <span class="s">&#39;San Francisco&#39;</span><span class="p">,</span> <span class="s">&#39;49ers&#39;</span><span class="p">,</span> <span class="s">&#39;San Francisco 49ers&#39;</span><span class="p">,</span> <span class="s">&#39;S.F.&#39;</span><span class="p">,</span> <span class="s">&#39;SFO&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;STL&#39;</span><span class="p">,</span> <span class="s">&#39;St. Louis&#39;</span><span class="p">,</span> <span class="s">&#39;Rams&#39;</span><span class="p">,</span> <span class="s">&#39;St. Louis Rams&#39;</span><span class="p">,</span> <span class="s">&#39;S.T.L.&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;TB&#39;</span><span class="p">,</span> <span class="s">&#39;Tampa Bay&#39;</span><span class="p">,</span> <span class="s">&#39;Buccaneers&#39;</span><span class="p">,</span> <span class="s">&#39;Tampa Bay Buccaneers&#39;</span><span class="p">,</span> <span class="s">&#39;T.B.&#39;</span><span class="p">,</span> <span class="s">&#39;TAM&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;TEN&#39;</span><span class="p">,</span> <span class="s">&#39;Tennessee&#39;</span><span class="p">,</span> <span class="s">&#39;Titans&#39;</span><span class="p">,</span> <span class="s">&#39;Tennessee Titans&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s">&#39;WAS&#39;</span><span class="p">,</span> <span class="s">&#39;Washington&#39;</span><span class="p">,</span> <span class="s">&#39;Redskins&#39;</span><span class="p">,</span> <span class="s">&#39;Washington Redskins&#39;</span><span class="p">,</span> <span class="s">&#39;WSH&#39;</span><span class="p">],</span>
<span class="p">]</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A list of all teams. Each item is a list of different ways to</span>
<span class="sd">describe a team. (i.e., JAC, JAX, Jacksonville, Jaguars, etc.).</span>
<span class="sd">The first item in each list is always the standard NFL.com</span>
<span class="sd">team abbreviation (two or three letters).</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Finds a player (or players) with a name matching (case insensitive)</span>
<span class="sd">    name and returns them as a list.</span>

<span class="sd">    If team is not None, it is used as an additional search constraint.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hits</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">players</span><span class="o">.</span><span class="n">itervalues</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">team</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">team</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">player</span><span class="o">.</span><span class="n">team</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">hits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">hits</span>


<span class="k">def</span> <span class="nf">standard_team</span><span class="p">(</span><span class="n">team</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a standard abbreviation when team corresponds to a team in</span>
<span class="sd">    nflgame.teams (case insensitive).  All known variants of a team name are</span>
<span class="sd">    searched. If no team is found, None is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">team</span> <span class="o">=</span> <span class="n">team</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">variants</span> <span class="ow">in</span> <span class="n">teams</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">variant</span> <span class="ow">in</span> <span class="n">variants</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">team</span> <span class="o">==</span> <span class="n">variant</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">variants</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">None</span>


<span class="k">def</span> <span class="nf">games</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">home</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">away</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span> <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    games returns a list of all games matching the given criteria. Each</span>
<span class="sd">    game can then be queried for player statistics and information about</span>
<span class="sd">    the game itself (score, winner, scoring plays, etc.).</span>

<span class="sd">    As a special case, if the home and away teams are set to the same team,</span>
<span class="sd">    then all games where that team played are returned.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    Note that if a game&#39;s JSON data is not cached to disk, it is retrieved</span>
<span class="sd">    from the NFL web site. A game&#39;s JSON data is *only* cached to disk once</span>
<span class="sd">    the game is over, so be careful with the number of times you call this</span>
<span class="sd">    while a game is going on. (i.e., don&#39;t piss off NFL.com.)</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">games_gen</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">started</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">games_gen</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">home</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">away</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span> <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    games returns a generator of all games matching the given criteria. Each</span>
<span class="sd">    game can then be queried for player statistics and information about</span>
<span class="sd">    the game itself (score, winner, scoring plays, etc.).</span>

<span class="sd">    As a special case, if the home and away teams are set to the same team,</span>
<span class="sd">    then all games where that team played are returned.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    Note that if a game&#39;s JSON data is not cached to disk, it is retrieved</span>
<span class="sd">    from the NFL web site. A game&#39;s JSON data is *only* cached to disk once</span>
<span class="sd">    the game is over, so be careful with the number of times you call this</span>
<span class="sd">    while a game is going on. (i.e., don&#39;t piss off NFL.com.)</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="n">_search_schedule</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">started</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">infos</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">gen</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">infos</span><span class="p">:</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">Game</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s">&#39;eid&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="n">g</span>
    <span class="k">return</span> <span class="n">gen</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">one</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span> <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    one returns a single game matching the given criteria. The</span>
<span class="sd">    game can then be queried for player statistics and information about</span>
<span class="sd">    the game itself (score, winner, scoring plays, etc.).</span>

<span class="sd">    one returns either a single game or no games. If there are multiple games</span>
<span class="sd">    matching the given criteria, an assertion is raised.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    Note that if a game&#39;s JSON data is not cached to disk, it is retrieved</span>
<span class="sd">    from the NFL web site. A game&#39;s JSON data is *only* cached to disk once</span>
<span class="sd">    the game is over, so be careful with the number of times you call this</span>
<span class="sd">    while a game is going on. (i.e., don&#39;t piss off NFL.com.)</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="n">_search_schedule</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">started</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">infos</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">infos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;More than one game matches the given criteria.&#39;</span>
    <span class="k">return</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">Game</span><span class="p">(</span><span class="n">infos</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;eid&#39;</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="n">games</span><span class="p">,</span> <span class="n">plays</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    DEPRECATED. Please use one of nflgame.combine_{game,play,max}_stats</span>
<span class="sd">    instead.</span>

<span class="sd">    Combines a list of games into one big player sequence containing game</span>
<span class="sd">    level statistics.</span>

<span class="sd">    This can be used, for example, to get PlayerStat objects corresponding to</span>
<span class="sd">    statistics across an entire week, some number of weeks or an entire season.</span>

<span class="sd">    If the plays parameter is True, then statistics will be dervied from</span>
<span class="sd">    play by play data. This mechanism is slower but will contain more detailed</span>
<span class="sd">    statistics like receiver targets, yards after the catch, punt and field</span>
<span class="sd">    goal blocks, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">plays</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">combine_play_stats</span><span class="p">(</span><span class="n">games</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">combine_game_stats</span><span class="p">(</span><span class="n">games</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">combine_game_stats</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big player sequence containing game</span>
<span class="sd">    level statistics.</span>

<span class="sd">    This can be used, for example, to get GamePlayerStats objects corresponding</span>
<span class="sd">    to statistics across an entire week, some number of weeks or an entire</span>
<span class="sd">    season.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">ps1</span><span class="p">,</span> <span class="n">ps2</span><span class="p">:</span> <span class="n">ps1</span> <span class="o">+</span> <span class="n">ps2</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">players</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span> <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">combine_play_stats</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big player sequence containing play</span>
<span class="sd">    level statistics.</span>

<span class="sd">    This can be used, for example, to get PlayPlayerStats objects corresponding</span>
<span class="sd">    to statistics across an entire week, some number of weeks or an entire</span>
<span class="sd">    season.</span>

<span class="sd">    This function should be used in lieu of combine_game_stats when more</span>
<span class="sd">    detailed statistics such as receiver targets, yards after the catch and</span>
<span class="sd">    punt/FG blocks are needed.</span>

<span class="sd">    N.B. Since this combines *all* play data, this function may take a while</span>
<span class="sd">    to complete depending on the number of games passed in.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">:</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">drives</span><span class="o">.</span><span class="n">players</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span> <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">combine_max_stats</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big player sequence containing maximum</span>
<span class="sd">    statistics based on game and play level statistics.</span>

<span class="sd">    This can be used, for example, to get GamePlayerStats objects corresponding</span>
<span class="sd">    to statistics across an entire week, some number of weeks or an entire</span>
<span class="sd">    season.</span>

<span class="sd">    This function should be used in lieu of combine_game_stats or</span>
<span class="sd">    combine_play_stats when the best possible accuracy is desired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">max_player_stats</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span> <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">])</span>


<span class="k">def</span> <span class="nf">combine_plays</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big play generator that can be searched</span>
<span class="sd">    as if it were a single game.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">chain</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">drives</span><span class="o">.</span><span class="n">plays</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">seq</span><span class="o">.</span><span class="n">GenPlays</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_search_schedule</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">home</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">away</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span>
                     <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Searches the schedule to find the game identifiers matching the criteria</span>
<span class="sd">    given.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">a</span><span class="p">),</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">schedule</span><span class="o">.</span><span class="n">games</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">year</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">y</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">year</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">!=</span> <span class="n">year</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="k">if</span> <span class="n">week</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">week</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">w</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">week</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">week</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">w</span> <span class="o">!=</span> <span class="n">week</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="k">if</span> <span class="n">home</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">away</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">home</span> <span class="o">==</span> <span class="n">away</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">h</span> <span class="o">!=</span> <span class="n">home</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">!=</span> <span class="n">home</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">home</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">h</span> <span class="o">!=</span> <span class="n">home</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">away</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">!=</span> <span class="n">away</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">!=</span> <span class="n">kind</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">started</span><span class="p">:</span>
            <span class="n">gametime</span> <span class="o">=</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">_game_datetime</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
            <span class="n">now</span> <span class="o">=</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">live</span><span class="o">.</span><span class="n">_now</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">gametime</span> <span class="o">&gt;</span> <span class="n">now</span> <span class="ow">and</span> <span class="p">(</span><span class="n">gametime</span> <span class="o">-</span> <span class="n">now</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">300</span><span class="p">:</span>
                <span class="k">continue</span>
        <span class="n">infos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">infos</span>
</pre></div>

    </div>

  <hr>

  <h2>Index</h2>

  <ul id="index">
    <li><h4><a href="#header-variables">Module variables</a></h4>
      
  
  <div class="column_list">
      <ul>
          <li class="mono"><a href="#nflgame.VERSION">VERSION</a></li>
      </ul>
      <ul>
          <li class="mono"><a href="#nflgame.players">players</a></li>
      </ul>
      <ul>
          <li class="mono"><a href="#nflgame.teams">teams</a></li>
      </ul>
  </div>

    </li>

    <li><h4><a href="#header-functions">Functions</a></h4>
      
  
  <div class="column_list">
      <ul>
          <li class="mono"><a href="#nflgame.combine">combine</a></li>
          <li class="mono"><a href="#nflgame.combine_game_stats">combine_game_stats</a></li>
          <li class="mono"><a href="#nflgame.combine_max_stats">combine_max_stats</a></li>
          <li class="mono"><a href="#nflgame.combine_play_stats">combine_play_stats</a></li>
      </ul>
      <ul>
          <li class="mono"><a href="#nflgame.combine_plays">combine_plays</a></li>
          <li class="mono"><a href="#nflgame.find">find</a></li>
          <li class="mono"><a href="#nflgame.games">games</a></li>
      </ul>
      <ul>
          <li class="mono"><a href="#nflgame.games_gen">games_gen</a></li>
          <li class="mono"><a href="#nflgame.one">one</a></li>
          <li class="mono"><a href="#nflgame.standard_team">standard_team</a></li>
      </ul>
  </div>

    </li>


    <li><h4><a href="#header-submodules">Sub-modules</a></h4>
      <ul>
          <li class="mono"><a href="alert.m.html">nflgame.alert</a></li>
          <li class="mono"><a href="game.m.html">nflgame.game</a></li>
          <li class="mono"><a href="live.m.html">nflgame.live</a></li>
          <li class="mono"><a href="player.m.html">nflgame.player</a></li>
          <li class="mono"><a href="schedule.m.html">nflgame.schedule</a></li>
          <li class="mono"><a href="seq.m.html">nflgame.seq</a></li>
          <li class="mono"><a href="statmap.m.html">nflgame.statmap</a></li>
          <li class="mono"><a href="version.m.html">nflgame.version</a></li>
      </ul>
    </li>
  </ul>

  <h2 id="header-variables">Module variables</h2>
      <div class="item">
        <p id="nflgame.VERSION" class="name">var <span class="ident">VERSION</span></p>
        
  
    <div class="source_cont">
</div>

      </div>
      <div class="item">
        <p id="nflgame.players" class="name">var <span class="ident">players</span></p>
        
  
      <div class="desc"><p>A dict of all players and meta information about each player keyed
by GSIS ID. (The identifiers used by NFL.com GameCenter.)</p></div>
    <div class="source_cont">
</div>

      </div>
      <div class="item">
        <p id="nflgame.teams" class="name">var <span class="ident">teams</span></p>
        
  
      <div class="desc"><p>A list of all teams. Each item is a list of different ways to
describe a team. (i.e., JAC, JAX, Jacksonville, Jaguars, etc.).
The first item in each list is always the standard NFL.com
team abbreviation (two or three letters).</p></div>
    <div class="source_cont">
</div>

      </div>

  <h2 id="header-functions">Functions</h2>
      
    <div class="item">
      <div class="name def" id="nflgame.combine">
        <p>def <span class="ident">combine</span>(</p><p>games, plays=False)</p>
      </div>
      

      
  
      <div class="desc"><p>DEPRECATED. Please use one of nflgame.combine_{game,play,max}_stats
instead.</p>
<p>Combines a list of games into one big player sequence containing game
level statistics.</p>
<p>This can be used, for example, to get PlayerStat objects corresponding to
statistics across an entire week, some number of weeks or an entire season.</p>
<p>If the plays parameter is True, then statistics will be dervied from
play by play data. This mechanism is slower but will contain more detailed
statistics like receiver targets, yards after the catch, punt and field
goal blocks, etc.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.combine', this);">Show source.</a></p>
    <div id="source-nflgame.combine" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="n">games</span><span class="p">,</span> <span class="n">plays</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    DEPRECATED. Please use one of nflgame.combine_{game,play,max}_stats</span>
<span class="sd">    instead.</span>

<span class="sd">    Combines a list of games into one big player sequence containing game</span>
<span class="sd">    level statistics.</span>

<span class="sd">    This can be used, for example, to get PlayerStat objects corresponding to</span>
<span class="sd">    statistics across an entire week, some number of weeks or an entire season.</span>

<span class="sd">    If the plays parameter is True, then statistics will be dervied from</span>
<span class="sd">    play by play data. This mechanism is slower but will contain more detailed</span>
<span class="sd">    statistics like receiver targets, yards after the catch, punt and field</span>
<span class="sd">    goal blocks, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">plays</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">combine_play_stats</span><span class="p">(</span><span class="n">games</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">combine_game_stats</span><span class="p">(</span><span class="n">games</span><span class="p">)</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.combine_game_stats">
        <p>def <span class="ident">combine_game_stats</span>(</p><p>games)</p>
      </div>
      

      
  
      <div class="desc"><p>Combines a list of games into one big player sequence containing game
level statistics.</p>
<p>This can be used, for example, to get GamePlayerStats objects corresponding
to statistics across an entire week, some number of weeks or an entire
season.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.combine_game_stats', this);">Show source.</a></p>
    <div id="source-nflgame.combine_game_stats" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">combine_game_stats</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big player sequence containing game</span>
<span class="sd">    level statistics.</span>

<span class="sd">    This can be used, for example, to get GamePlayerStats objects corresponding</span>
<span class="sd">    to statistics across an entire week, some number of weeks or an entire</span>
<span class="sd">    season.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">ps1</span><span class="p">,</span> <span class="n">ps2</span><span class="p">:</span> <span class="n">ps1</span> <span class="o">+</span> <span class="n">ps2</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">players</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span> <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">])</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.combine_max_stats">
        <p>def <span class="ident">combine_max_stats</span>(</p><p>games)</p>
      </div>
      

      
  
      <div class="desc"><p>Combines a list of games into one big player sequence containing maximum
statistics based on game and play level statistics.</p>
<p>This can be used, for example, to get GamePlayerStats objects corresponding
to statistics across an entire week, some number of weeks or an entire
season.</p>
<p>This function should be used in lieu of combine_game_stats or
combine_play_stats when the best possible accuracy is desired.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.combine_max_stats', this);">Show source.</a></p>
    <div id="source-nflgame.combine_max_stats" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">combine_max_stats</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big player sequence containing maximum</span>
<span class="sd">    statistics based on game and play level statistics.</span>

<span class="sd">    This can be used, for example, to get GamePlayerStats objects corresponding</span>
<span class="sd">    to statistics across an entire week, some number of weeks or an entire</span>
<span class="sd">    season.</span>

<span class="sd">    This function should be used in lieu of combine_game_stats or</span>
<span class="sd">    combine_play_stats when the best possible accuracy is desired.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">max_player_stats</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span> <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">])</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.combine_play_stats">
        <p>def <span class="ident">combine_play_stats</span>(</p><p>games)</p>
      </div>
      

      
  
      <div class="desc"><p>Combines a list of games into one big player sequence containing play
level statistics.</p>
<p>This can be used, for example, to get PlayPlayerStats objects corresponding
to statistics across an entire week, some number of weeks or an entire
season.</p>
<p>This function should be used in lieu of combine_game_stats when more
detailed statistics such as receiver targets, yards after the catch and
punt/FG blocks are needed.</p>
<p>N.B. Since this combines <em>all</em> play data, this function may take a while
to complete depending on the number of games passed in.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.combine_play_stats', this);">Show source.</a></p>
    <div id="source-nflgame.combine_play_stats" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">combine_play_stats</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big player sequence containing play</span>
<span class="sd">    level statistics.</span>

<span class="sd">    This can be used, for example, to get PlayPlayerStats objects corresponding</span>
<span class="sd">    to statistics across an entire week, some number of weeks or an entire</span>
<span class="sd">    season.</span>

<span class="sd">    This function should be used in lieu of combine_game_stats when more</span>
<span class="sd">    detailed statistics such as receiver targets, yards after the catch and</span>
<span class="sd">    punt/FG blocks are needed.</span>

<span class="sd">    N.B. Since this combines *all* play data, this function may take a while</span>
<span class="sd">    to complete depending on the number of games passed in.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">:</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">drives</span><span class="o">.</span><span class="n">players</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span> <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">])</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.combine_plays">
        <p>def <span class="ident">combine_plays</span>(</p><p>games)</p>
      </div>
      

      
  
      <div class="desc"><p>Combines a list of games into one big play generator that can be searched
as if it were a single game.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.combine_plays', this);">Show source.</a></p>
    <div id="source-nflgame.combine_plays" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">combine_plays</span><span class="p">(</span><span class="n">games</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Combines a list of games into one big play generator that can be searched</span>
<span class="sd">    as if it were a single game.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">chain</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">g</span><span class="o">.</span><span class="n">drives</span><span class="o">.</span><span class="n">plays</span><span class="p">()</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">games</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">seq</span><span class="o">.</span><span class="n">GenPlays</span><span class="p">(</span><span class="n">chain</span><span class="p">)</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.find">
        <p>def <span class="ident">find</span>(</p><p>name, team=None)</p>
      </div>
      

      
  
      <div class="desc"><p>Finds a player (or players) with a name matching (case insensitive)
name and returns them as a list.</p>
<p>If team is not None, it is used as an additional search constraint.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.find', this);">Show source.</a></p>
    <div id="source-nflgame.find" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">team</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Finds a player (or players) with a name matching (case insensitive)</span>
<span class="sd">    name and returns them as a list.</span>

<span class="sd">    If team is not None, it is used as an additional search constraint.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hits</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">players</span><span class="o">.</span><span class="n">itervalues</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">team</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">team</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">player</span><span class="o">.</span><span class="n">team</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">hits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">hits</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.games">
        <p>def <span class="ident">games</span>(</p><p>year, week=None, home=None, away=None, kind='REG', started=False)</p>
      </div>
      

      
  
      <div class="desc"><p>games returns a list of all games matching the given criteria. Each
game can then be queried for player statistics and information about
the game itself (score, winner, scoring plays, etc.).</p>
<p>As a special case, if the home and away teams are set to the same team,
then all games where that team played are returned.</p>
<p>The kind parameter specifies whether to fetch preseason, regular season
or postseason games. Valid values are PRE, REG and POST.</p>
<p>The week parameter is relative to the value of the kind parameter, and
may be set to a list of week numbers.
In the regular season, the week parameter corresponds to the normal
week numbers 1 through 17. Similarly in the preseason, valid week numbers
are 1 through 4. In the post season, the week number corresponds to the
numerical round of the playoffs. So the wild card round is week 1,
the divisional round is week 2, the conference round is week 3
and the Super Bowl is week 4.</p>
<p>The year parameter specifies the season, and not necessarily the actual
year that a game was played in. For example, a Super Bowl taking place
in the year 2011 actually belongs to the 2010 season. Also, the year
parameter may be set to a list of seasons just like the week parameter.</p>
<p>Note that if a game's JSON data is not cached to disk, it is retrieved
from the NFL web site. A game's JSON data is <em>only</em> cached to disk once
the game is over, so be careful with the number of times you call this
while a game is going on. (i.e., don't piss off NFL.com.)</p>
<p>If started is True, then only games that have already started (or are
about to start in less than 5 minutes) will be returned. Note that the
started parameter requires pytz to be installed. This is useful when
you only want to collect stats from games that have JSON data available
(as opposed to waiting for a 404 error from NFL.com).</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.games', this);">Show source.</a></p>
    <div id="source-nflgame.games" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">games</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">home</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">away</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span> <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    games returns a list of all games matching the given criteria. Each</span>
<span class="sd">    game can then be queried for player statistics and information about</span>
<span class="sd">    the game itself (score, winner, scoring plays, etc.).</span>

<span class="sd">    As a special case, if the home and away teams are set to the same team,</span>
<span class="sd">    then all games where that team played are returned.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    Note that if a game&#39;s JSON data is not cached to disk, it is retrieved</span>
<span class="sd">    from the NFL web site. A game&#39;s JSON data is *only* cached to disk once</span>
<span class="sd">    the game is over, so be careful with the number of times you call this</span>
<span class="sd">    while a game is going on. (i.e., don&#39;t piss off NFL.com.)</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">games_gen</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">started</span><span class="p">))</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.games_gen">
        <p>def <span class="ident">games_gen</span>(</p><p>year, week=None, home=None, away=None, kind='REG', started=False)</p>
      </div>
      

      
  
      <div class="desc"><p>games returns a generator of all games matching the given criteria. Each
game can then be queried for player statistics and information about
the game itself (score, winner, scoring plays, etc.).</p>
<p>As a special case, if the home and away teams are set to the same team,
then all games where that team played are returned.</p>
<p>The kind parameter specifies whether to fetch preseason, regular season
or postseason games. Valid values are PRE, REG and POST.</p>
<p>The week parameter is relative to the value of the kind parameter, and
may be set to a list of week numbers.
In the regular season, the week parameter corresponds to the normal
week numbers 1 through 17. Similarly in the preseason, valid week numbers
are 1 through 4. In the post season, the week number corresponds to the
numerical round of the playoffs. So the wild card round is week 1,
the divisional round is week 2, the conference round is week 3
and the Super Bowl is week 4.</p>
<p>The year parameter specifies the season, and not necessarily the actual
year that a game was played in. For example, a Super Bowl taking place
in the year 2011 actually belongs to the 2010 season. Also, the year
parameter may be set to a list of seasons just like the week parameter.</p>
<p>Note that if a game's JSON data is not cached to disk, it is retrieved
from the NFL web site. A game's JSON data is <em>only</em> cached to disk once
the game is over, so be careful with the number of times you call this
while a game is going on. (i.e., don't piss off NFL.com.)</p>
<p>If started is True, then only games that have already started (or are
about to start in less than 5 minutes) will be returned. Note that the
started parameter requires pytz to be installed. This is useful when
you only want to collect stats from games that have JSON data available
(as opposed to waiting for a 404 error from NFL.com).</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.games_gen', this);">Show source.</a></p>
    <div id="source-nflgame.games_gen" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">games_gen</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">home</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">away</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
              <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span> <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    games returns a generator of all games matching the given criteria. Each</span>
<span class="sd">    game can then be queried for player statistics and information about</span>
<span class="sd">    the game itself (score, winner, scoring plays, etc.).</span>

<span class="sd">    As a special case, if the home and away teams are set to the same team,</span>
<span class="sd">    then all games where that team played are returned.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    Note that if a game&#39;s JSON data is not cached to disk, it is retrieved</span>
<span class="sd">    from the NFL web site. A game&#39;s JSON data is *only* cached to disk once</span>
<span class="sd">    the game is over, so be careful with the number of times you call this</span>
<span class="sd">    while a game is going on. (i.e., don&#39;t piss off NFL.com.)</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="n">_search_schedule</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">started</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">infos</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">gen</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">infos</span><span class="p">:</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">Game</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s">&#39;eid&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">g</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">yield</span> <span class="n">g</span>
    <span class="k">return</span> <span class="n">gen</span><span class="p">()</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.one">
        <p>def <span class="ident">one</span>(</p><p>year, week, home, away, kind='REG', started=False)</p>
      </div>
      

      
  
      <div class="desc"><p>one returns a single game matching the given criteria. The
game can then be queried for player statistics and information about
the game itself (score, winner, scoring plays, etc.).</p>
<p>one returns either a single game or no games. If there are multiple games
matching the given criteria, an assertion is raised.</p>
<p>The kind parameter specifies whether to fetch preseason, regular season
or postseason games. Valid values are PRE, REG and POST.</p>
<p>The week parameter is relative to the value of the kind parameter, and
may be set to a list of week numbers.
In the regular season, the week parameter corresponds to the normal
week numbers 1 through 17. Similarly in the preseason, valid week numbers
are 1 through 4. In the post season, the week number corresponds to the
numerical round of the playoffs. So the wild card round is week 1,
the divisional round is week 2, the conference round is week 3
and the Super Bowl is week 4.</p>
<p>The year parameter specifies the season, and not necessarily the actual
year that a game was played in. For example, a Super Bowl taking place
in the year 2011 actually belongs to the 2010 season. Also, the year
parameter may be set to a list of seasons just like the week parameter.</p>
<p>Note that if a game's JSON data is not cached to disk, it is retrieved
from the NFL web site. A game's JSON data is <em>only</em> cached to disk once
the game is over, so be careful with the number of times you call this
while a game is going on. (i.e., don't piss off NFL.com.)</p>
<p>If started is True, then only games that have already started (or are
about to start in less than 5 minutes) will be returned. Note that the
started parameter requires pytz to be installed. This is useful when
you only want to collect stats from games that have JSON data available
(as opposed to waiting for a 404 error from NFL.com).</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.one', this);">Show source.</a></p>
    <div id="source-nflgame.one" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">one</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s">&#39;REG&#39;</span><span class="p">,</span> <span class="n">started</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    one returns a single game matching the given criteria. The</span>
<span class="sd">    game can then be queried for player statistics and information about</span>
<span class="sd">    the game itself (score, winner, scoring plays, etc.).</span>

<span class="sd">    one returns either a single game or no games. If there are multiple games</span>
<span class="sd">    matching the given criteria, an assertion is raised.</span>

<span class="sd">    The kind parameter specifies whether to fetch preseason, regular season</span>
<span class="sd">    or postseason games. Valid values are PRE, REG and POST.</span>

<span class="sd">    The week parameter is relative to the value of the kind parameter, and</span>
<span class="sd">    may be set to a list of week numbers.</span>
<span class="sd">    In the regular season, the week parameter corresponds to the normal</span>
<span class="sd">    week numbers 1 through 17. Similarly in the preseason, valid week numbers</span>
<span class="sd">    are 1 through 4. In the post season, the week number corresponds to the</span>
<span class="sd">    numerical round of the playoffs. So the wild card round is week 1,</span>
<span class="sd">    the divisional round is week 2, the conference round is week 3</span>
<span class="sd">    and the Super Bowl is week 4.</span>

<span class="sd">    The year parameter specifies the season, and not necessarily the actual</span>
<span class="sd">    year that a game was played in. For example, a Super Bowl taking place</span>
<span class="sd">    in the year 2011 actually belongs to the 2010 season. Also, the year</span>
<span class="sd">    parameter may be set to a list of seasons just like the week parameter.</span>

<span class="sd">    Note that if a game&#39;s JSON data is not cached to disk, it is retrieved</span>
<span class="sd">    from the NFL web site. A game&#39;s JSON data is *only* cached to disk once</span>
<span class="sd">    the game is over, so be careful with the number of times you call this</span>
<span class="sd">    while a game is going on. (i.e., don&#39;t piss off NFL.com.)</span>

<span class="sd">    If started is True, then only games that have already started (or are</span>
<span class="sd">    about to start in less than 5 minutes) will be returned. Note that the</span>
<span class="sd">    started parameter requires pytz to be installed. This is useful when</span>
<span class="sd">    you only want to collect stats from games that have JSON data available</span>
<span class="sd">    (as opposed to waiting for a 404 error from NFL.com).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">infos</span> <span class="o">=</span> <span class="n">_search_schedule</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">week</span><span class="p">,</span> <span class="n">home</span><span class="p">,</span> <span class="n">away</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">started</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">infos</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">infos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;More than one game matches the given criteria.&#39;</span>
    <span class="k">return</span> <span class="n">nflgame</span><span class="o">.</span><span class="n">game</span><span class="o">.</span><span class="n">Game</span><span class="p">(</span><span class="n">infos</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;eid&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>

    </div>
  
      
    <div class="item">
      <div class="name def" id="nflgame.standard_team">
        <p>def <span class="ident">standard_team</span>(</p><p>team)</p>
      </div>
      

      
  
      <div class="desc"><p>Returns a standard abbreviation when team corresponds to a team in
nflgame.teams (case insensitive).  All known variants of a team name are
searched. If no team is found, None is returned.</p></div>
    <div class="source_cont">
    <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-nflgame.standard_team', this);">Show source.</a></p>
    <div id="source-nflgame.standard_team" class="source">
      <div class="codehilite"><pre><span class="k">def</span> <span class="nf">standard_team</span><span class="p">(</span><span class="n">team</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a standard abbreviation when team corresponds to a team in</span>
<span class="sd">    nflgame.teams (case insensitive).  All known variants of a team name are</span>
<span class="sd">    searched. If no team is found, None is returned.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">team</span> <span class="o">=</span> <span class="n">team</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">variants</span> <span class="ow">in</span> <span class="n">teams</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">variant</span> <span class="ow">in</span> <span class="n">variants</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">team</span> <span class="o">==</span> <span class="n">variant</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">variants</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

    </div>
</div>

    </div>
  


  <h2 id="header-submodules">Sub-modules</h2>
      <div class="item">
        <p class="name"><a href="alert.m.html">nflgame.alert</a></p>
        
  
      <div class="desc"><p>A module that provides convenience functions for sending alerts. Currently
this includes sending text (SMS) messages or emails.</p>
<p>This is accomplished through two mechanisms: Google Voice B{or} SMTP.</p>
<h1>Using Google Voice</h1>
<p>To use Google Voice, this module requires a Google Voice accou...</p></div>

      </div>
      <div class="item">
        <p class="name"><a href="game.m.html">nflgame.game</a></p>
        
  

      </div>
      <div class="item">
        <p class="name"><a href="live.m.html">nflgame.live</a></p>
        
  
      <div class="desc"><p>The live module provides a mechanism of periodically checking which games are
being actively played.</p>
<p>It requires the third party library pytz to be
installed, which makes sure game times are compared properly with respect
to time zones. pytz can be downloaded from PyPI:
http://pypi.python.org/pypi/...</p></div>

      </div>
      <div class="item">
        <p class="name"><a href="player.m.html">nflgame.player</a></p>
        
  

      </div>
      <div class="item">
        <p class="name"><a href="schedule.m.html">nflgame.schedule</a></p>
        
  

      </div>
      <div class="item">
        <p class="name"><a href="seq.m.html">nflgame.seq</a></p>
        
  

      </div>
      <div class="item">
        <p class="name"><a href="statmap.m.html">nflgame.statmap</a></p>
        
  
      <div class="desc"><p>The stats module maps statistical category identifiers from NFL.com's
GameCenter JSON feed to a representation of what we believe that statistical
category means. This mapping has been reverse engineered with a lot of help
from reddit users rasherdk and curien.</p>
<p>B{Note}: We now have a data dictionar...</p></div>

      </div>
      <div class="item">
        <p class="name"><a href="version.m.html">nflgame.version</a></p>
        
  

      </div>


<hr>
<p style="text-align: right;">
  Documentation generated by
  <code><a href="https://github.com/BurntSushi/pdoc">pdoc</a></code>
  0.1.5.

  pdoc is in the public domain with the
  <a href="http://unlicense.org">UNLICENSE</a>.
</p>
</div>
</body>
</html>
