

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Stalker Changes &mdash; Stalker 0.2.0.b8 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.0.b8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Stalker 0.2.0.b8 documentation" href="index.html" />
    <link rel="next" title="TODO" href="todo.html" />
    <link rel="prev" title="Stalker Development Roadmap" href="roadmap.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="todo.html" title="TODO"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="roadmap.html" title="Stalker Development Roadmap"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Stalker 0.2.0.b8 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Stalker Changes</a><ul>
<li><a class="reference internal" href="#b8">0.2.0.b8</a></li>
<li><a class="reference internal" href="#b7">0.2.0.b7</a></li>
<li><a class="reference internal" href="#b6">0.2.0.b6</a></li>
<li><a class="reference internal" href="#b5">0.2.0.b5</a></li>
<li><a class="reference internal" href="#b4">0.2.0.b4</a></li>
<li><a class="reference internal" href="#b3">0.2.0.b3</a></li>
<li><a class="reference internal" href="#b2">0.2.0.b2</a></li>
<li><a class="reference internal" href="#b1">0.2.0.b1</a></li>
<li><a class="reference internal" href="#a10">0.2.0.a10</a></li>
<li><a class="reference internal" href="#a9">0.2.0.a9</a></li>
<li><a class="reference internal" href="#a8">0.2.0.a8</a></li>
<li><a class="reference internal" href="#a7">0.2.0.a7</a></li>
<li><a class="reference internal" href="#a6">0.2.0.a6</a></li>
<li><a class="reference internal" href="#a5">0.2.0.a5</a></li>
<li><a class="reference internal" href="#a4">0.2.0.a4</a></li>
<li><a class="reference internal" href="#a3">0.2.0.a3</a></li>
<li><a class="reference internal" href="#a2">0.2.0.a2</a></li>
<li><a class="reference internal" href="#a1">0.2.0.a1</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="roadmap.html"
                        title="previous chapter">Stalker Development Roadmap</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="todo.html"
                        title="next chapter">TODO</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/changelog.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stalker-changes">
<span id="changelog-toplevel"></span><h1>Stalker Changes<a class="headerlink" href="#stalker-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="b8">
<h2>0.2.0.b8<a class="headerlink" href="#b8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>SOM:</strong><ul>
<li><strong>Update:</strong> Renamed <strong>Version.version_of</strong> attribute to <strong>Version.task</strong>.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b7">
<h2>0.2.0.b7<a class="headerlink" href="#b7" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>SOM:</strong></p>
<ul class="simple">
<li><strong>Update:</strong> <strong>Task.schedule_constraint</strong> is now reflected to the tjp file
correctly.</li>
<li><strong>Fix:</strong> <strong>check_circular_dependency()</strong> now checks if the <strong>entity</strong> and
the <strong>other_entity</strong> are the same.</li>
<li><strong>Fix:</strong> <strong>Task.to_tjp()</strong> now correctly add the dependent tasks of a
container task.</li>
<li><strong>Fix:</strong> <strong>Task.__eq__()</strong> now correctly considers the parent, depends,
resources, start and end dates.</li>
<li><strong>Update:</strong> <strong>Task.priority</strong> is now reflected in tjp file if it is
different than the default value (500).</li>
<li><strong>New::</strong> Added a new class called <strong>Vacation</strong> to hold user vacations.</li>
<li><strong>Update:</strong> Removed dependencies to <tt class="docutils literal"><span class="pre">pyramid.security.Allow</span></tt> and
<tt class="docutils literal"><span class="pre">pyramid.security.Deny</span></tt> in couple of packages.</li>
<li><strong>Update:</strong> Changed the way the <tt class="docutils literal"><span class="pre">stalker.defaults</span></tt> is created.</li>
<li><strong>Fix:</strong> <strong>EnvironmentBase.get_version_from_full_path()</strong>,
<strong>EnvironmentBase.get_versions_from_path()</strong>,
<strong>EnvironmentBase.trim_repo_path()</strong>, <strong>EnvironmentBase.find_repo</strong> methods
are now working properly.</li>
<li><strong>Update:</strong> Added <strong>Version.absolute_full_path</strong> property which renders the
absolute full path which also includes the repository path.</li>
<li><strong>Update:</strong> Added <strong>Version.absolute_path</strong> property which renders the
absolute path which also includes the repository path.</li>
</ul>
</li>
<li><p class="first"><strong>WebUI:</strong></p>
<ul>
<li><p class="first"><strong>Fix:</strong> GanttChart  view of Assets, Shots,Sequences or Tasks now displays
only the children and parents of that Task derivative.</p>
</li>
<li><p class="first"><strong>Update:</strong> Task create/update dialog now displays the full hierarchy in
parent/dependent task listings.</p>
</li>
<li><p class="first"><strong>Fix:</strong> TimeLog create/update dialog now displays the default times
correctly when creating a new TimeLog.</p>
</li>
<li><p class="first"><strong>Fix:</strong> TimeLog create/update view callables are now checking if there
will be any OverBookedError raised.</p>
</li>
<li><p class="first"><strong>Fix:</strong> Task create/update dialog now will not list the task itself in
parent and dependent task lists, if the UI is called with a Task instance
({{task}} is not None).</p>
</li>
<li><p class="first"><strong>Update:</strong> For Asset Page and Task Page tab order is changed.</p>
</li>
<li><p class="first"><strong>New:</strong> Starts and Ends attributes are added to Task Summary Page.</p>
</li>
<li><p class="first"><strong>Update:</strong> List of Users, Departments and Groups are now sorted by using
the name of the entity.</p>
</li>
<li><p class="first"><strong>Update:</strong> Task create/update dialog now has a new field called
<tt class="docutils literal"><span class="pre">priority</span></tt>.</p>
</li>
<li><p class="first"><strong>Update:</strong> <strong>Task.schedule_constraint</strong> is now filled with correct
information when creating/updating a Task.</p>
</li>
<li><dl class="first docutils">
<dt><strong>Fix:</strong> Selected &#8216;Status&#8217; attribute for &#8216;Task Dialog&#8217; in &#8216;Update&#8217; mode is</dt>
<dd><p class="first last">set when dialog is open.</p>
</dd>
</dl>
</li>
<li><p class="first"><strong>New:</strong> Version List Page and Create/Update Dialogs added.</p>
</li>
<li><p class="first"><strong>New:</strong> Vacation List Page and Create/Update Dialogs added.</p>
</li>
<li><p class="first"><strong>Fix:</strong> Merge tested, and vacation adding is finished.</p>
</li>
<li><p class="first"><strong>JQueryGantt:</strong></p>
<ul class="simple">
<li><strong>Update:</strong> Context menu can now be opened in task names in grid editor.</li>
<li><strong>Update:</strong> Optimized the creation of task rows.</li>
<li><strong>Update:</strong> Replaced the <tt class="docutils literal"><span class="pre">input</span></tt> elements with <tt class="docutils literal"><span class="pre">div</span></tt> in the task row.</li>
<li><strong>New:</strong> Holding the mouse on Task bar elements will now show a popup
window for more info.</li>
<li><strong>Update:</strong> Gantt Chart zoom levels are now fully controlled by the start
and end date DateTextBoxes.</li>
<li><strong>New:</strong> Added a new button which will center the gantt chart on today.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b6">
<h2>0.2.0.b6<a class="headerlink" href="#b6" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><strong>SOM</strong>:</p>
<ul class="simple">
<li><strong>Fix:</strong> Fixed <strong>LocalSession._write_data()</strong>, previously it was not
creating the local session folder.</li>
<li><strong>New:</strong> Added a new method called <strong>LocalSession.delete()</strong> to remove the
local session file.</li>
<li><strong>Update:</strong> <strong>Link.full_path</strong> can now be set to an empty string. This is
updated in this way for <strong>Version</strong> class.</li>
<li><strong>Update:</strong> Updated the formatting of <strong>SimpleEntity.nice_name</strong>, it is now
possible to have uppercase letters and camel case format will be preserved.</li>
<li><strong>Update</strong>: <strong>Version.take_name</strong> formatting is enhanced.</li>
<li><strong>New</strong>: <strong>Task</strong> class is now mixed in with <strong>ReferenceMixin</strong> making it
unnecessary to have <strong>Asset</strong>, <strong>Shot</strong> and <strong>Sequence</strong> classes all mixed
in individually. Thus removed the <strong>ReferenceMixin</strong> from <strong>Asset</strong>,
<strong>Shot</strong> and <strong>Sequence</strong> classes.</li>
<li><strong>Update</strong>: Added <strong>Task.schedule_model</strong> validation and its tests.</li>
<li><strong>New</strong>: Added <strong>ScheduleMixin.total_seconds</strong> and
<strong>ScheduleMixin.computed_total_seconds</strong>.</li>
</ul>
<p><strong>WebUI</strong>:</p>
<ul class="simple">
<li><strong>New</strong>: Added &#8216;duration&#8217; field to TimeLog&#8217;s List dgrid.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b5">
<h2>0.2.0.b5<a class="headerlink" href="#b5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>SOM</strong>:<ul>
<li><strong>New:</strong> <strong>Version</strong> class now has two new attributes called <tt class="docutils literal"><span class="pre">parent</span></tt> and
<tt class="docutils literal"><span class="pre">children</span></tt> which will be used in tracking of the history of Version
instances and track which Versions are derived from which Version.</li>
<li><strong>New:</strong> <strong>Versions</strong> instances are now derived from <strong>Link</strong> class and not
<strong>Entity</strong>.</li>
<li><strong>Update:</strong> Added new revisions to <strong>alembic</strong> to reflect the change in
<strong>Versions</strong> table.</li>
<li><strong>Update:</strong> <strong>Links.path</strong> is renamed to <strong>Links.full_path</strong> and added
three new attributes called <strong>path</strong>, <strong>filename</strong> and <strong>extension</strong>.</li>
<li><strong>Update:</strong> Added new revisions to alembic to reflect the change in
<strong>Links</strong> table.</li>
<li><strong>New:</strong> Added a new class called <strong>LocalSession</strong> to store session data in
users local filesystem. It is going to be replaced with some other system
like <strong>Beaker</strong>.</li>
<li><strong>Fix:</strong> Database part of Stalker can now be imported without depending to
<strong>Pyramid</strong>.</li>
<li><strong>Fix:</strong> Fixed documentation errors that <strong>Sphinx</strong> complained about.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b4">
<h2>0.2.0.b4<a class="headerlink" href="#b4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>WebUI</strong>:<ul>
<li><strong>Fix:</strong> Fixed the error in rendering of the <strong>home</strong> occurred when there is no
user login information found in the request.</li>
<li><strong>New:</strong> User thumbnails now can be changed.</li>
<li><strong>New:</strong> Project thumbnails now can be changed.</li>
<li><strong>New:</strong> <tt class="docutils literal"><span class="pre">content_list_projects</span></tt> now shows the project thumbnails.</li>
<li><strong>New:</strong> <tt class="docutils literal"><span class="pre">content_list_users</span></tt> now shows the user thumbnails.</li>
<li><strong>New:</strong> <tt class="docutils literal"><span class="pre">submitForm.js</span></tt> now enables all the disabled fields of the given
form, and disables them back again upon error.</li>
<li><strong>Fix:</strong> <tt class="docutils literal"><span class="pre">TagSelect.js</span></tt> will now correctly disable the child widgets if the
<tt class="docutils literal"><span class="pre">disabled</span></tt> attribute is set to <strong>true</strong>.</li>
<li><strong>New:</strong> Added <tt class="docutils literal"><span class="pre">fields</span></tt> javascript library which are a special group of input
fields designed to be used with Stalker.</li>
<li><strong>New:</strong> Added the first input field to stalker/fields, called <tt class="docutils literal"><span class="pre">tagField</span></tt>. It
is now possible to add a TagSelect field which is correctly updated by only
two lines of code.</li>
<li><strong>New:</strong> Added <tt class="docutils literal"><span class="pre">get_tags()</span></tt> to stalker.views.__init__ module. Because all the
tags now should be created with the <tt class="docutils literal"><span class="pre">tagField</span></tt> the way to retrieve tags
is the same, so this helper function will let you retrieve tags from the
given request instance.</li>
<li><strong>New:</strong> Permissions page is added to Group Page.</li>
<li><strong>Fix:</strong> dgrid object is declared from [Grid, Selection, Keyboard]. So it&#8217;s
possible to select a row and navigate by Keyboard.</li>
<li><strong>New:</strong> Permission controls are added to &#8216;Page&#8217; and &#8216;List&#8217; files.</li>
<li><strong>New:</strong> Permission controls are added to &#8216;Dialog&#8217; and &#8216;Summary&#8217; files.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b3">
<h2>0.2.0.b3<a class="headerlink" href="#b3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>SOM</strong>:<ul>
<li><strong>Update:</strong> FilenameTemplate&#8217;s are not <tt class="docutils literal"><span class="pre">strictly</span> <span class="pre">typed</span></tt> anymore.</li>
<li><strong>Update:</strong> Removed the FilenameTemplate type initialization, FilenameTemplates
do not depend on Types anymore.</li>
<li><strong>Update:</strong> Added back the <tt class="docutils literal"><span class="pre">plural_class_name</span></tt> (previously <tt class="docutils literal"><span class="pre">plural_name</span></tt>)
property to the ORMClass class, so all the classes in SOM now have this new
property.</li>
<li><strong>Update:</strong> Added <tt class="docutils literal"><span class="pre">accepts_references</span></tt> attribute to the EntityType class.</li>
<li><strong>New:</strong> The Link class has a new attribute called <tt class="docutils literal"><span class="pre">original_filename</span></tt> to
store the original file names of link files.</li>
<li><strong>New:</strong> Added <strong>alembic</strong> to the project requirements.</li>
<li><strong>New:</strong> Added alembic migrations which adds the <tt class="docutils literal"><span class="pre">accepts_references</span></tt> column
to <tt class="docutils literal"><span class="pre">EntityTypes</span></tt> table and <tt class="docutils literal"><span class="pre">original_name</span></tt> to the <tt class="docutils literal"><span class="pre">Links</span></tt> table.</li>
</ul>
</li>
<li><strong>WebUI</strong>:<ul>
<li><strong>Update:</strong> Updated to Dojo 1.9</li>
<li><strong>Update:</strong> stalker.js is renamed to dialogs.js and it is now fully compatible
with Dojo AMD.</li>
<li><strong>Update:</strong> Merged StatusList create and update dialogs in to one.</li>
<li><strong>Update:</strong> Content List - Task now checks user permissions to disable part of
the UI.</li>
<li><strong>Update:</strong> Added description field to the Summarize Task view.</li>
<li><strong>Update:</strong> Added permission checks to several views.</li>
<li><strong>Fix:</strong> Fixed fieldUpdater.js to work properly with Dojo 1.9 especially for
MultiSelect widgets.</li>
<li><strong>Fix:</strong> Separated the dialog and action routes for Structure.</li>
<li><strong>Fix:</strong> Fixed unnecessary module imports in stalker.js.</li>
<li><strong>Fix:</strong> Schedule button is now working properly.</li>
<li><strong>Fix:</strong> Fixed Image Format creation.</li>
<li><strong>Fix:</strong> Fixed Filename Template create dialog routine.</li>
<li><strong>Fix:</strong> Fixed Filename Template update dialog routine.</li>
<li><strong>Fix:</strong> Fixed entity_types in Filename Template creation UI.</li>
<li><strong>Fix:</strong> Fixed Group update dialog, the permissions were not displayed and the
name was not updated on the server side.</li>
<li><strong>Fix:</strong> Fixed TaskBox CSS template</li>
<li><strong>New:</strong> GanttChart now displays the finished/unfinished tasks with a green/red
&#8216;id&#8217; column.</li>
<li><strong>Fix:</strong> Status color attribute converted from unicode to integer.</li>
<li><strong>Fix:</strong> To destroy previous open dialog, same dialog id is given for create
and update dialogs.</li>
<li><strong>Update:</strong> In create/update_group dialog, to check all rows new checkboxes are
added to head of each column.</li>
<li><strong>Update:</strong> <tt class="docutils literal"><span class="pre">ComboBox</span></tt> is added to TagSelect widget as a new input widget
type.</li>
<li><strong>Update:</strong> Description field is added to Department dialog.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b2">
<h2>0.2.0.b2<a class="headerlink" href="#b2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Stalker is now compatible with Python 2.6.</li>
<li>SOM:<ul>
<li>Task:<ul>
<li><strong>Update:</strong> Tasks now have a new attribute called <tt class="docutils literal"><span class="pre">watchers</span></tt> which holds a
list of User instances watching the particular Task.</li>
<li><strong>Update:</strong> Users now have a new attribute called <tt class="docutils literal"><span class="pre">watching</span></tt> which is a
list of Task instances that this user is watching.</li>
</ul>
</li>
<li>TimeLog:<ul>
<li><strong>Update:</strong> TimeLog instances will expand Task.schedule_timing value
automatically if the total amount of logged time is more than the
schedule_timing value.</li>
<li><strong>Update:</strong> TimeLogs are now considered while scheduling the task.</li>
<li><strong>Fix:</strong> TimeLogs raises OverBookedError when appending the same TimeLog
instance to the same resource.</li>
</ul>
</li>
<li>Auth:<ul>
<li><strong>Fix:</strong> The default ACLs for determining the permissions are now working
properly.</li>
</ul>
</li>
</ul>
</li>
<li>WebUI:<ul>
<li><strong>Fix:</strong> <tt class="docutils literal"><span class="pre">user_create_dialog</span></tt> now shows and updates groups.</li>
<li><strong>Fix:</strong> Updating a project now correctly refreshes the <tt class="docutils literal"><span class="pre">project_summary</span></tt>
content pane.</li>
<li><strong>Fix:</strong> Separated the dialog and action routes for ImageFormat.</li>
<li><strong>Fix:</strong> Separated the dialog and action routes for Asset.</li>
<li><strong>Fix:</strong> Separated the dialog and action routes for Repository.</li>
<li><strong>Fix:</strong> The working hours were not correctly passed to the studio instance
in Studio creation.</li>
<li><strong>Fix:</strong> &#8220;Append User Dialog&#8221; is now working properly.</li>
<li><strong>Fix:</strong> Links between pages is created with redirectLink function which is
written in base.jinja2. goToLink.js is deprecated, but still there are some
codes that uses gotolink.js, they must be changed for next update.</li>
<li><strong>Update:</strong> Combined <tt class="docutils literal"><span class="pre">user_create_dialog</span></tt> and <tt class="docutils literal"><span class="pre">user_update_dialog</span></tt> into
one.</li>
<li><strong>Update:</strong> Logged in work times will now be visible in gantt charts as a green
bar in the TaskBar div.</li>
<li><strong>Update:</strong> Department menus under &#8216;Crew&#8217; menu are now showing the department
users.</li>
<li><strong>Update:</strong> Color choosers in &#8220;Create Status Dialog&#8221; now have colors picked by
default for BG and FG colors.</li>
<li><strong>Update:</strong> Replaced DataGrid objects with dgrid.</li>
<li><strong>Update:</strong> Added navigation bar for assets, shots, sequences.</li>
<li><strong>Update:</strong> Combined <tt class="docutils literal"><span class="pre">project_create_dialog</span></tt> and <tt class="docutils literal"><span class="pre">project_update_dialog</span></tt>
into one.</li>
<li><strong>Update:</strong> Merged the &#8216;Crew&#8217; menu creation code in to one single
teamMenuCreator.js, which is able to create menus for any groups and faux
groups.</li>
<li><strong>Update:</strong> All DataGrid field updated with dgrid class.</li>
<li><strong>New:</strong> Placeholder images added for user and department.</li>
<li><strong>New:</strong> Added update group dialog.</li>
<li><strong>Update:</strong> Colors for the layouts are changed with MiamiNice PieChart&#8217;s color.</li>
<li><strong>New:</strong> Added update group dialog.</li>
<li><strong>New:</strong> Append department and append group pages has connected to database.</li>
<li><strong>New:</strong> Timelog List page added.</li>
<li><strong>New:</strong> New placeholders added for different type of object.</li>
</ul>
</li>
<li>jQueryGantt:<ul>
<li><strong>Update:</strong> Replaced the <tt class="docutils literal"><span class="pre">duration</span></tt> column with <tt class="docutils literal"><span class="pre">timing</span></tt> which correctly
shows the schedule timing info of the related task.</li>
<li><strong>Fix:</strong> The <tt class="docutils literal"><span class="pre">depends</span></tt> column shows the dependent task names correctly.</li>
<li><strong>Update:</strong> jQueryGantt displays the owner Project of the Tasks as a container
task.</li>
<li><strong>Update:</strong> Added content link (this will be updated to support proper links,
hardcoded links to be removed).</li>
<li><strong>Update:</strong> Disabled drag and resize of TaskBar elements.</li>
<li><strong>Update:</strong> Moved the resource link code to the JST template code instead of
the Task class.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="b1">
<h2>0.2.0.b1<a class="headerlink" href="#b1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>WorkingHours.is_working_hour() is working now.</li>
<li>WorkingHours class is moved from stalker.models.project to
stalker.models.studio module.</li>
<li><tt class="docutils literal"><span class="pre">daily_working_hours</span></tt> attribute is moved from
stalker.models.project.Project to stalker.models.studio.Studio class.</li>
<li>Repository path variables now ends with a forward slash even if it is not
given.</li>
<li>Updated Project classes validation messages to correlate with Stalker
standard.</li>
<li>Implementation of the Studio class is finished. The scheduling works like a
charm.</li>
<li>Added dialogCreator.js which helps creating a dialog without having a widget
(Button or MenuItem) calling it and updated dialogCaller.js to use
dialogCreator while creating a dialog.</li>
<li>It is now possible to use any characters in SimpleEntity.name and the derived
classes.</li>
<li>jQueryGantt:<ul>
<li>Fix; t is now possible to correctly move a TaskBar without getting in to
an infinite loop which was freezing the browser.</li>
<li>The timing resolution of jQueryGantt is now 1 hour.</li>
<li>Fix; GanttMaster.task_ids were not properly cleaned in GanttMaster.reset(),
resulting wrong links to be created.</li>
<li>Added a new zoom level where it is possible to see the every 1 hour of 1
day.</li>
<li>Colorized the Sunday column in suitable zoom levels. In upcoming releases
it will use the stalker.models.studio.Studio.working_hours attribute to
determine if the day/hour is an off day/hour.</li>
<li>Disabled editing of date fields.</li>
<li>Disabled undo/redo queue for performance test.</li>
<li>Fixed vertical overflow in gantt chart.</li>
<li>It is now possible to not to align a tasks start to its dependent tasks
end.</li>
</ul>
</li>
<li>The Shot, Asset, Sequence detail pages under the Project Overview now opens
inside the related tab on the Project Page.</li>
<li>Booking class is renamed to TimeLog.</li>
</ul>
</div>
<div class="section" id="a10">
<h2>0.2.0.a10<a class="headerlink" href="#a10" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">jQueryGantt:</p>
<ul class="simple">
<li>jQueryGantt is now using the Task ids coming from Stalker instead of the
ridiculous rowId.</li>
<li>Fixed a lot of issues related with the new data structure, it seems
everything is working properly right now.</li>
<li>Parent Tasks displayed differently than the leaf tasks (on paar with the
other gantt charts).</li>
<li>Gantt chart in User Detail page is now showing the parent tasks of the
tasks of the user.</li>
<li>Now there are two different context menus for container/parent tasks and
leaf tasks.</li>
</ul>
</li>
<li><p class="first">Added new attribute to WorkingHours class called <tt class="docutils literal"><span class="pre">weekly_working_hours</span></tt>,
which calculates the weekly working hours based on the working hours defined
in the instance.</p>
</li>
<li><p class="first">Updated the Create Task Dialog to reflect the TaskJuggler integration.</p>
</li>
<li><p class="first">Task class now has a new attribute called <tt class="docutils literal"><span class="pre">schedule_timing</span></tt> which is
replacing the <tt class="docutils literal"><span class="pre">effort</span></tt>, <tt class="docutils literal"><span class="pre">length</span></tt> and <tt class="docutils literal"><span class="pre">duration</span></tt> attributes. Together
with the <tt class="docutils literal"><span class="pre">schedule_model</span></tt> attribute it will be used in scheduling the Task.</p>
</li>
<li><p class="first">Updated the config system to the one used in oyProjectManager (based on
Sphinx config system). Now to reach the defaults:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># instead of doing the following</span>
<span class="kn">from</span> <span class="nn">stalker.conf</span> <span class="kn">import</span> <span class="n">defaults</span> <span class="c"># not valid anymore</span>

<span class="c"># use this</span>
<span class="kn">from</span> <span class="nn">stalker</span> <span class="kn">import</span> <span class="n">defaults</span>
</pre></div>
</div>
<p>If the above idiom is used, the old <tt class="docutils literal"><span class="pre">defaults</span></tt> module behaviour is
retained, so no code change is required other than the new lower case config
variable names.</p>
</li>
</ul>
</div>
<div class="section" id="a9">
<h2>0.2.0.a9<a class="headerlink" href="#a9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A new property called <tt class="docutils literal"><span class="pre">to_tjp</span></tt> added to the SimpleEntity class which needs
to be implemented in the child and is going to be used in TaskJuggler
integration.</li>
<li>A new attribute called <tt class="docutils literal"><span class="pre">is_scheduled</span></tt> added to Task class and it is going
to be used in Gantt charts. Where it will lock the class and will not try
to snap it to anywhere if it is scheduled.</li>
<li>Changed the <tt class="docutils literal"><span class="pre">resolution</span></tt> attribute name to <tt class="docutils literal"><span class="pre">timing_resolution</span></tt> to comply
with TaskJuggler.</li>
<li>ScheduleMixin:<ul>
<li>Updated ScheduleMixin class documentation.</li>
<li>There are two new read-only attributes called <tt class="docutils literal"><span class="pre">computed_start</span></tt> and
<tt class="docutils literal"><span class="pre">computed_end</span></tt>. These attributes will be used in storing of the values
calculated by TaskJuggler, and will be used in Gantt Charts if available.</li>
<li>Added <tt class="docutils literal"><span class="pre">computed_duration</span></tt>.</li>
</ul>
</li>
<li>Task:<ul>
<li>Arranged the TaskJuggler workflow.</li>
<li>The task will use the effort &gt; length &gt; duration attributes in <cite>to_tjp</cite>
property.</li>
</ul>
</li>
<li>Changed the license of Stalker from BSD-2 to LGPL 2.1. Any version previous
to 0.2.0.a9 will be still BSD-2 and any version from and including 0.2.0.a9
will be distributed under LGPL 2.1 license.</li>
<li>Added new types of classes called Schedulers which are going to be used in
scheduling the tasks.</li>
<li>Added TaskJugglerScheduler, it uses the given project and schedules its
tasks.</li>
</ul>
</div>
<div class="section" id="a8">
<h2>0.2.0.a8<a class="headerlink" href="#a8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>TagSelect now can be filled by setting its <tt class="docutils literal"><span class="pre">value</span></tt> attribute (Ex:
TagSelect.set(&#8216;value&#8217;, data))</li>
<li>Fixed Projects menu in base.jinja2, the link is now updating correctly when a
new project is added.</li>
<li>Added a new method called <tt class="docutils literal"><span class="pre">is_root</span></tt> to Task class. It is true for tasks
where there are no parents.</li>
<li>Added a new attribute called <tt class="docutils literal"><span class="pre">users</span></tt> to the Department class which is a
synonym for the <tt class="docutils literal"><span class="pre">members</span></tt> attribute.</li>
<li>Task:<ul>
<li>Task class is now preventing one of the dependents to be set as the parent
of a task.</li>
<li>Task class is now preventing one of the parents to be set as the one of the
dependents of a task.</li>
<li>Fixed <tt class="docutils literal"><span class="pre">autoflush</span></tt> bugs in Task class.</li>
</ul>
</li>
<li>Fixed <cite>admin</cite> users department initialization.</li>
<li>Added <tt class="docutils literal"><span class="pre">thumbnail</span></tt> attribute to the SimpleEntity class which is a reference
to a Link instance, showing the path of the thumbnail.</li>
<li>Fixed Circular Dependency bug in Task class, where a parent of a newly
created task is depending to another task which is set as the dependee for
this newly created task (T1 -&gt; T3 -&gt; T2 -&gt; T1 (parent relation) -&gt; T3 -&gt; T2
etc.).</li>
<li>jQueryGantt: Moving any child task will adjust the parent start and end dates
so they fit to the children.</li>
</ul>
</div>
<div class="section" id="a7">
<h2>0.2.0.a7<a class="headerlink" href="#a7" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Changed these default setting value names to corresponding new names:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">DEFAULT_TASK_DURATION</span></tt> -&gt; <tt class="docutils literal"><span class="pre">TASK_DURATION</span></tt></li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_TASK_PRIORITY</span></tt> -&gt; <tt class="docutils literal"><span class="pre">TASK_PRIORITY</span></tt></li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_VERSION_TAKE_NAME</span></tt> -&gt; <tt class="docutils literal"><span class="pre">VERSION_TAKE_NAME</span></tt></li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_TICKET_LABEL</span></tt> -&gt; <tt class="docutils literal"><span class="pre">TICKET_LABEL</span></tt></li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_ACTIONS</span></tt> -&gt; <tt class="docutils literal"><span class="pre">ACTIONS</span></tt></li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_BG_COLOR</span></tt> -&gt; <tt class="docutils literal"><span class="pre">BG_COLOR</span></tt></li>
<li><tt class="docutils literal"><span class="pre">DEFAULT_FG_COLOR</span></tt> -&gt; <tt class="docutils literal"><span class="pre">FG_COLOR</span></tt></li>
</ul>
</li>
<li><p class="first">stalker.conf.defaults:</p>
<ul class="simple">
<li>Added default settings for project working hours (<tt class="docutils literal"><span class="pre">WORKING_HOURS</span></tt>,
<tt class="docutils literal"><span class="pre">DAY_ORDER</span></tt>, <tt class="docutils literal"><span class="pre">DAILY_WORKING_HOURS</span></tt>)</li>
<li>Added a new variable for setting the task time resolution called
<tt class="docutils literal"><span class="pre">TIME_RESOLUTION</span></tt>.</li>
</ul>
</li>
<li><p class="first">stalker.models.project.Project:</p>
<ul>
<li><p class="first">Removed Project.project_tasks attribute, use Project.tasks directly to get
all the Tasks in that project. For root task you can do a quick query:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Task</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Task</span><span class="o">.</span><span class="n">project</span><span class="o">==</span><span class="n">proj_id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Task</span><span class="o">.</span><span class="n">parent</span><span class="o">==</span><span class="bp">None</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
<p>This will also return the Assets, Sequences and Shots in that project,
which are also Tasks.</p>
</li>
<li><p class="first">Users are now assigned to Projects by appending them to the Project.users
list. This is done in this way to allow a reduced list of resources to be
shown in the Task creation dialogs.</p>
</li>
<li><p class="first">Added a new helper class for Project working hour management, called
WorkingHours.</p>
</li>
<li><p class="first">Added a new attribute to Project class called <tt class="docutils literal"><span class="pre">working_hours</span></tt> which holds
stalker.models.project.WorkingHours instances to manage the Project working
hours. It will directly be passed to TaskJuggler.</p>
</li>
</ul>
</li>
<li><p class="first">stalker.models.task.Task:</p>
<ul class="simple">
<li>Removed the Task.task_of attribute, use Task.parent to get the owner of
this Task.</li>
<li>Task now has two new attributes called Task.parent and Task.children which
allow more complex Task-to-Task relation.</li>
<li>Secondary table name for holding Task to Task dependency relation is
renamed from <tt class="docutils literal"><span class="pre">Task_Tasks</span></tt> to <tt class="docutils literal"><span class="pre">Task_Dependencies</span></tt>.</li>
<li>check_circular_dependency function is now accepting a third argument which
is the name of the attribute to be investigated for circular relationship.
It is done in that way to be able to use the same function in searching for
circular relations both in parent/child and depender/dependee relations.</li>
</ul>
</li>
<li><p class="first">ScheduleMixin:</p>
<ul class="simple">
<li>Added a new attribute to ScheduleMixin for time resolution adjustment.
Default value is 1 hour and can be set with
stalker.conf.defaults.TIME_RESOLUTION. Any finer time than the resolution
is rounded to the closest multiply of the resolution. It is possible to set
it from microseconds to years. Although 1 hour is a very reasonable
resolution which is also the default resolution for TaskJuggler.</li>
<li>ScheduleMixin now uses datetime.datetime for the start and end attributes.</li>
<li>Renamed the <tt class="docutils literal"><span class="pre">start_date</span></tt> attribute to <tt class="docutils literal"><span class="pre">start</span></tt>.</li>
<li>Renamed the <tt class="docutils literal"><span class="pre">end_date</span></tt> attribute to <tt class="docutils literal"><span class="pre">end</span></tt></li>
</ul>
</li>
<li><p class="first">Removed the TaskableEntity.</p>
</li>
<li><p class="first">Asset, Sequence and Shot classes are now derived from Task class allowing
more complex Task relation combined with the new parent/child relation of
Tasks. Use Asset.children or Asset.tasks to reach the child tasks of that
asset (same with Sequence and Shot classes).</p>
</li>
<li><p class="first">stalker.models.shot.Shot:</p>
<ul class="simple">
<li>Removed the sequence and introduced sequences attribute in Shot class. Now
one shot can be in more than one Sequence. Allowing more complex
Shot/Sequence relations..</li>
<li>Shots can now be created without a Sequence instance. The sequence
attribute is just used to group the Shots.</li>
<li>Shots now have a new attribute called <tt class="docutils literal"><span class="pre">scenes</span></tt>, holding Scene instances.
It is created to group same shots occurring in the same scenes.</li>
</ul>
</li>
<li><p class="first">In tests all the Warnings are now properly handled as Warnings.</p>
</li>
<li><p class="first">stalker.models.ticket.Ticket:</p>
<ul class="simple">
<li>Ticket instances are now tied to Projects and it is now possible to create
Tickets without supplying a Version. They are free now.</li>
<li>It is now possible to link any SimpleEntity to a Ticket.</li>
<li>The Ticket Workflow is now fully customizable. Use
stalker.conf.defaults.TICKET_WORKFLOW dictionary to define the workflow and
stalker.conf.defaults.TICKET_STATUS_ORDER for the order of the ticket
statuses.</li>
</ul>
</li>
<li><p class="first">Added a new class called <tt class="docutils literal"><span class="pre">Scene</span></tt> to manage Shots with another property.</p>
</li>
<li><p class="first">Removed the <tt class="docutils literal"><span class="pre">output_path</span></tt> attribute in FilenameTemplate class.</p>
</li>
<li><p class="first">Grouped the templates for each entity under a directory with the entity name.</p>
</li>
<li><p class="first">Converted the <tt class="docutils literal"><span class="pre">view.py</span></tt> to a python module and put the views for each
entity to its own python file.</p>
</li>
</ul>
</div>
<div class="section" id="a6">
<h2>0.2.0.a6<a class="headerlink" href="#a6" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Added a new Dojo Widget called Tag to help the creation of the tags in the
TagSelect.</p>
</li>
<li><p class="first">Users now can have more than one Department.</p>
</li>
<li><p class="first">Updated java scripts to be <cite>required</cite> in Dojo AMD way.</p>
</li>
<li><p class="first">Updated setup.py to include &#8220;pyramid_jinja2&#8221;</p>
</li>
<li><p class="first">User instances now have two new properties for getting the user tickets
(User.tickets) and the open tickets (User.open_tickets).</p>
</li>
<li><p class="first">New shortcut Task.project returns the Task.task_of.project value.</p>
</li>
<li><p class="first">Added &#8216;PlaceHolder&#8217; property for &#8216;FilterSelect Widgets&#8217;. And &#8216;Label&#8217; property
is used in construction of &#8216;PlaceHolder&#8217; property.</p>
</li>
<li><p class="first">Set disabled prerequisite fields, until their prerequisite is selected.</p>
</li>
<li><p class="first">Added &#8216;StartDate&#8217;, &#8216;EndDate&#8217; and &#8216;Duration&#8217; field to add_project page.
&#8216;StartDate&#8217;, &#8216;EndDate&#8217; properties are written on database.</p>
</li>
<li><p class="first">jQueryGannt:</p>
<ul class="simple">
<li>Gannt view is now communicating with Stalker correctly. The only left issue
is the end date value is not properly shown in the gannt view.</li>
<li>Updated the jQueryGannt css&#8217;s to work with Stalker and Dojo.</li>
</ul>
</li>
<li><p class="first">Project page is redesigned. SplitContainer is removed. All contents are
displayed in TabContainer. New Contents in TabContainer are:</p>
<blockquote>
<div><ul class="simple">
<li>ProjectName (Disabled Field - Used for displaying projectname.)</li>
<li>Overview  (It has InlineEditable fields. Although they are not connected
to DB.)</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Shot and Asset creation dialogs now automatically updated with the given
Project instance info.</p>
</li>
<li><p class="first">User overview page is now reflection the new design.</p>
</li>
</ul>
</div>
<div class="section" id="a5">
<h2>0.2.0.a5<a class="headerlink" href="#a5" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">The <tt class="docutils literal"><span class="pre">code</span></tt> attribute of the SimpleEntity is now introduced as a separate
mixin. To let it be used by the classes it is really needed.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">query</span></tt> method is now converted to a property so it is now possible to
use it like a property as in the SQLAlchemy.orm.Session as shown below:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">stalker</span> <span class="kn">import</span> <span class="n">Project</span>
<span class="n">Project</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span> <span class="c"># instead of Project.query().all()</span>
</pre></div>
</div>
</li>
<li><p class="first">ScheduleMixin.due_date is renamed to ScheduleMixin.end_date.</p>
</li>
<li><p class="first">Added a new class attribute to SimpleEntity called <tt class="docutils literal"><span class="pre">__auto_name__</span></tt> which
controls the naming of the instances and instances derived from SimpleEntity.
If <tt class="docutils literal"><span class="pre">__auto_name__</span></tt> is set to True the <tt class="docutils literal"><span class="pre">name</span></tt> attribute of the instance
will be automatically generated and it will have the following format:</p>
<div class="highlight-python"><pre>{{ClassName}}_{{UUID4}}</pre>
</div>
<p>Here are a couple of naming examples:</p>
<div class="highlight-python"><pre>Ticket_74bb46b0-29de-4f3e-b4e6-8bcf6aed352d
Version_2fa5749e-8cdb-4887-aef2-6d8cec6a4faa</pre>
</div>
</li>
<li><p class="first">Fixed an autoflush issue with SQLAlchemy in StatusList class. Now the status
column is again not nullable in StatusMixin.</p>
</li>
<li><p class="first">The WebUI form fields are now refreshed with newly added data.</p>
</li>
<li><p class="first">Added a new Dojo widget called TagSelect. Which is basically a widget for
adding Tag style widgets.</p>
</li>
</ul>
</div>
<div class="section" id="a4">
<h2>0.2.0.a4<a class="headerlink" href="#a4" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Added a new class called EntityType to hold all the available class names and
capabilities.</p>
</li>
<li><p class="first">Version class now has a new attribute called <tt class="docutils literal"><span class="pre">inputs</span></tt> to hold the inputs of
the current Version instance. It is a list of Link instances.</p>
</li>
<li><p class="first">FilenameTemplate classes <tt class="docutils literal"><span class="pre">path</span></tt> and <tt class="docutils literal"><span class="pre">filename</span></tt> attributes are no more
converted to string, so given a non string value will raise TypeError.</p>
</li>
<li><p class="first">Structure.custom_template now only accepts strings and None, setting it to
anything else will raise a TypeError.</p>
</li>
<li><p class="first">Two Type&#8217;s for FilenameTemplate&#8217;s are created by default when initializing
the database, first is called &#8220;Version&#8221; and it is used to define
FilenameTemplates which are used for placing Version source files. The second
one is called &#8220;Reference&#8221; and it is used when injecting references to a given
class. Along with the FilenameTemplate.target_entity_type this will allow one
to create two different FilenameTemplates for one class:</p>
<div class="highlight-python"><pre># first get the Types
vers_type = Type.query()\
            .filter_by(target_entity_type="FilenameTemplate")\
            .filter_by(type="Version")\
            .first()

ref_type = Type.query()\
           .filter_by(target_entity_type="FilenameTemplate")\
           .filter_by(type="Reference")\
           .first()

# lets create a FilenameTemplate for placing Asset Version files.
f_ver = FilenameTemplate(
    target_entity_type="Asset",
    type=vers_type,
    path="Assets/{{asset.type.code}}/{{asset.code}}/{{task.type.code}}",
    filename="{{asset.code}}_{{version.take_name}}_{{task.type.code}}_v{{'%03d'|version.version_number}}{{link.extension}}"
    output_path="{{version.path}}/Outputs/{{version.take_name}}"
)

# and now define a FilenameTemplate for placing Asset Reference files.
# no need to have an output_path here...
f_ref = FilenameTemplate(
    target_entity_type="Asset",
    type=ref_type,
    path="Assets/{{asset.type.code}}/{{asset.code}}/References",
    filename="{{link.type.code}}/{{link.id}}{{link.extension}}"
)</pre>
</div>
</li>
<li><p class="first">stalker.db.register() now accepts only real classes instead of class names.
This way it can store more information about classes.</p>
</li>
<li><p class="first">Status.bg_color and Status.fg_color attributes are now simple integers. And
the Color class is removed.</p>
</li>
<li><p class="first">StatusMixin.status is now a ForeignKey to a the Statuses table, thus it is a
real Status instance instead of an integer showing the index of the Status in
the related StatusList. This way the Status of the object will not change if
the content of the StatusList is changed.</p>
</li>
<li><p class="first">Added new attribute Project.project_tasks which holds all the direct or
indirect Tasks created for that project.</p>
</li>
<li><p class="first">User.login_name is renamed to User.login.</p>
</li>
<li><p class="first">Removed the <tt class="docutils literal"><span class="pre">first_name</span></tt>, <tt class="docutils literal"><span class="pre">last_name</span></tt> and <tt class="docutils literal"><span class="pre">initials</span></tt> attributes from
User class. Now the <tt class="docutils literal"><span class="pre">name</span></tt> and <tt class="docutils literal"><span class="pre">code</span></tt> attributes are going to be used,
thus the <tt class="docutils literal"><span class="pre">name</span></tt> attribute is no more the equivalent of <tt class="docutils literal"><span class="pre">login</span></tt> and the
<tt class="docutils literal"><span class="pre">code</span></tt> attribute is doing what was <tt class="docutils literal"><span class="pre">initials</span></tt> doing previously.</p>
</li>
</ul>
</div>
<div class="section" id="a3">
<h2>0.2.0.a3<a class="headerlink" href="#a3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Status class now has two new attributes <tt class="docutils literal"><span class="pre">bg_color</span></tt> and <tt class="docutils literal"><span class="pre">fg_color</span></tt> to hold
the UI colors of the Status instance. The colors are Color instances.</li>
</ul>
</div>
<div class="section" id="a2">
<h2>0.2.0.a2<a class="headerlink" href="#a2" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">SimpleEntity now has an attribute called <tt class="docutils literal"><span class="pre">generic_data</span></tt> which can hold any
kind of <tt class="docutils literal"><span class="pre">SOM</span></tt> object inside and it is a list.</p>
</li>
<li><p class="first">Changed the formatting rules for the <tt class="docutils literal"><span class="pre">name</span></tt> in SimpleEntity class, now it
can start with a number, and it is not allowed to have multiple whitespace
characters following each other.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">source</span></tt> attribute in Version is renamed to <tt class="docutils literal"><span class="pre">source_file</span></tt>.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">version</span></tt> attribute in Version is renamed to <tt class="docutils literal"><span class="pre">version_number</span></tt>.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">take</span></tt> attribute in Version is renamed to <tt class="docutils literal"><span class="pre">take_name</span></tt>.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">version_number</span></tt> in Version is now generated automatically if it is
skipped or given as None or it is too low where there is already a version
number for the same Version series (means attached to the same Task and has
the same <tt class="docutils literal"><span class="pre">take_name</span></tt>.</p>
</li>
<li><p class="first">Moved the User class to <tt class="docutils literal"><span class="pre">stalker.models.auth</span> <span class="pre">module</span></tt>.</p>
</li>
<li><p class="first">Removed the <tt class="docutils literal"><span class="pre">stalker.ext.auth</span></tt> module because it is not necessary anymore.
Thus the User now handles all the password conversions by itself.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">PermissionGroup</span></tt> is renamed back to Group
again to match with the general naming of the authorization concept.</p>
</li>
<li><p class="first">Created two new classes for the Authorization system, first one is called
Permission and the second one is a Mixin which is called ACLMixin which adds
ACLs to the mixed in class. For now, only the User and Group classes are
mixed with this mixin by default.</p>
</li>
<li><p class="first">The declarative Base class of SQLAlchemy is now created by binding it to a
ORMClass (a random name) which lets all the derived class to have a method
called <tt class="docutils literal"><span class="pre">query</span></tt> which will bypass the need of calling
<tt class="docutils literal"><span class="pre">DBSession.query(class_)</span></tt> but instead just call <tt class="docutils literal"><span class="pre">class_.query()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">stalker.models.auth</span> <span class="kn">import</span> <span class="n">User</span>
<span class="n">user_1</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">query</span><span class="p">()</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;a user name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="a1">
<h2>0.2.0.a1<a class="headerlink" href="#a1" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Converted the whole system to a Pyramid Web application. If the previous
implementations investigated, it will be understood that it was only the
database model of a Web Application.</p>
</li>
<li><p class="first">Changed the <tt class="docutils literal"><span class="pre">db.setup</span></tt> arguments. It is now accepting a dictionary instead
of just a string to comply with the SQLAlchemy scaffold and this dictionary
should contain keys for the SQLAlchemy engine setup. There is another utility
that comes with Pyramid to setup the database under the <cite>scripts</cite> folder, it
is also working without any problem with stalker.db.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">session</span></tt> variable is renamed to <tt class="docutils literal"><span class="pre">DBSession</span></tt> and is now a scopped
session, so there is no need to use <tt class="docutils literal"><span class="pre">DBSession.commit</span></tt> it will be handled
by the system it self.</p>
</li>
<li><p class="first">Even though the <tt class="docutils literal"><span class="pre">DBSession</span></tt> is using the Zope Transaction Manager extension
normally, in the database tests no extension is used because the transaction
manager was swallowing all errors and it was a little weird to try to catch
this errors out of the <tt class="docutils literal"><span class="pre">with</span></tt> block.</p>
</li>
<li><p class="first">Refactored the code, all the models are now in separate python files, but can
be directly imported from the main stalker module as shown:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">stalker</span> <span class="kn">import</span> <span class="n">User</span><span class="p">,</span> <span class="n">Department</span><span class="p">,</span> <span class="n">Task</span>
</pre></div>
</div>
<p>By using this kind of organization, both development and usage will be eased
out.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">task_of</span></tt> now only accepts TaskableEntity instances.</p>
</li>
<li><p class="first">Updated the examples. It is now showing how to extend SOM correctly.</p>
</li>
<li><p class="first">Updated the references to the SOM classes in docstrings and rst files.</p>
</li>
<li><p class="first">Removed the <tt class="docutils literal"><span class="pre">Review</span></tt> class. And introduced the much handier Ticket class.
Now reviewing a data is the process of creating Ticket&#8217;s to that data.</p>
</li>
<li><p class="first">The database is now initialized with a StatusList and a couple of Statuses
appropriate for Ticket instances.</p>
</li>
<li><p class="first">The database is now initialized with two Type instances (&#8216;Enhancement&#8217; and
&#8216;Defect&#8217;) suitable for Ticket instances.</p>
</li>
<li><p class="first">StatusMixin now stores the status attribute as an Integer showing the index
of the Status in the <tt class="docutils literal"><span class="pre">status_list</span></tt> attribute but when asked for the value
of <tt class="docutils literal"><span class="pre">StatusMixin.status</span></tt> attribute it will return a proper Status instance
and the attribute can be set with an integer or with a proper Status
instance.</p>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="todo.html" title="TODO"
             >next</a> |</li>
        <li class="right" >
          <a href="roadmap.html" title="Stalker Development Roadmap"
             >previous</a> |</li>
        <li><a href="index.html">Stalker 0.2.0.b8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, the Stalker authors and contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>