

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>TODO &mdash; Stalker 0.2.0.b8 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.0.b8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Stalker 0.2.0.b8 documentation" href="index.html" />
    <link rel="next" title="stalker.db" href="generated/stalker.db.html" />
    <link rel="prev" title="Stalker Changes" href="changelog.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="generated/stalker.db.html" title="stalker.db"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Stalker Changes"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Stalker 0.2.0.b8 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TODO</a></li>
<li><a class="reference internal" href="#done">DONE:</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="changelog.html"
                        title="previous chapter">Stalker Changes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="generated/stalker.db.html"
                        title="next chapter">stalker.db</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/todo.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="todo">
<span id="todo-toplevel"></span><h1>TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p class="first">Unicode:</p>
<p>All the string attributes should be unicode so for string attributes which
are checked against being a string should now be checked against being
unicode.</p>
</li>
<li><p class="first">SCM Integration:</p>
<p>The repository can be a local path, and the project can be managed with an
SCM, preferably with Mercurial.</p>
</li>
<li><p class="first">Per user settings file:</p>
<p>To let Pipeline TDs easily setup a new workstation with a setup script,
a predefined file let say with a name of &#8221;.strc&#8221; can be placed in to the
users home folder and Stalker can search for this file and parse it to get
things like the database server path, user name and the password.</p>
<p>There could be also an $STRC environment variable which is showing a common
place lets say in the fileserver, which also may have a &#8221;.strc&#8221; file. In
this way it will be easy to setup only one &#8221;.strc&#8221; file for the whole studio.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">__tablename__</span></tt> and <tt class="docutils literal"><span class="pre">__mapper_args__</span></tt>:</p>
<p>The duty of the <tt class="docutils literal"><span class="pre">__tablename__</span></tt> and <tt class="docutils literal"><span class="pre">__mapper_args__</span></tt> variables are
very common to any class in the SOM. It can be gathered in a mixin and the
<tt class="xref py py-class docutils literal"><span class="pre">SimpleEntity</span></tt> can be mixed with this class and
the rest will have their table name and polymorphic identity by default.</p>
</li>
<li><p class="first">use pyseq for file sequence handling:</p>
<p>PySeq is a great, simple library which handles all the file sequence actions.
It would be great to use it in the <tt class="xref py py-class docutils literal"><span class="pre">Link</span></tt>
instances. So, the <tt class="xref py py-class docutils literal"><span class="pre">Link</span></tt> class can also hold a
string which can be uncompressed with the pyseq.uncompress function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyseq</span> <span class="kn">import</span> <span class="n">uncompress</span>
<span class="n">seq</span> <span class="o">=</span> <span class="n">uncompress</span><span class="p">(</span><span class="s">&quot;./tests/012_vb_110_v001.</span><span class="si">%04d</span><span class="s">.png 1-10&quot;</span><span class="p">,</span>
                 <span class="n">format</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%h%</span><span class="s">p%t </span><span class="si">%r</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Update error messages:</p>
<p>Not all error message are clear. Generally, because of the heavy
inheritance, it is not very obvious which class gave the error. Writing down
the class name should help the user to understand at least what class is
giving the error message.</p>
</li>
<li><p class="first">Hidden keyword arguments:</p>
<p>Because of the heavy inheritance, it is not very clear what parameters are
needed to initialize a class. A simple solution is to repeat all the
parameters of the inherited class in the __init__ of the child class.</p>
</li>
<li><p class="first">Test CRUD:</p>
<p>The database tests should test if all the Create, Read, Update and Delete
operations are happening properly.</p>
</li>
</ul>
</div>
<div class="section" id="done">
<h1>DONE:<a class="headerlink" href="#done" title="Permalink to this headline">¶</a></h1>
<ul>
<li><p class="first">Plural name:</p>
<p>The plural name attribute needs to be reintroduced.</p>
</li>
<li><p class="first">datetime instead of date</p>
<p>In the Task class all the time calculation should be done over the
datetime.datetime class instead of datetime.date object. This will let us
to increase the granularity of the scheduling.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">end_date</span></tt> attribute in ScheduleMixin:</p>
<p>there could be a synonym for the <tt class="docutils literal"><span class="pre">due_date</span></tt> attribute in the
<tt class="xref py py-class docutils literal"><span class="pre">ScheduleMixin</span></tt>. Which will be meaningful for
<tt class="xref py py-class docutils literal"><span class="pre">Booking</span></tt> class.</p>
</li>
<li><p class="first">Logging:</p>
<p>Use the Python logging module to output Debug messages.</p>
</li>
<li><p class="first">StatusMixin and string indices:</p>
<p>StatusMixin should be able to set the status with a string, because it is
possible to use strings in StatusList.</p>
</li>
<li><p class="first">Start &amp; End Date For Classes Mixed With TaskMixin:</p>
<p>All the classes which are mixed with TaskMixin should have a start and end
date attribute which will be set to the start date of the first task to the
due_date of the last task.</p>
</li>
<li><p class="first">Refactor target_entity_type attributes</p>
<p>StatusList, FilenameTemplate and Type classes are using the same
target_entity_type attribute, create a mixin for that.</p>
</li>
<li><p class="first">OverBookingWarning:</p>
<p>Create a new Warning for the <tt class="xref py py-class docutils literal"><span class="pre">Booking</span></tt> class
which will be emitted when a resource is booked for the same time period
more than once.</p>
</li>
<li><p class="first">Auto StatusList connection:</p>
<p>StatusLists can be automatically connected to the created instance if there
is already a database setup and a StatusList instance already defined for
the current class. This means mixing the model part with the control part
but it is acceptable.</p>
</li>
<li><p class="first">Stop the fight between SimpleEntity.name and SimpleEntity.code.</p>
<p>Currently name superseeds code, but it is annoying to change the code over
and over again just because the name is changed. So change the behaviour to
something like that; the code is only updated to the same value with name if
it is set to None or empty string. In any other case the code should remain
in the same value.</p>
</li>
<li><p class="first">SQLAlchemy ORM Declarative:</p>
<p>Use declarative for the whole system. It started to make no sense to use
classical approach with Python objects and it started to be very hard to try
to update all the relations which is handled automatically by SQLAlchemy.
Besides, the work done by all the attributes which are using ValidatedList
is replaced with a neat system whenever the mapping has occured. Which is
the usage case %90 of the time.</p>
<p>Tests are going to be nearly the same. The only programming overhead is the
implementation itself.</p>
<p>Mixin classes also needs some attention, but as far as I see it is
successfully handled withing declarative approach.</p>
</li>
<li><p class="first">&#8220;__stalker_version__&#8221; in SimpleEntity:</p>
<p>Create an attribute called __stalker_version__ in the SimpleEntity, and
automatically update it to the current version string of Stalker to be able
to see with which version of Stalker this data is created, mainly important
for the database part.</p>
</li>
<li><p class="first">Replace all the Mocker based tests with Unittest&#8217;s which are using real
objects. It was necessary to use the Mocker library while designing the rest
of the system, but it is now making things complex and started to hide the
changes of one object from the others in the system.</p>
</li>
<li><p class="first">Convert all the list comparison test to assertItemsEqual</p>
</li>
<li><p class="first">Add a slot in the ValidatedList which will hold the callable for the
validation process when any of the objects are changed (set, remove, delete
etc.) to allow the callable to be called when something has changed. This
will allow more control on the list, e.g. this will help controling the
relation of the classes to each other.</p>
</li>
<li><p class="first">Check FilenameTemplate class documentation.</p>
</li>
<li><p class="first">Check database part of all the previous Type dependent classes (Link, Asset,
Project, Task)</p>
</li>
<li><p class="first">Update the exceptions. Check if a proper exception is raised instead of
raising ValueErrors all the time.</p>
</li>
<li><p class="first">A Status in StatusList should be accessed by its name used as the index</p>
</li>
<li><p class="first">A status should be comparable with a string like project.status==&#8221;complete&#8221;
or project.status==&#8221;cmplt&#8221;</p>
</li>
<li><p class="first">for an object which stores a list of other objects, stalker is validating if
the list is gathered from the correct type of objects, for example,
StatusList objects only accepts a list of Status objects. Stalker is able to
check if the elements in a list are Status objects when a list is assigned
to the StatusList.statuses attribute, but it can not check anything if the
list element is changed individually afterwards. This behaviour should be
extended with a validating system which is able to track changes on list
elements.</p>
<p>SOLUTION:</p>
<blockquote>
<div><p>Added the ValidatedList list variant which does all the necessary things
explained in the problem.</p>
</div></blockquote>
</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="generated/stalker.db.html" title="stalker.db"
             >next</a> |</li>
        <li class="right" >
          <a href="changelog.html" title="Stalker Changes"
             >previous</a> |</li>
        <li><a href="index.html">Stalker 0.2.0.b8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, the Stalker authors and contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>