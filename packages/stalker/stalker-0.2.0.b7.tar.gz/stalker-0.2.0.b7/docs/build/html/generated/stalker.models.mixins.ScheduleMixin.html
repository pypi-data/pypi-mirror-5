

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>stalker.models.mixins.ScheduleMixin &mdash; Stalker 0.2.0.b7 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0.b7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Stalker 0.2.0.b7 documentation" href="../index.html" />
    <link rel="next" title="stalker.models.mixins.StatusMixin" href="stalker.models.mixins.StatusMixin.html" />
    <link rel="prev" title="stalker.models.mixins.ReferenceMixin" href="stalker.models.mixins.ReferenceMixin.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.StatusMixin.html" title="stalker.models.mixins.StatusMixin"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.ReferenceMixin.html" title="stalker.models.mixins.ReferenceMixin"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Stalker 0.2.0.b7 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="stalker.models.mixins.ReferenceMixin.html"
                        title="previous chapter">stalker.models.mixins.ReferenceMixin</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stalker.models.mixins.StatusMixin.html"
                        title="next chapter">stalker.models.mixins.StatusMixin</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/generated/stalker.models.mixins.ScheduleMixin.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stalker-models-mixins-schedulemixin">
<h1>stalker.models.mixins.ScheduleMixin<a class="headerlink" href="#stalker-models-mixins-schedulemixin" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<img src="../_images/inheritance-219253934a10900d3467dcc7d226e051bf515740.png" alt="Inheritance diagram of stalker.models.mixins.ScheduleMixin" usemap="#inheritance4649895ce8" class="inheritance"/>
<map id="inheritance4649895ce8" name="inheritance4649895ce8">
<area shape="rect" id="node1" href="#stalker.models.mixins.ScheduleMixin" title="ScheduleMixin" alt="" coords="6,5,119,30"/>
</map>
</p>
<dl class="class">
<dt id="stalker.models.mixins.ScheduleMixin">
<em class="property">class </em><tt class="descclassname">stalker.models.mixins.</tt><tt class="descname">ScheduleMixin</tt><big>(</big><em>start=None</em>, <em>end=None</em>, <em>duration=None</em>, <em>timing_resolution=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/stalker/models/mixins.html#ScheduleMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.mixins.ScheduleMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Adds schedule info to the mixed in class.</p>
<p>Adds schedule information like <tt class="docutils literal"><span class="pre">start</span></tt>, <tt class="docutils literal"><span class="pre">end</span></tt> and <tt class="docutils literal"><span class="pre">duration</span></tt>. These
attributes will be used in TaskJuggler. Because <tt class="docutils literal"><span class="pre">effort</span></tt> is only
meaningful if there are some <tt class="docutils literal"><span class="pre">resources</span></tt> this attribute has been left
special for <a class="reference internal" href="stalker.models.task.Task.html#stalker.models.task.Task" title="stalker.models.task.Task"><tt class="xref py py-class docutils literal"><span class="pre">Task</span></tt></a> class. The <tt class="docutils literal"><span class="pre">length</span></tt> has
not been implemented because of its rare use.</p>
<p>The preceding order for the attributes is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">start</span> <span class="o">&gt;</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="n">duration</span>
</pre></div>
</div>
<p>So if all of the parameters are given only the <tt class="docutils literal"><span class="pre">start</span></tt> and the <tt class="docutils literal"><span class="pre">end</span></tt>
will be used and the <tt class="docutils literal"><span class="pre">duration</span></tt> will be calculated accordingly. In any
other conditions the missing parameter will be calculated from the
following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="8%" />
<col width="16%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">start</th>
<th class="head">end</th>
<th class="head">duration</th>
<th class="head">DEFAULTS</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><p class="first">start = datetime.datetime.now()</p>
<p>duration = datetime.timedelta(days=10)</p>
<p class="last">end = start + duration</p>
</td>
</tr>
<tr class="row-odd"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><p class="first">duration = datetime.timedelta(days=10)</p>
<p class="last">end = start + duration</p>
</td>
</tr>
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>duration = end - start</td>
</tr>
<tr class="row-odd"><td>X</td>
<td>&nbsp;</td>
<td>X</td>
<td>end = start + duration</td>
</tr>
<tr class="row-even"><td>X</td>
<td>X</td>
<td>X</td>
<td>duration = end - start</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>X</td>
<td>X</td>
<td>start = end - duration</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
<td><p class="first">duration = datetime.timedelta(days=10)</p>
<p class="last">start = end - duration</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td><p class="first">start = datetime.datetime.now()</p>
<p class="last">end = start + duration</p>
</td>
</tr>
</tbody>
</table>
<p>Only the <tt class="docutils literal"><span class="pre">start</span></tt>, <tt class="docutils literal"><span class="pre">end</span></tt> will be stored. The <tt class="docutils literal"><span class="pre">duration</span></tt> attribute is
the direct difference of the the <tt class="docutils literal"><span class="pre">start</span></tt> and <tt class="docutils literal"><span class="pre">end</span></tt> attributes, so there
is no need to store it. But if will be used in calculation of the start and
end values.</p>
<p>The start and end attributes have a <tt class="docutils literal"><span class="pre">computed</span></tt> companion. Which are the
return values from TaskJuggler. so for start there is the
<tt class="docutils literal"><span class="pre">computed_start</span></tt> and for end there is the <tt class="docutils literal"><span class="pre">computed_end</span></tt> attributes.
These values are going to be used in Gantt Charts.</p>
<p>The date attributes can be managed with timezones. Follow the Python idioms
shown in the <a class="reference external" href="http://docs.python.org/library/datetime.html">documentation of datetime</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> (<tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt>) &#8211; the start date of the entity, should be a datetime.datetime
instance, the start is the pin point for the date calculation. In
any condition if the start is available then the value will be
preserved. If start passes the end the end is also changed
to a date to keep the timedelta between dates. The default value is
datetime.datetime.now()</li>
<li><strong>end</strong> (<tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> or <tt class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></tt>) &#8211; the end of the entity, should be a datetime.datetime instance,
when the start is changed to a date passing the end, then the end is also
changed to a later date so the timedelta between the dates is kept.</li>
<li><strong>duration</strong> (<tt class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></tt>) &#8211; The duration of the entity. It is a
<tt class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></tt> instance. The default value is read from
the <tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt> class. See the table above for the
initialization rules.</li>
<li><strong>timing_resolution</strong> (<em>datetime.timedelta</em>) &#8211; The timing_resolution of the datetime.datetime
object in datetime.timedelta. Uses <tt class="docutils literal"><span class="pre">timing_resolution</span></tt> settings in the
<tt class="xref py py-class docutils literal"><span class="pre">stalker.config.Config</span></tt> class which defaults to 1 hour. Setting
the timing_resolution to less then 5 minutes is not suggested because it
is a limit for TaskJuggler.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stalker.models.mixins.ScheduleMixin.__init__">
<tt class="descname">__init__</tt><big>(</big><em>start=None</em>, <em>end=None</em>, <em>duration=None</em>, <em>timing_resolution=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/stalker/models/mixins.html#ScheduleMixin.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.mixins.ScheduleMixin.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.mixins.ScheduleMixin.__init__" title="stalker.models.mixins.ScheduleMixin.__init__"><tt class="xref py py-obj docutils literal"><span class="pre">__init__</span></tt></a>([start,&nbsp;end,&nbsp;duration,&nbsp;...])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.mixins.ScheduleMixin.round_time" title="stalker.models.mixins.ScheduleMixin.round_time"><tt class="xref py py-obj docutils literal"><span class="pre">round_time</span></tt></a>(dt)</td>
<td>Round a datetime object to any time laps in seconds.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.mixins.ScheduleMixin.computed_duration" title="stalker.models.mixins.ScheduleMixin.computed_duration"><tt class="xref py py-obj docutils literal"><span class="pre">computed_duration</span></tt></a></td>
<td>returns the computed_duration as the difference of computed_start</td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">computed_end</span></tt></td>
<td>Represents a column in a database table.</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">computed_start</span></tt></td>
<td>Represents a column in a database table.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.mixins.ScheduleMixin.computed_total_seconds" title="stalker.models.mixins.ScheduleMixin.computed_total_seconds"><tt class="xref py py-obj docutils literal"><span class="pre">computed_total_seconds</span></tt></a></td>
<td>returns the duration as seconds</td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">duration</span></tt></td>
<td></td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">end</span></tt></td>
<td></td>
</tr>
<tr class="row-odd"><td><tt class="xref py py-obj docutils literal"><span class="pre">start</span></tt></td>
<td></td>
</tr>
<tr class="row-even"><td><tt class="xref py py-obj docutils literal"><span class="pre">timing_resolution</span></tt></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.mixins.ScheduleMixin.total_seconds" title="stalker.models.mixins.ScheduleMixin.total_seconds"><tt class="xref py py-obj docutils literal"><span class="pre">total_seconds</span></tt></a></td>
<td>returns the duration as seconds</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="stalker.models.mixins.ScheduleMixin.computed_duration">
<tt class="descname">computed_duration</tt><a class="reference internal" href="../_modules/stalker/models/mixins.html#ScheduleMixin.computed_duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.mixins.ScheduleMixin.computed_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the computed_duration as the difference of computed_start
and computed_end if there are computed_start and computed_end otherwise
returns None</p>
</dd></dl>

<dl class="method">
<dt id="stalker.models.mixins.ScheduleMixin.round_time">
<tt class="descname">round_time</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="../_modules/stalker/models/mixins.html#ScheduleMixin.round_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.mixins.ScheduleMixin.round_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Round a datetime object to any time laps in seconds.</p>
<p>Uses class property timing_resolution as the closest number of seconds
to round to, defaults 1 hour.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> &#8211; datetime.datetime object, defaults now.</td>
</tr>
</tbody>
</table>
<p>Based on Thierry Husson&#8217;s answer in <a class="reference internal" href="#stackoverflow">Stackoverflow</a></p>
<p><span class="target" id="stackoverflow">Stackoverflow</span> : <a class="reference external" href="http://stackoverflow.com/a/10854034/1431079">http://stackoverflow.com/a/10854034/1431079</a></p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.mixins.ScheduleMixin.total_seconds">
<tt class="descname">total_seconds</tt><a class="reference internal" href="../_modules/stalker/models/mixins.html#ScheduleMixin.total_seconds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.mixins.ScheduleMixin.total_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the duration as seconds</p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.mixins.ScheduleMixin.computed_total_seconds">
<tt class="descname">computed_total_seconds</tt><a class="reference internal" href="../_modules/stalker/models/mixins.html#ScheduleMixin.computed_total_seconds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.mixins.ScheduleMixin.computed_total_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the duration as seconds</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.StatusMixin.html" title="stalker.models.mixins.StatusMixin"
             >next</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.ReferenceMixin.html" title="stalker.models.mixins.ReferenceMixin"
             >previous</a> |</li>
        <li><a href="../index.html">Stalker 0.2.0.b7 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, the Stalker authors and contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>