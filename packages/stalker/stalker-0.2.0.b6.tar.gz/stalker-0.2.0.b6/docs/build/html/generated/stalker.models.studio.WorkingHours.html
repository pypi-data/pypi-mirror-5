

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>stalker.models.studio.WorkingHours &mdash; Stalker 0.2.0.b6 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0.b6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Stalker 0.2.0.b6 documentation" href="../index.html" />
    <link rel="next" title="stalker.models.tag.Tag" href="stalker.models.tag.Tag.html" />
    <link rel="prev" title="stalker.models.studio.Studio" href="stalker.models.studio.Studio.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stalker.models.tag.Tag.html" title="stalker.models.tag.Tag"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="stalker.models.studio.Studio.html" title="stalker.models.studio.Studio"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Stalker 0.2.0.b6 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="stalker.models.studio.Studio.html"
                        title="previous chapter">stalker.models.studio.Studio</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stalker.models.tag.Tag.html"
                        title="next chapter">stalker.models.tag.Tag</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/generated/stalker.models.studio.WorkingHours.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="stalker-models-studio-workinghours">
<h1>stalker.models.studio.WorkingHours<a class="headerlink" href="#stalker-models-studio-workinghours" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<img src="../_images/inheritance-27c61056eddac4b317977b3f65e00467b4010e6c.png" alt="Inheritance diagram of stalker.models.studio.WorkingHours" usemap="#inheritance2366422da0" class="inheritance"/>
<map id="inheritance2366422da0" name="inheritance2366422da0">
<area shape="rect" id="node1" href="#stalker.models.studio.WorkingHours" title="WorkingHours" alt="" coords="5,5,115,30"/>
</map>
</p>
<dl class="class">
<dt id="stalker.models.studio.WorkingHours">
<em class="property">class </em><tt class="descclassname">stalker.models.studio.</tt><tt class="descname">WorkingHours</tt><big>(</big><em>working_hours=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A helper class to manage Studio working hours.</p>
<p>Working hours is a data class to store the weekly working hours pattern of
the studio.</p>
<p>The data stored as a dictionary with the short day names are used as the
key and the value is a list of two integers showing the working hours
interval as the minutes after midnight. This is done in that way to ease
the data transfer to TaskJuggler. The default value is defined in
<tt class="xref py py-class docutils literal"><span class="pre">stalker.config.Config</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">wh</span> <span class="o">=</span> <span class="n">WorkingHours</span><span class="p">()</span>
<span class="n">wh</span><span class="o">.</span><span class="n">working_hours</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;mon&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">540</span><span class="p">,</span> <span class="mi">720</span><span class="p">],</span> <span class="p">[</span><span class="mi">820</span><span class="p">,</span> <span class="mi">1080</span><span class="p">]],</span> <span class="c"># 9:00 - 12:00, 13:00 - 18:00</span>
    <span class="s">&#39;tue&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">540</span><span class="p">,</span> <span class="mi">720</span><span class="p">],</span> <span class="p">[</span><span class="mi">820</span><span class="p">,</span> <span class="mi">1080</span><span class="p">]],</span> <span class="c"># 9:00 - 12:00, 13:00 - 18:00</span>
    <span class="s">&#39;wed&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">540</span><span class="p">,</span> <span class="mi">720</span><span class="p">],</span> <span class="p">[</span><span class="mi">820</span><span class="p">,</span> <span class="mi">1080</span><span class="p">]],</span> <span class="c"># 9:00 - 12:00, 13:00 - 18:00</span>
    <span class="s">&#39;thu&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">540</span><span class="p">,</span> <span class="mi">720</span><span class="p">],</span> <span class="p">[</span><span class="mi">820</span><span class="p">,</span> <span class="mi">1080</span><span class="p">]],</span> <span class="c"># 9:00 - 12:00, 13:00 - 18:00</span>
    <span class="s">&#39;fri&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">540</span><span class="p">,</span> <span class="mi">720</span><span class="p">],</span> <span class="p">[</span><span class="mi">820</span><span class="p">,</span> <span class="mi">1080</span><span class="p">]],</span> <span class="c"># 9:00 - 12:00, 13:00 - 18:00</span>
    <span class="s">&#39;sat&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="c"># saturday off</span>
    <span class="s">&#39;sun&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="c"># sunday off</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The default value is 9:00 - 18:00 from Monday to Friday and Saturday and
Sunday are off.</p>
<p>The working hours can be updated by the user supplied dictionary. If the
user supplied dictionary doesn&#8217;t have all the days then the default values
will be used for those days.</p>
<p>It is possible to use day index and day short names as a key value to reach
the data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">stalker</span> <span class="kn">import</span> <span class="n">config</span>
<span class="n">defaults</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">wh</span> <span class="o">=</span> <span class="n">WorkingHours</span><span class="p">()</span>

<span class="c"># this is same by doing wh.working_hours[&#39;sun&#39;]</span>
<span class="k">assert</span> <span class="n">wh</span><span class="p">[</span><span class="s">&#39;sun&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">defaults</span><span class="o">.</span><span class="n">working_hours</span><span class="p">[</span><span class="s">&#39;sun&#39;</span><span class="p">]</span>

<span class="c"># you can reach the data using the weekday number as index</span>
<span class="k">assert</span> <span class="n">wh</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">defaults</span><span class="o">.</span><span class="n">working_hours</span><span class="p">[</span><span class="s">&#39;mon&#39;</span><span class="p">]</span>

<span class="c"># working hours of sunday if defaults are used or any other day defined</span>
<span class="c"># by the stalker.config.Config.day_order</span>
<span class="k">assert</span> <span class="n">wh</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">defaults</span><span class="o">.</span><span class="n">working_hours</span><span class="p">[</span><span class="n">defaults</span><span class="o">.</span><span class="n">day_order</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>working_hours</strong> &#8211; The dictionary that shows the working hours. The keys
of the dictionary should be one of [&#8216;mon&#8217;, &#8216;tue&#8217;, &#8216;wed&#8217;, &#8216;thu&#8217;, &#8216;fri&#8217;,
&#8216;sat&#8217;, &#8216;sun&#8217;]. And the values should be a list of two integers like
[[int, int], [int, int], ...] format, showing the minutes after midnight.
For missing days the default value will be used. If skipped the default
value is going to be used.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stalker.models.studio.WorkingHours.__init__">
<tt class="descname">__init__</tt><big>(</big><em>working_hours=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.__init__" title="stalker.models.studio.WorkingHours.__init__"><tt class="xref py py-obj docutils literal"><span class="pre">__init__</span></tt></a>([working_hours])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.is_working_hour" title="stalker.models.studio.WorkingHours.is_working_hour"><tt class="xref py py-obj docutils literal"><span class="pre">is_working_hour</span></tt></a>(check_for_date)</td>
<td>checks if the given datetime is in working hours</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.to_tjp" title="stalker.models.studio.WorkingHours.to_tjp"><tt class="xref py py-obj docutils literal"><span class="pre">to_tjp</span></tt></a></td>
<td>returns TaskJuggler representation of this object</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.weekly_working_days" title="stalker.models.studio.WorkingHours.weekly_working_days"><tt class="xref py py-obj docutils literal"><span class="pre">weekly_working_days</span></tt></a></td>
<td>returns the weekly working days by looking at the working hours</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.weekly_working_hours" title="stalker.models.studio.WorkingHours.weekly_working_hours"><tt class="xref py py-obj docutils literal"><span class="pre">weekly_working_hours</span></tt></a></td>
<td>returns the total working hours in a week</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.working_hours" title="stalker.models.studio.WorkingHours.working_hours"><tt class="xref py py-obj docutils literal"><span class="pre">working_hours</span></tt></a></td>
<td>the getter of _wh</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.studio.WorkingHours.yearly_working_days" title="stalker.models.studio.WorkingHours.yearly_working_days"><tt class="xref py py-obj docutils literal"><span class="pre">yearly_working_days</span></tt></a></td>
<td>returns the total working days in a year</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="stalker.models.studio.WorkingHours.working_hours">
<tt class="descname">working_hours</tt><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.working_hours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.working_hours" title="Permalink to this definition">¶</a></dt>
<dd><p>the getter of _wh</p>
</dd></dl>

<dl class="method">
<dt id="stalker.models.studio.WorkingHours.is_working_hour">
<tt class="descname">is_working_hour</tt><big>(</big><em>check_for_date</em><big>)</big><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.is_working_hour"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.is_working_hour" title="Permalink to this definition">¶</a></dt>
<dd><p>checks if the given datetime is in working hours</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>check_for_date</strong> (<em>datetime.datetime</em>) &#8211; The time to check if it is a
working hour</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.studio.WorkingHours.to_tjp">
<tt class="descname">to_tjp</tt><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.to_tjp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.to_tjp" title="Permalink to this definition">¶</a></dt>
<dd><p>returns TaskJuggler representation of this object</p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.studio.WorkingHours.weekly_working_hours">
<tt class="descname">weekly_working_hours</tt><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.weekly_working_hours"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.weekly_working_hours" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the total working hours in a week</p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.studio.WorkingHours.weekly_working_days">
<tt class="descname">weekly_working_days</tt><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.weekly_working_days"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.weekly_working_days" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the weekly working days by looking at the working hours
settings</p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.studio.WorkingHours.yearly_working_days">
<tt class="descname">yearly_working_days</tt><a class="reference internal" href="../_modules/stalker/models/studio.html#WorkingHours.yearly_working_days"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#stalker.models.studio.WorkingHours.yearly_working_days" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the total working days in a year</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stalker.models.tag.Tag.html" title="stalker.models.tag.Tag"
             >next</a> |</li>
        <li class="right" >
          <a href="stalker.models.studio.Studio.html" title="stalker.models.studio.Studio"
             >previous</a> |</li>
        <li><a href="../index.html">Stalker 0.2.0.b6 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, the Stalker authors and contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>