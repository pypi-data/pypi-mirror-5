
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Overview &mdash; Cartouche 1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Cartouche 1.1 documentation" href="index.html" />
    <link rel="next" title="cartouche API" href="api.html" />
    <link rel="prev" title="Installing cartouche" href="installation.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="cartouche API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installing cartouche"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Cartouche 1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>Cartouche was motivated by a desire to support docstrings in a style
compatible with that in the <a class="reference external" href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html#Comments">Google Python Style Guide</a>. Currently function
and method docstrings in the Google style are supported, although it is planned
to add support for class docstrings in a future release.</p>
<p>The syntax supported by Cartouche goes some way beyond that described
informally in the Google Style Guide, although I have attempted to remain
compatible with the Google guide.</p>
<p>The main benefit of this simple and highly readable docstring format over the
native reStructuredText Sphinx format is that it retains its readability when
used with the <tt class="docutils literal"><span class="pre">help()</span></tt> function in the Python REPL, or when presented by
IDEs.</p>
</div>
<div class="section" id="functions-and-methods">
<h1>Functions and Methods<a class="headerlink" href="#functions-and-methods" title="Permalink to this headline">¶</a></h1>
<p>Function or method docstrings may contain any text, however, text introduced by
block headings will be treated specially during processing of the docstring and
converted into reStructuredText equivalents before being passed along to Sphinx
for rendering.</p>
<p>The special blocks currently recognised by Cartouche are <tt class="docutils literal"><span class="pre">Args:</span></tt>,
<tt class="docutils literal"><span class="pre">Returns:</span></tt>, <tt class="docutils literal"><span class="pre">Yields:</span></tt>, <tt class="docutils literal"><span class="pre">Raises:</span></tt>, <tt class="docutils literal"><span class="pre">Note:</span></tt> and <tt class="docutils literal"><span class="pre">Warning:</span></tt>.  The order
of the blocks is not significant, although most function docstrings will
consist of a preamble followed by  <tt class="docutils literal"><span class="pre">Args:</span></tt>, <tt class="docutils literal"><span class="pre">Returns:</span></tt> and <tt class="docutils literal"><span class="pre">Raises:</span></tt> in
that order.</p>
<div class="section" id="a-typical-docstring">
<h2>A typical docstring<a class="headerlink" href="#a-typical-docstring" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s start by showing a complete and typical docstring.  This one is taken
from the open source <a class="reference external" href="http://code.google.com/p/asq/">asq</a> project which uses Cartouche for it&#8217;s docstrings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Transforms each element of a sequence into a new form.</span>

<span class="sd">    Each element of the source is transformed through a selector function</span>
<span class="sd">    to produce a corresponding element in teh result sequence.</span>

<span class="sd">    If the selector is identity the method will return self.</span>

<span class="sd">    Note: This method uses deferred execution.</span>

<span class="sd">    Args:</span>
<span class="sd">        selector: A unary function mapping a value in the source sequence</span>
<span class="sd">            to the corresponding value in the generated generated sequence.</span>
<span class="sd">            The single positional argument to the selector function is the</span>
<span class="sd">            element value.  The return value of the selector function</span>
<span class="sd">            should be the corresponding element of the result sequence.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Queryable over generated sequence whose elements are the result</span>
<span class="sd">        of invoking the selector function on each element of the source</span>
<span class="sd">        sequence.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If this Queryable has been closed.</span>
<span class="sd">        TypeError: If selector is not callable.</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<p>This docstring consists of a arbitrarily structured preamble.  The first
Cartouche feature is the <tt class="docutils literal"><span class="pre">Note:</span></tt> block.  Here the note content has been
included on one line, although the note content may extend over several lines
if approriate indentation is used.  Indentation in Cartouche docstrings can be
of any size, but must be consistent, since the indentation is used to extract
structure - much like Python code itself.  The body of a paragraph such as a
<tt class="docutils literal"><span class="pre">Note:</span></tt> can either start on the same line as the heading after the colo—
which is useful for short notes—or can start on the next line if indented.</p>
<p>The second Cartouche heading is <tt class="docutils literal"><span class="pre">Args:</span></tt> which introduces an argument list.
Each named argument have its own heading followed by a colon followed by one
or more lines of description.  Again, the description can start on the same
line or be indented on the following line. There is no need to use blank lines
between arguments - indentation alone is used to extract the structure.</p>
<p>The third Cartouche heading is <tt class="docutils literal"><span class="pre">Returns:</span></tt> which may also be spelt
<tt class="docutils literal"><span class="pre">Return:</span></tt>. In this example, the author has chosen to start the paragraph on
the indented next line.</p>
<p>The final Cartouche heading is <tt class="docutils literal"><span class="pre">Raises:</span></tt> This is followed by a list of
paragraphs each introduced by a heading which is the exception type.</p>
<p>This docstring, when processed by Cartouche will result in the following
reStructuredText markup:</p>
<div class="highlight-python"><pre>Transforms each element of a sequence into a new form.

Each element of the source is transformed through a selector function
to produce a corresponding element in teh result sequence.

If the selector is identity the method will return self.

.. note::

   This method uses deferred execution.

:param selector: A unary function mapping a value in the source sequence
    to the corresponding value in the generated generated sequence.
    The single positional argument to the selector function is the
    element value.  The return value of the selector function
    should be the corresponding element of the result sequence.

:returns: A Queryable over generated sequence whose elements are the result
    of invoking the selector function on each element of the source
    sequence.

:raises:
    * ValueError - If this Queryable has been closed.

    * TypeError - If selector is not callable.</pre>
</div>
<p>This in turn will be rendered by Sphinx into HTML like this:</p>
<img alt="_images/select_html.png" src="_images/select_html.png" />
<p>Now we look at each heading in detail and the syntax it supports:</p>
</div>
<div class="section" id="args">
<h2>Args<a class="headerlink" href="#args" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Args:</span></tt> heading is for specification of function arguments. Each
argument must be described by its own indented paragraph introduced by a colon
terminated heading which is the name of the argument. The descriptive text for
the argument can begin either on the same line as the argument name or
indented on subsequent lines.  The following are examples are legitimate
<tt class="docutils literal"><span class="pre">Args:</span></tt> blocks:</p>
<div class="highlight-python"><pre>Args:
    spline: A cubic SplineCurve containing at least three points.
    curvature: A float value between 0.0 and 1.0.
    color: An RGB tuple.</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>Args:
    spline:
        A cubic SplineCurve containing at least three points.

    curvature:
        A float value between 0.0 and 1.0.

    color:
        An RGB tuple.</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>Args:
    spline: A cubic SplineCurve containing at least three points. Longer
        descriptions which wrap beyond one line can either be started on
        the same line as the parameter name, like this one.
    curvature:
        A float value between 0.0 and 1.0. Or could be started on the next
        line provided a suitable indent is given.

    color: An RGB tuple. Blank lines between arguments are optional.</pre>
</div>
<p>For so-called <em>varargs</em> syntax in Python which allow receiving arbitrary
positional and keyword arguments as a tuple or dictionary respectively, simply
prefix the argument name with <tt class="docutils literal"><span class="pre">\*</span></tt> or <tt class="docutils literal"><span class="pre">\*\*</span></tt> as you would in Python code.
For example:</p>
<div class="highlight-python"><pre>Args:
    *args: A tuple of positional arguments.

    **kwargs: A dictionary of named arguments.</pre>
</div>
<p>Optionally, you may provide a type for the argument in parentheses between
the argument name and the colon.  The type can be any text and does not need
to correspond to an actual Python type:</p>
<div class="highlight-python"><pre>Args:
    spline (SplineCurve): A cubic SplineCurve containing at least three
        points.

    curvature (float): A value between 0.0 and 1.0.

    color (tuple of integers): An RGB tuple with values in the range 0-255.</pre>
</div>
<p>It&#8217;s possible to use almost any reStructuredText or Sphinx formatting in
combination with Cartouche in the body text.</p>
</div>
<div class="section" id="return-and-returns">
<h2>Return and Returns<a class="headerlink" href="#return-and-returns" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Returns:</span></tt> heading which can also be spelled <tt class="docutils literal"><span class="pre">Return:</span></tt> is for the
specification of return values.  There is no specific syntax for describing the
return type, which you should typically mention in the body text. The
description can begin on the same line at the heading or indented on
subsequent lines. Both of the following are valid:</p>
<div class="highlight-python"><pre>Returns: A short description on the same line as the heading.</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>Returns:
    A longer description which starts on the next line indented one level.
    It&#x27;s a little awkward to make up documentation like this when you have
    nothing to say.</pre>
</div>
<p>or combined:</p>
<div class="highlight-python"><pre>Returns: There&#x27;s nothing to stop you starting a multi-line description like
    this one the same line as the heading, so long as you indent subsequent
    lines in the paragraph, like this.</pre>
</div>
<p>If the function you are documenting is a generator, prefer to use <tt class="docutils literal"><span class="pre">Yields:</span></tt>
rather than <tt class="docutils literal"><span class="pre">Return:</span></tt> - see below.</p>
</div>
<div class="section" id="yield-and-yields">
<h2>Yield and Yields<a class="headerlink" href="#yield-and-yields" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Yields:</span></tt> heading, which can also be spelled <tt class="docutils literal"><span class="pre">Yield:</span></tt> is for the
specification of the sequence of values returned by a <em>generator</em>.  When
documenting a generator, prefer to use <tt class="docutils literal"><span class="pre">Yields:</span></tt> over <tt class="docutils literal"><span class="pre">Returns:</span></tt>.  Note
that Cartouche will <em>not</em> verify that the function being documented is
actually a generator. he
description can begin on the same line at the heading or indented on
subsequent lines. Both of the following are valid:</p>
<div class="highlight-python"><pre>Yields: A short description on the same line as the heading.</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>Yields:
    A longer description which starts on the next line indented one level.
    It&#x27;s a little awkward to make up documentation like this when you have
    nothing to say.</pre>
</div>
<p>or combined:</p>
<div class="highlight-python"><pre>Yields: There&#x27;s nothing to stop you starting a multi-line description like
    this one the same line as the heading, so long as you indent subsequent
    lines in the paragraph, like this.</pre>
</div>
</div>
<div class="section" id="raises">
<h2>Raises<a class="headerlink" href="#raises" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Raises:</span></tt> heading is used to specify exception types which can be
raised by the function. The heading is followed, on subsequent indented
paragraphs by further sections each of which details a single exception type.
The paragraph for each exception type is introduced by a heading which is the
exception type itself.  For example, given a function which raises two distinct
exception types, the following formats are acceptable:</p>
<div class="highlight-python"><pre>Raises:
    TypeError: A short description for a TypeError.
    ValueError: A short description for a ValueError.</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>Raises:
    TypeError: A multi-line description for a TypeError which begins on the
        same line as the heading which introduced the type error. Subsequent
        lines must be indented.</pre>
</div>
</div>
</div>
<div class="section" id="classes-and-attributes">
<h1>Classes and Attributes<a class="headerlink" href="#classes-and-attributes" title="Permalink to this headline">¶</a></h1>
<p>Class docstrings support an <tt class="docutils literal"><span class="pre">Attributes:</span></tt> block where instance attributes
of objects of that class may be listed.</p>
<p>The attributes block is simular to the <tt class="docutils literal"><span class="pre">Args:</span></tt> block.  List each attribute
by name separated from its description by a colon.  You can optionally
include the attribute type in parentheses between the name and the colon.</p>
<p>Here&#8217;s an example class docstring:</p>
<div class="highlight-python"><pre>class Example
  &quot;&quot;&quot;The example docstring for the Example class.

  Within this class docstring we can both describe the class, but also use
  an attributes heading to list the attributes we expect the instances of
  the class to have.  There is no specific provision for distinguishing
  between class attributes and instance attributes at this point, so you
  should make that distinction clear in your descriptions.

  Attributes:
      fred: This attribute description just runs to a single line.
      shiela: This attribute description is somewhat longer and spans
           multiple lines. Subsequent lines are indented one further level.
      jim (int): As with function or method docstrings you can optionally
          provide a type in parentheses after the attribute name and before
          the colon which separates the name from the description.

      harry: With longer attribute descriptions it can help to separate the
          attributes with blank lines.  This takes up more room in the
          source code but is much easier to read when using the help()
          function.
  &quot;&quot;&quot;
  pass</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cartouche_217x152.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Overview</a></li>
<li><a class="reference internal" href="#functions-and-methods">Functions and Methods</a><ul>
<li><a class="reference internal" href="#a-typical-docstring">A typical docstring</a></li>
<li><a class="reference internal" href="#args">Args</a></li>
<li><a class="reference internal" href="#return-and-returns">Return and Returns</a></li>
<li><a class="reference internal" href="#yield-and-yields">Yield and Yields</a></li>
<li><a class="reference internal" href="#raises">Raises</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classes-and-attributes">Classes and Attributes</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installing <tt class="docutils literal"><span class="pre">cartouche</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">cartouche</span></tt> API</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/usage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="cartouche API"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installing cartouche"
             >previous</a> |</li>
        <li><a href="index.html">Cartouche 1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Robert Smallshire.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>