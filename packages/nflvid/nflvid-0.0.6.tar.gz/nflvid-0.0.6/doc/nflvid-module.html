<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>nflvid</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >nflvid</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;nflvid
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="nflvid-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== PACKAGE DESCRIPTION ==================== -->
<h1 class="epydoc">Package nflvid</h1><p class="nomargin-top"><span class="codelink"><a href="nflvid-pysrc.html">source&nbsp;code</a></span></p>
<h1 class="heading">Introduction</h1>
    <p>A simple library to download, slice and search NFL game footage on a
    play-by-play basis.</p>
    <p>This library comes with preloaded play-by-play meta data, which 
    describes the start time of each play in the game footage. However, the
    actual footage does not come with this library and is not released by 
    me. This package therefore provides utilities to batch download NFL 
    Game Footage from the original source.</p>
    <p>Once game footage is downloaded, you can use this library to search 
    plays and construct a playlist to play in any video player.</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Classes</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="nflvid.Play-class.html" class="summary-name">Play</a><br />
      Represents a single play with meta data that ties it to game 
        footage.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="nflvid.PlayTime-class.html" class="summary-name">PlayTime</a><br />
      Represents a footage time point, in the format HH:MM:SS:MM
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Functions</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="footage_url"></a><span class="summary-sig-name">footage_url</span>(<span class="summary-sig-arg">gobj</span>,
        <span class="summary-sig-arg">quality</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">1600</code><code class="variable-quote">'</code></span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#footage_url">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#footage_full" class="summary-sig-name">footage_full</a>(<span class="summary-sig-arg">footage_dir</span>,
        <span class="summary-sig-arg">gobj</span>)</span><br />
      Returns the path to the full video for a given game inside an nflvid 
      footage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#footage_full">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#footage_plays" class="summary-sig-name">footage_plays</a>(<span class="summary-sig-arg">footage_play_dir</span>,
        <span class="summary-sig-arg">gobj</span>)</span><br />
      Returns a list of all footage broken down by play inside an nflvid 
      footage directory.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#footage_plays">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#unsliced_plays" class="summary-sig-name">unsliced_plays</a>(<span class="summary-sig-arg">footage_play_dir</span>,
        <span class="summary-sig-arg">gobj</span>,
        <span class="summary-sig-arg">dry_run</span>=<span class="summary-sig-default">False</span>)</span><br />
      Scans the game directory inside footage_play_dir and returns a list 
      of plays that haven't been sliced yet.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#unsliced_plays">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#slice" class="summary-sig-name">slice</a>(<span class="summary-sig-arg">footage_play_dir</span>,
        <span class="summary-sig-arg">full_footage_file</span>,
        <span class="summary-sig-arg">gobj</span>,
        <span class="summary-sig-arg">threads</span>=<span class="summary-sig-default">4</span>,
        <span class="summary-sig-arg">dry_run</span>=<span class="summary-sig-default">False</span>)</span><br />
      Uses ffmpeg to slice the given footage file into play-by-play pieces.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#slice">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#slice_play" class="summary-sig-name">slice_play</a>(<span class="summary-sig-arg">footage_play_dir</span>,
        <span class="summary-sig-arg">full_footage_file</span>,
        <span class="summary-sig-arg">gobj</span>,
        <span class="summary-sig-arg">play</span>,
        <span class="summary-sig-arg">max_duration</span>=<span class="summary-sig-default">15</span>)</span><br />
      This is just like slice, but it only slices the play provided.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#slice_play">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#download" class="summary-sig-name">download</a>(<span class="summary-sig-arg">footage_dir</span>,
        <span class="summary-sig-arg">gobj</span>,
        <span class="summary-sig-arg">quality</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">1600</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">dry_run</span>=<span class="summary-sig-default">False</span>)</span><br />
      Starts an ffmpeg process to download the full footage of the given 
      game with the quality provided.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#download">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#plays" class="summary-sig-name">plays</a>(<span class="summary-sig-arg">gobj</span>)</span><br />
      Returns an ordered dictionary of all plays for a particular game.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#plays">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="nflvid-module.html#play" class="summary-sig-name">play</a>(<span class="summary-sig-arg">gobj</span>,
        <span class="summary-sig-arg">playid</span>)</span><br />
      Returns a Play object given a game and a play id.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="nflvid-pysrc.html#play">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'nflvid'"><code class="variable-quote">'</code><code class="variable-string">nflvid</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Function Details</span></td>
</tr>
</table>
<a name="footage_full"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">footage_full</span>(<span class="sig-arg">footage_dir</span>,
        <span class="sig-arg">gobj</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#footage_full">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the path to the full video for a given game inside an nflvid 
  footage directory.</p>
  <p>If the full footage doesn't exist, then None is returned.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="footage_plays"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">footage_plays</span>(<span class="sig-arg">footage_play_dir</span>,
        <span class="sig-arg">gobj</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#footage_plays">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a list of all footage broken down by play inside an nflvid 
  footage directory. The list is sorted numerically by play id.</p>
  <p>If no footage breakdown exists for the game provided, then an empty 
  list is returned.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="unsliced_plays"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">unsliced_plays</span>(<span class="sig-arg">footage_play_dir</span>,
        <span class="sig-arg">gobj</span>,
        <span class="sig-arg">dry_run</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#unsliced_plays">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Scans the game directory inside footage_play_dir and returns a list of
  plays that haven't been sliced yet. In particular, a play is only 
  considered sliced if the following file is readable, assuming {playid} is
  its play id:</p>
<pre class="literalblock">
   {footage_play_dir}/{eid}-{gamekey}/{playid}.mp4
</pre>
  <p>All plays for the game given that don't fit this criteria will be 
  returned in the list.</p>
  <p>If the list is empty, then all plays for the game have been sliced. 
  Alternatively, None can be returned if there was a problem retrieving the
  play-by-play meta data.</p>
  <p>If dry_run is true, then only the first 10 plays of the game are 
  sliced.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="slice"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">slice</span>(<span class="sig-arg">footage_play_dir</span>,
        <span class="sig-arg">full_footage_file</span>,
        <span class="sig-arg">gobj</span>,
        <span class="sig-arg">threads</span>=<span class="sig-default">4</span>,
        <span class="sig-arg">dry_run</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#slice">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Uses ffmpeg to slice the given footage file into play-by-play pieces. 
  The full_footage_file should point to a full game downloaded with 
  nflvid-footage and gobj should be the corresponding nflgame.game.Game 
  object.</p>
  <p>The footage_play_dir is where the pieces will be saved:</p>
<pre class="literalblock">
   {footage_play_dir}/{eid}-{gamekey}/{playid}.mp4
</pre>
  <p>This function will not duplicate work. If a video file exists for a 
  particular play, then slice will not regenerate it.</p>
  <p>Note that this function uses an eventlet green pool to run multiple 
  ffmpeg instances simultaneously. The maximum number of threads to use is 
  specified by threads. This function only terminates when all threads have
  finished processing.</p>
  <p>If dry_run is true, then only the first 10 plays of the game are 
  sliced.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="slice_play"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">slice_play</span>(<span class="sig-arg">footage_play_dir</span>,
        <span class="sig-arg">full_footage_file</span>,
        <span class="sig-arg">gobj</span>,
        <span class="sig-arg">play</span>,
        <span class="sig-arg">max_duration</span>=<span class="sig-default">15</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#slice_play">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is just like slice, but it only slices the play provided. In 
  typical cases, slice should be used since it makes sure not to duplicate 
  work.</p>
  <p>This function will not check if the play-by-play directory for gobj 
  has been created.</p>
  <p>max_duration is used to cap the length of a play. This drastically 
  cuts down on the time required to slice a game and the storage 
  requirements of a game at the cost of potentially missing bigger plays. 
  This may get smarter in the future. Set max_duration to 0 to impose no 
  artificial cap.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="download"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">download</span>(<span class="sig-arg">footage_dir</span>,
        <span class="sig-arg">gobj</span>,
        <span class="sig-arg">quality</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">1600</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">dry_run</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#download">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Starts an ffmpeg process to download the full footage of the given 
  game with the quality provided. The qualities available are: 400, 800, 
  1200, 1600, 2400, 3000, 4500 with 4500 being the best.</p>
  <p>The footage will be saved to the following path:</p>
<pre class="literalblock">
   footage_dir/{eid}-{gamekey}.mp4
</pre>
  <p>If footage is already at that path, then a LookupError is raised.</p>
  <p>A full game's worth of footage at a quality of 1600 is about 2GB.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="plays"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">plays</span>(<span class="sig-arg">gobj</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#plays">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns an ordered dictionary of all plays for a particular game.</p>
  <p>The game must be a nflgame.game.Game object.</p>
  <p>If there is a problem retrieving the data, None is returned.</p>
  <p>If the game is over, then the XML data is saved to disk.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="play"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">play</span>(<span class="sig-arg">gobj</span>,
        <span class="sig-arg">playid</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="nflvid-pysrc.html#play">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a Play object given a game and a play id. The game must be a 
  nflgame.game.Game object.</p>
  <p>If a play with the given id does not exist, None is returned.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >nflvid</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Jul 22 19:14:06 2013
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
