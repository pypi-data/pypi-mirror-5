{% extends "pdf/base.html" %}
{% load i18n%}
{% block extra_head %}
<style>
    body {
        font-family: "Calibri";
        font-size: 11px;
        margin: 0;
        padding: 0;
    }
    table.contacts {
        width: 210mm;
        padding: 0;
        margin: 0;
        display: block;
    }
    tr {
        display: block;
    }
    tr.footer td {
        width: 66mm;
        height: 15mm;    
    }
    td.contact {
        display: inline-block;
        width: 66mm;
        height: 38.1mm;
        margin: 0;
        text-align: center;
        vertical-align: middle;
    }
    .warning {
        color: red;
        font-size: 1.2em;
    }
</style>
{% endblock %}

{% block content %}
    <table class="contacts">
    {% for c in contacts %}
        {% if forloop.counter0 == 0 %}
            <tr class="footer"><td colspan="3">&nbsp;</td></tr>
        {% endif %}
        {% if forloop.counter0 == 0 or forloop.counter0|divisibleby:3 %}
            <tr>
        {% endif %}
            <td class="contact">
                <div class="name">{{ c.fullname }}</div>
                {% if c.get_full_address %}
                    <div class="address">{{ c.get_address }}</div>
                    {% if c.address2 %}<div class="address">{{ c.get_address2 }}</div>{% endif %}
                    {% if c.address3 %}<div class="address">{{ c.get_address3 }}</div>{% endif %}
                    <div class="city">{{ c.get_zip_code }} {{ c.get_city }} {{ c.get_cedex }}</div>
                {% else %}
                    <div class="warning">{% trans "WARNING : NO ADDRESS DEFINED" %}</div>
                {% endif %}
            </td>
        {% if forloop.counter|divisibleby:3 %}
            </tr>
        {% endif %}
        {% if forloop.counter|divisibleby:21 %}
            <tr class="footer"><td colspan="3">&nbsp;</td></tr>
            <tr class="footer"><td colspan="3">&nbsp;</td></tr>
        {% endif %}
    {% endfor %}
    </table>
{% endblock %}
