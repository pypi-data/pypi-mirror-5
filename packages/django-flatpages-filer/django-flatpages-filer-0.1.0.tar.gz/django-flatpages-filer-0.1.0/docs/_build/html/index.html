

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Django Flatpage Filer &mdash; django-flatpages-filer 0.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="django-flatpages-filer 0.0.2 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">django-flatpages-filer 0.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="django-flatpage-filer">
<h1>Django Flatpage Filer<a class="headerlink" href="#django-flatpage-filer" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="http://travis-ci.org/chrisdev/django-flatpages-filer"><img alt="https://secure.travis-ci.org/chrisdev/django-flatpages-filer.png?branch=master" src="https://secure.travis-ci.org/chrisdev/django-flatpages-filer.png?branch=master" /></a>
<a class="reference external image-reference" href="https://coveralls.io/r/chrisdev/django-flatpages-filer"><img alt="https://coveralls.io/repos/chrisdev/django-flatpages-filer/badge.png?branch=master" src="https://coveralls.io/repos/chrisdev/django-flatpages-filer/badge.png?branch=master" /></a>
<p>An extension to provide easy integration between <tt class="docutils literal"><span class="pre">django.contrib.flatpages</span></tt>
and  <a class="reference external" href="https://pypi.python.org/pypi/django-filer/">Django-filer</a></p>
<blockquote>
<div>&#8220;A file management application for django that makes handling of files
and images a breeze&#8221;.</div></blockquote>
<p>Thw <tt class="docutils literal"><span class="pre">django-flapages-filer</span></tt> app aims to provide a seamless experience
to users of the
standard flatpages app. It enhances the standard flatpages Admin
with inline forms that allow you to include references to your filer based
images and files (attachments). It also allows you to easily maintain content
using a markup format such as <tt class="docutils literal"><span class="pre">Markdown</span></tt>.</p>
<p>However, the <tt class="docutils literal"><span class="pre">contrib.Flatpage</span></tt> model (content, titles)
is not be affected by installing or removing this app.
Your templates do not have to be modified as they will
still utilize the  <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">flatpage.content</span> <span class="pre">}}</span></tt> and <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">flatpage.title</span> <span class="pre">}}</span></tt>
context variables.  Once it is installed, content changes are actually
stored in a related  model <tt class="docutils literal"><span class="pre">flatpages_filer.models.Revisions</span></tt> usually
in a markup format. The Revision model which also keeps track of
content changes making it easy to revert to an earlier versions.
The modified <tt class="docutils literal"><span class="pre">Admin</span> <span class="pre">ChangeForm</span></tt> ensures you can view the latest
version of your content in the appropriate markup format and when
you save a <tt class="docutils literal"><span class="pre">flatpage</span></tt> this markup content  will be rendered to
to html via a  specified parser.</p>
<p>Additionally, <tt class="docutils literal"><span class="pre">django-flatpages-filer</span></tt>:</p>
<ul class="simple">
<li>Comes with a default <tt class="docutils literal"><span class="pre">Markdown</span></tt> parser. By default the
<tt class="docutils literal"><span class="pre">codehilite</span></tt> and <tt class="docutils literal"><span class="pre">extra</span></tt> extensions are supported but you can specify
your own list of extensions in your Django settings</li>
<li>You can easily write your own parser to support to support formats such as
rst or creole.</li>
<li>Provides optional support for the excellent <strong>markItUp</strong>  widget.
This requires the installation <tt class="docutils literal"><span class="pre">django-markitup</span></tt>.</li>
<li>Provides templatetags to support <em>HTML metatags</em> such as keywords and
descriptions in flatpages.</li>
</ul>
<div class="section" id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/chrisdev">Christopher Clarke</a></li>
<li><a class="reference external" href="https://github.com/ilendl2">Lendl R Smith</a></li>
<li><a class="reference external" href="https://github.com/adw0rd">Mikhail Andreev</a></li>
<li><a class="reference external" href="https://github.com/Raumkraut">Raumkraut</a></li>
</ul>
</div>
<div class="section" id="quickstart">
<h2>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h2>
<p>Create a virtual environment for your project and activate it:</p>
<div class="highlight-python"><pre>$ virtualenv mysite-env
$ source mysite-env/bin/activate
(mysite-env)$</pre>
</div>
<p>Next install <tt class="docutils literal"><span class="pre">flatpages_filer</span></tt></p>
<div class="highlight-python"><pre>(mysite-env)$ pip install django-flatpages-filer</pre>
</div>
<p>Add <tt class="docutils literal"><span class="pre">flatpages_filer</span></tt> to your INSTALLED_APPS setting.</p>
<p>Inside your project run:</p>
<div class="highlight-python"><pre>(mysite-env)$ python manage.py syncdb</pre>
</div>
<p>Django-flatpages-filer comes with support for
<a class="reference external" href="http://daringfireball.net/projects/markdown/syntax/">Markdown</a></p>
<p>To include filer images in your content use a standard markdown image
reference</p>
<div class="highlight-python"><pre>![Atl text][filer_image.pk]</pre>
</div>
<p>For a link to a file</p>
<div class="highlight-python"><pre>[Atl text][filer_file.pk]</pre>
</div>
<p>Where <tt class="docutils literal"><span class="pre">pk</span></tt> refers to the primary key of the filer file or image.
To facilitate easy inclusion of the images and file attachments in your markdown
content the <tt class="docutils literal"><span class="pre">Flatpages</span> <span class="pre">Admin</span></tt> now contains Inline image and file attachment
forms which allow you to to associate the filer images or files with
the <tt class="docutils literal"><span class="pre">flatpage</span></tt> once you save the <tt class="docutils literal"><span class="pre">flatpage</span></tt> the correct markdown
image/file reference should is visible in Inline image form.</p>
<div class="section" id="markitup-support">
<h3>markItUp support<a class="headerlink" href="#markitup-support" title="Permalink to this headline">¶</a></h3>
<p>If you want to use the excellent markItUp! editor widget. Install django-markItUp:</p>
<div class="highlight-python"><pre>(mysite-env)$ pip install django-markitup</pre>
</div>
<p>You need a few configuration steps</p>
<ol class="arabic">
<li><p class="first">Add &#8216;markitup&#8217; to your INSTALLED_APPS setting.</p>
</li>
<li><p class="first">Add the following to settings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">MARKITUP_SET</span> <span class="o">=</span> <span class="s">&#39;markitup/sets/markdown&#39;</span>
<span class="n">MARKITUP_SKIN</span> <span class="o">=</span> <span class="s">&#39;markitup/skins/markitup&#39;</span>
<span class="n">MARKITUP_FILTER</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;markdown.markdown&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;safe_mode&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p class="first">You need to use the AJAX-based preview for the admin widget:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">url</span><span class="p">(</span><span class="s">r&#39;^markitup/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;markitup.urls&#39;</span><span class="p">))</span>
</pre></div>
</div>
</li>
</ol>
<p>in your root URLconf.</p>
</div>
<div class="section" id="markup-parsers">
<h3>Markup Parsers<a class="headerlink" href="#markup-parsers" title="Permalink to this headline">¶</a></h3>
<p>Django-flatpages-filer includes a Markdown parser that
supports  <tt class="docutils literal"><span class="pre">codehilite</span></tt> and <tt class="docutils literal"><span class="pre">extra</span></tt> extensions. You can
support additional extensions by first installing the extension
an adding the following to you Django settings</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">FLATPAGES_FILER_PARSER</span><span class="o">=</span> <span class="p">[</span><span class="s">&quot;flatpages_filer.markdown_parser.parse&quot;</span><span class="p">,</span>
                        <span class="p">{</span><span class="s">&#39;extensions&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;codehilite&#39;</span><span class="p">,</span><span class="s">&#39;extras&#39;</span><span class="p">,</span> <span class="s">&#39;abbr&#39;</span><span class="p">]}]</span>
</pre></div>
</div>
<p>You can also supply your own parser by setting the value for
<tt class="docutils literal"><span class="pre">FLATPAGES_FILER_PARSER</span></tt> to point to your parser</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">FLATPAGES_FILER_PARSER</span><span class="o">=</span> <span class="p">[</span><span class="s">&quot;myapp.creole_parser.parse&quot;</span><span class="p">,</span>
                        <span class="p">{</span><span class="s">&#39;emitter&#39;</span><span class="p">:</span> <span class="n">FilerEmmiter</span><span class="p">}]</span>
</pre></div>
</div>
<p>Note we expect that your <tt class="docutils literal"><span class="pre">parse</span></tt> would have the following signature</p>
<div class="highlight-python"><pre>parse(text, [extensions, emitters etc])</pre>
</div>
</div>
<div class="section" id="migrating-from-flatpages-x">
<h3>Migrating From Flatpages-x<a class="headerlink" href="#migrating-from-flatpages-x" title="Permalink to this headline">¶</a></h3>
<p>Before installing to <tt class="docutils literal"><span class="pre">django-flatpage-filer</span></tt> dump the data in the Revison
model</p>
<div class="highlight-python"><pre>python manage.py dumpdata flatpages_x.Revision &gt; revision.json</pre>
</div>
<p>Remove <tt class="docutils literal"><span class="pre">flatpage_x</span></tt> from you settings and install django-flatpages-filer and
add <tt class="docutils literal"><span class="pre">flatpages_filer</span></tt> to the settings. To import the your revision data edit
<tt class="docutils literal"><span class="pre">revision.json</span></tt> and change all occurences of  <tt class="docutils literal"><span class="pre">flatpages_x.revision</span></tt>
to <tt class="docutils literal"><span class="pre">flatpages_filer.revision</span></tt>. Finally, run</p>
<div class="highlight-python"><pre>python manage.py loaddata ~/usr/folder/revision.json</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Django Flatpage Filer</a><ul>
<li><a class="reference internal" href="#contributors">Contributors</a></li>
<li><a class="reference internal" href="#quickstart">Quickstart</a><ul>
<li><a class="reference internal" href="#markitup-support">markItUp support</a></li>
<li><a class="reference internal" href="#markup-parsers">Markup Parsers</a></li>
<li><a class="reference internal" href="#migrating-from-flatpages-x">Migrating From Flatpages-x</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">django-flatpages-filer 0.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Christopher Clarke.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>