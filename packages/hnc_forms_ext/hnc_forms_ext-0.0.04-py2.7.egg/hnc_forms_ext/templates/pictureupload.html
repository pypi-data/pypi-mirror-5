<%inherit file="hnc.forms:templates/basefield.html"/>
<%namespace name="lib" file="hnc.forms:templates/lib.html"/>

<%block name="controls">
    <div class="js-form-widget"  data-field-name="${widget.getName(prefix)}" data-module="libs/fileupload">
        <input type="file" class="file-upload-btn" accept="${','.join(widget.mime_types)}">
        <script type="text/template" class="picture-template"><img src="{{ pic.url }}"/></script>
        <input type="hidden" name="${widget.getName(prefix)}" value="${value}" class="${widget.getClasses()}"/>
        <div class="file-picker-upload ${'' if value else 'empty'}" data-fp-mimetypes="${','.join(widget.mime_types)}" ${widget.getInputAttrs(request)|n}>
            %if value:
                <img src="${value}"/>
            %endif
        </div>
        <div class="info dragdrop-enabled">Drag & Drop Files here</div>
        <div class="info dragdrop-disabled">Click above to upload file</div>
    </div>
</%block>