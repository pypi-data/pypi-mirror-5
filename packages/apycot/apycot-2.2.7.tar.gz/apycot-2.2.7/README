README for apycot
=================

project home page: http://www.cubicweb.org/project/apycot
mercurial repository: http://www.logilab.org/src/cubes/apycot

Installation and configuration
``````````````````````````````

On the web/data server host
---------------------------

* Install cubicweb and the cubicweb-apycot packages (more info in the
  `cubicweb book`_). Notice that the apycot cube may be integrated with
  `tracker`_ based instances.

* Set pyro-server=yes in your instance's configuration file

* Create environment and test configuration entities through the web
  ui of your instance(s) to describe what to test. (See `More
  documentation`_)

* Modify password for the narval user for better security


On the bot host
---------------

* Install the narval-apycot package.

* edit /etc/narval.ini, or ~/etc/narval.ini when running
  code from hg, to adjust the bot configuration. You can also generate
  a stub configuration file using `narval rcfile > /etc/narval.ini`

* If using different user/password for the apycot bot in cubicweb
  instances than default ones (higly recommended), indicate connection
  information for each instance in a /etc/narval-cw-sources.ini file.
  for instance ::

      [cwo]
      user=narval
      password=apycot

      [elo]
      user=narval
      password=apycot

  where each section is the pyro name of an instance. You should
  restrict read perms to this file aggressively.

* for those running from source, `narval/bin/narval` should be
  in PATH

.. _`cubicweb book`: http://www.cubicweb.org/
.. _`tracker`: http://www.cubicweb.org/project/cubicweb-tracker

Once both sides are running, check both are properly registered in the
pyro name server by running

  pyro-nsc listall

You should see your instance as 'cubicweb:...' and the bot as 'narval:...'.
 or in /etc (narval from debian package). This
allows arbitrary password (it's recommended to change the default one), and
also have the nice effect that when your bot will be (re)started, it will connect
to each instance listed in this file to search for pending plans.



More documentation
``````````````````

Beside low-level installation (described here), all the documentation to setup your
continuous integration environment is available online through your instance at
http://<your instance url>/doc/apycot

Feedbacks, bug reports
``````````````````````

Comments and bug reports are welcome on the
python-projects@list.logilab.org mailing-list.
