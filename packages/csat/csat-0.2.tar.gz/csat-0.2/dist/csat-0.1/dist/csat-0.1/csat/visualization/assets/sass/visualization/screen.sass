@import compass
@import variables

$sidebar-width: 350px
$timeline-height: 70px

#backlink
	position: absolute
	z-index: 1000000
	left: 30px
	top: 30px
	opacity: .3

	display: block
	width: 60px
	height: 60px

	border: 10px solid #ccc
	font-size: 0
	+border-radius(100px)
	+transition(opacity .5s ease-out)

	&:hover
		opacity: 1
		text-decoration: none
		+transition(opacity .5s ease-in)

	&:before
		position: absolute
		top: 0
		left: 0
		bottom: 4px
		right: 3px
		display: block
		text-align: center
		line-height: 58px
		font-size: 40px
		color: #ccc

.benchmarks
	position: relative

	.viewport
		border: 1px solid #ccc
		width: 800px
		height: 800px

	.actions
		position: absolute
		right: 0
		left: 810px
		height: 40px
		top: 0
		margin: 0

		button
			margin-top: 20px

		label
			font-size: 0.8em
			color: #333
			margin-right: 5px
			float: left

			input
				display: block
				width: 40px
				text-align: right

			&.intra
				input
					width: 100px

			&.seed
				input
					width: 100px
					clear: right

			&.save
				padding-top: 25px
				input
					margin-top: -1px
					display: inline
					width: auto

	.console
		position: absolute
		right: 0
		left: 810px
		height: 600px
		top: 208px
		margin: 0
		border: 1px solid #ccc
		font-family: Monaco, Menlo, Consolas, "Courier New", monospace
		font-size: 12px
		overflow-y: scroll
		padding-top: 2px

		li
			display: block
			padding: 0 1.5em
			text-indent: -1em
			white-space: pre

			&:nth-child(2n)
				background: rgba(#ccc, 0.1)

html.viewer
	&, & body
		height: 100%
		width: 100%
		padding: 0
		margin: 0

.graph-viewer
	display: block
	width: 100%
	height: 100%
	position: relative
	+box-sizing(border-box)

	.viewport
		position: absolute
		top: 0
		left: 0
		right: $sidebar-width
		bottom: 0
		font-size: 0
		+box-sizing(border-box)

	.sidebar
		position: absolute
		top: 0
		bottom: 0
		right: 0
		width: $sidebar-width
		border-left: 1px solid #ccc
		background: #fcfcfc
		overflow-y: auto
		overflow-x: visible
		+box-sizing(border-box)

		&, .panel-content-wrapper
			&::-webkit-scrollbar
				-webkit-appearance: none

				&:horizontal
					border-top: 1px solid #ccc
				&:vertical
					border-left: 1px solid #ccc
				width: 16px

			&::-webkit-scrollbar-thumb
				border-radius: 10px
				border: 5px solid transparent
				border-right-width: 4px
				+box-shadow(inset 0 0 7px rgba(0,0,0,0.5))

			&::-webkit-scrollbar-corner
				-webkit-appearance: none
				border-top: 1px solid #e3e3e3
				border-left: 1px solid #e3e3e3
				background: transparent

		.panel-content-wrapper::-webkit-scrollbar:horizontal
			border-top: 0

		.panel
			border-bottom: 1px solid #f6f6f6
			border-top: 1px solid #ddd
			max-width: 100%
			position: relative
			background: #fff

			&:first-child
				border-top: 0

			&:last-child
				border-bottom: 1px solid #ddd

			h2
				margin: 0
				padding: 0 .5em 0 .5em
				color: #777
				text-shadow: #fff 0 1px 0
				font-size: 1em
				border-bottom: 1px solid #d3d3d3
				line-height: 1.8em
				+background-image(linear-gradient(top, #fff, #f2f2f2))

	.timeline
		position: absolute
		bottom: 0
		left: 0
		right: 0
		height: $timeline-height
		border-top: 1px solid #ccc
		background: #fcfcfc
		+box-sizing(border-box)
		+border-bottom-radius(4px)

	.overlay
		position: absolute
		bottom: 0
		left: 0
		top: 0
		right: 0
		display: none
		opacity: 0
		background: rgba(#000, 0.1)
		+transition(opacity .7s, bottom .2s, right .2s, border-radius .2s)

		&.active
			display: block

		&.scene-only
			right: $sidebar-width
			bottom: $timeline-height
			+border-radius(0)
			+border-top-left-radius(3px)

		&.visible
			opacity: 1

		> *
			position: absolute
			top: 0px
			bottom: 0px
			left: 0px
			right: 0px
			margin: auto

		div
			width: 400px
			height: 20px
			text-align: center
			color: #888
			text-shadow: #fff 0px 1px 0px
			padding-top: 40px

			.spinner
				top: 10px


.sidebar
	.drop-placeholder
		background: rgba(#ffffcc, 0.8)
		border-top: 1px solid #ddd
		min-height: 30px
		+box-shadow(rgba(#442200, .2) 0 0 5px inset)

		&:first-child
			border-top: 0

	.panel
		+transition(opacity .5s)

		label
			width: 43%
			+box-sizing(border-box)
			padding-right: 10px
			color: #555

			&:after
				content: ""


		.control-label + *
			width: 57%
			height: 30px
			+box-sizing(border-box)


	.ui-sortable-helper:first-child + .drop-placeholder
		border-top: 0

	.ui-sortable-helper
		border-bottom: 1px solid #ddd !important
		border-top: 1px solid #ddd !important
		opacity: .8
		+box-shadow(rgba(#000, .3) 0 0 15px)

	.panel > h2
		cursor: pointer
		+user-select(none)

		&:hover
			+background-image(linear-gradient(top, #f9f9f9, #e6e6e6))

		&:before
			font-family: FontAwesome
			content: "\f0d7"
			display: inline-block
			text-align: center
			width: .5em
			padding-right: .5em

	.panel.closed
		border-bottom: 0

		&:last-child
			border-bottom: 1px solid #d3d3d3

		> h2
			border-bottom: 0
			&:before
				content: "\f0da"

		.panel-content-wrapper
			height: 0
			overflow: hidden

	.panel-content-wrapper
		overflow-x: auto
		overflow-y: visible

.panel.basic
	dl
		padding: 1em .5em .5em
		margin: 0

	dt
		width: 100px

	dd
		margin-left: 120px

.panel.domains
	.panel-content-wrapper
		overflow: visible

	.panel-content > ul
		margin: 0
		padding: 0
		position: relative
		overflow: visible

		> li
			display: block
			padding: 0 0 0 .5em
			line-height: 2em
			position: relative
			overflow: visible

			& + li
				border-top: 1px solid #ddd

			&:nth-child(2n+1)
				background: #fff

			.muted
				font-style: italic
				font-size: 0.85em

	div.actions
		position: absolute
		top: 0
		bottom: 0
		right: 30px
		width: 22px

		a
			opacity: 0
			display: block
			width: 100%
			height: 100%
			text-align: center
			line-height: 31px
			color: #bbb
			position: relative
			z-index: 1
			+transition(opacity .5s 0s)

			&:hover
				text-decoration: none
				color: #0088cc

			.icon-pause, .icon-play
				position: absolute
				top: 0
				left: 0
				display: block
				width: 100%
				height: 100%
				text-align: center
				line-height: 31px

		.spinner
			z-index: 0
			opacity: 0
			+transition(opacity .5s .1s)

		.icon-play
			display: block
		.icon-pause
			display: none

	li.paused .actions
		a
			opacity: 1

		.icon-pause
			display: block
			opacity: .3
			+transition(opacity .5s .1s)
		.icon-play
			opacity: 0
			+transition(opacity .5s 0s)

	li.paused:hover .actions
		.icon-play
			opacity: 1
			+transition(opacity .5s .1s)
		.icon-pause
			opacity: 0
			+transition(opacity .5s 0s)

	li.running .actions
		a
			+transition(opacity .5s)

		.spinner
			opacity: 1
		.icon-play
			display: none
		.icon-pause
			display: block

	li.running:hover .actions
		.spinner
			+transition(opacity .5s 0s)
			opacity: 0

		a
			+transition(opacity .5s .1s)
			opacity: 1

	a.settings
		position: absolute
		top: 0
		bottom: 0
		right: 0
		width: 30px
		cursor: pointer
		display: block
		text-align: center
		text-decoration: none
		z-index: 1000
		color: #bbb

		&.hidden
			display: none

		&:hover
			color: #0088cc

	.pop-out
		$width: 352px
		$pointer: 10px
		display: none
		position: fixed
		z-index: 10000
		width: $width
		margin-top: -62px
		margin-left: -($width + $pointer + 9px)
		margin-right: 11px

		.pointer
			display: block
			width: 0px
			height: 0px
			position: fixed
			margin-left: $width
			margin-top: 33px

			&:after
				border: ($pointer + 2px) solid transparent
				border-left: ($pointer + 2px) solid #f6f6f6
				display: block
				content: " "
				font-size: 0
				position: absolute
				left: -3px
				top: ($pointer - 2px) / 2 - 0.6px
				z-index: 100

			&:before
				border: $pointer solid transparent
				border-left: $pointer solid #ccc
				display: block
				content: " "
				font-size: 0
				position: absolute
				left: 0
				top: $pointer / 2

		&.open
			display: block

		.ui-tabs-nav
			margin: 0px 0 -1px 6px
			font-size: 0
			line-height: 0

			> li
				display: inline-block
				font-size: 14px
				background: rgba(#f3f3f3, .9)
				border: 1px solid #ddd
				+border-top-radius(4px)

				a
					display: block
					padding: 3px 10px
					color: #777
					+text-shadow(#fff 0 1px 0)

					&:hover
						text-decoration: none

				&:first-child
					+border-top-left-radius(6px)
				&:last-child
					+border-top-right-radius(6px)

				& + li
					border-left: 0

				&.ui-state-focus
					&, a
						outline: none

				&.ui-state-active
					background: rgba(#f9f9f9, .9)
					border-bottom-color: #f9f9f9

					a
						text-decoration: none
						color: #777

		.settings-wrapper
			border: 1px solid #ddd
			background: rgba(#f6f6f6, .9)
			padding: 20px 20px 0px
			min-height: 50px
			max-height: 600px
			overflow: auto
			+box-shadow(rgba(#fff, .8) 0px 0px 10px inset, rgba(#000, .06) 0px 0px 15px)
			+border-radius($baseBorderRadius)
			+box-sizing(border-box)

			&::-webkit-scrollbar
				-webkit-appearance: none

				&:horizontal
					border-top: 1px solid #ccc
				&:vertical
					border-left: 1px solid #ccc
				width: 16px

			&::-webkit-scrollbar-thumb
				border-radius: 10px
				border: 5px solid transparent
				border-right-width: 4px
				+box-shadow(inset 0 0 7px rgba(0,0,0,0.5))

			&::-webkit-scrollbar-corner
				-webkit-appearance: none
				border-top: 1px solid #e3e3e3
				border-left: 1px solid #e3e3e3
				background: transparent

.panel.stats
	.panel-content
		padding: 10px
		font-size: 10px
		line-height: 10px

	#fps, #ms
		width: 300px
		border: 1px solid #ccc
		padding: 1px
		margin: 0 auto
		position: relative

	#fpsText, #msText
		position: absolute
		left: 4px
		top: 3px
		font-weight: bold

	#fpsGraph, #msGraph
		background: #2c9cd7
		height: 40px
		span
			background: #f6f6f6
			width: 0.5%
			height: 40px
			border-bottom: 1px solid #fff
			float: left
			display: block
			+box-sizing(border-box)

	#fps
		margin-bottom: 10px

.panel.layout
	.panel-content-wrapper
		padding: 0 .5em
		overflow: visible

	.strategy-config.extruded
		.strategy-select

		.algorithm-configurator
			border-top: 1px solid #ddd

		.algorithm-select
			margin-top: 10px
			border: 0
			padding: 0

	.btn
		min-width: 120px

	.btn-group .btn
		min-width: auto

		&:first-child
			min-width: 95px

.panel.domains
	form[id^=nodes-texture-]
		margin: 0
		.control-group
			margin: 0 0 15px 0

	form[id^=nodes-sizing-attribute-],
	form[id^=nodes-coloring-attribute-]
		margin: 0
		border-top: 1px solid #ccc

		.control-group
			margin: 0
			padding-top: 15px
			border-top: 1px solid #fff

	form[id^=labels-]
		.control-group
			margin: 10px 0
			&:first-child
				margin-top: 0

		input[type=checkbox]
			margin: 0

	.pop-out .bezier-editor
		margin: 0 -20px
		.gradient-editor > div
			width: 286px

.panel.generic
	.panel-content
		padding: 10px
	.control-group
		margin-bottom: 10px
	input[type=checkbox]
		margin-top: -1px
	form
		margin: 0

.panel.export
	.panel-content
		padding: 1em
		text-align: center

	.btn + .btn
		margin-left: 10px

.panel.nodeinfo
	.panel-content-wrapper
		overflow: visible
	table
		font-size: 0.9em
		width: 100%
		th

			text-align: right
			white-space: nowrap
		th, td
			border-bottom: 1px solid #ddd
		th
			padding: 2px 6px 2px 10px
		td
			padding: 2px 6px 2px 10px
		tr:hover
			th, td
				background: rgba(#ff0, .1)
	p.muted
		font-style: italic
		text-align: center
		padding: 10px 10px 0

	.table-wrapper
		overflow-x: auto

	.neighbors-filter
		padding: 10px
		text-align: center

		> div
			text-align: left

			> button
				width: 230px

				span
					padding-right: .5em

				&:hover
					z-index: auto

.panel.nodes-display
	.panel-content
		padding: 1px

		> div > form
			padding: 10px 20px 0
			margin: 0
			.control-group
				margin: 0
	.bezier-editor
		text-align: center
		margin: 0 auto



.bezier-editor
	form
		margin: -50px auto 0
		padding: 5px 30px 15px
		overflow: auto
		position: relative
		z-index: 1000
		+box-sizing(border-box)

	.control-group
		width: 100px
		margin: 0

		label
			padding: 0
			margin: 0
			display: block
			width: auto
			float: none
			display: none

		.control-label + *
			width: 100%

		input
			height: 30px
			width: 100%
			+box-sizing(border-box)


	.control-group:first-child
		float: left
		&, label
			text-align: left

	.control-group:last-child
		float: right
		&, label
			text-align: right

#nodes-color-settings
	.control-group
		width: 100%
		float: none

.gradient-editor
	margin-bottom: 10px
	border: 1px solid #999
	padding: 1px
	background: #fff
	+box-shadow(rgba(#000, 0.075) 0 1px 1px inset)
	+border-radius(4px)

	> div:first-child
		position: relative

	.gradient-preview
		height: 26px
		+border-radius(4px)

	.color-stop
		cursor: pointer
		position: absolute
		bottom: -6px
		height: 10px
		width: 10px
		margin-left: -6px
		margin-right: -6px
		background: blue
		left: 0%
		z-index: 1000
		border: 1px solid #fff
		border-top: 0
		+box-shadow(rgba(#000, 0.7) 0 1px 3px)
		+border-bottom-radius(4px)

		&:before
			content: " "
			border: 7px solid transparent
			border-bottom-color: rgba(#000, .2)
			position: absolute
			bottom: 100%
			margin-bottom: 0px
			left: -2px
			z-index: 100

		&:after
			content: " "
			border: 6px solid transparent
			border-bottom-color: #fff
			position: absolute
			bottom: 100%
			//margin-bottom: 1px
			left: -1px
			z-index: 500

		.tip
			border: 5px solid transparent
			position: absolute
			margin-bottom: -1px
			bottom: 100%
			left: 0
			z-index: 1000

		input
			display: none

		&.open
			border-bottom-color: #fff
			border-bottom-width: 6px
			height: 10px
			bottom: -11px
			z-index: 100000
			+border-bottom-radius(0px)

.gradient-color-picker,
.color-picker
	border: 1px solid #ccc !important
	background: #f6f6f6 !important
	margin-top: 4px
	+box-shadow(#fff 0px 0px 10px inset, rgba(#000, .1) 0px 0px 15px)
	+border-radius(8px)

	&:before
		position: absolute
		top: -1px
		left: 50%
		margin-left: -6px
		height: 1px
		background: #f6f6f6
		width: 12px

	> div > div:nth-child(1)
		// Luminosity
		border: 1px solid #ccc !important
		+border-radius(4px)
		+box-shadow(rgba(#000, .1) 0 -1px 1px inset, #fff 0 0 0 2px inset)

		> div
			+border-radius(4px)
			width: 16px !important
			margin: 2px
			height: 97px !important


	> div > div:nth-child(3)
		// Main colors
		border: 1px solid #ccc !important
		+border-radius(4px)

		> div
			+border-radius(4px)
			+box-shadow(rgba(#000, .1) 0 -1px 1px inset, #fff 0 0 0 2px inset)

	> div > div:nth-child(4)
		// Crosshair

.gradient-color-picker
	margin-left: -113px
	&:before
		content: ' '


.panel.graph-thumbnail .panel-content
	text-align: center
	> div
		border: 1px solid #ccc
		margin: 10px auto
		padding: 2px
		position: relative
		cursor: pointer

		button
			background: rgba(#000, .7)
			position: absolute
			top: 50%
			left: 50%
			width: 100px
			height: 30px
			margin: -15px 0 0 -50px
			border: 0
			color: #fff
			text-transform: uppercase
			opacity: 0
			+transition(opacity .8s .2s)
			+border-radius(100px)

			&:hover
				background: rgba(#000, .8)

		&:hover button
			+transition(opacity .5s 0)
			opacity: 1

		canvas

.viewport .cropper
	position: absolute
	background: rgba(#fff, .0)
	border: 4px solid #fff
	display: none
	+box-shadow(rgba(#fff, 1) 0 0 100px 10px, rgba(#000, .5) 0 0 10px, rgba(#000, .4) 0 0 5px inset)

	&.active
		display: block

	.ui-resizable-handle
		$size: 20px
		width: $size
		height: $size
		background: #0088cc
		position: absolute
		border: 3px solid #fff
		margin: -$size / 2 - 1
		+transform(scale(0.7))
		+box-sizing(border-box)
		+box-shadow(rgba(#000, .5) 0 0 2px)
		+border-radius(100px)

		&.ui-resizable-se
			bottom: 0
			right: 0

		&.ui-resizable-sw
			bottom: 0
			left: 0

		&.ui-resizable-ne
			top: 0
			right: 0

		&.ui-resizable-nw
			top: 0
			left: 0

		&:hover
			cursor: pointer
			+transform(scale(1))

	button
		background: rgba(#000, .7)
		position: absolute
		top: 50%
		left: 50%
		width: 70px
		height: 30px
		margin: -15px 0 0 -35px
		border: 0
		color: #fff
		text-transform: uppercase
		+border-radius(100px)

		&:hover
			background: rgba(#000, .8)

@import algorithm-config
