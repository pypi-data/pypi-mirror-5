commit 124329a40e8dc05952bf7632a01bec91abc71abe
Author: Ghe Rivero <ghe.rivero@hp.com>
Date:   Wed Sep 4 06:48:00 2013 +0000

    Fix dir install location in o-r-c README
    
    Change-Id: I1f1b9574cafe14a66aeecb64e499f0a4beecd078

commit 7e42969f57b13d2ca3361da397a9a085cb22355f
Merge: aa66683 418a7de
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 16:51:05 2013 +0000

    Merge "Remove orc/oac from heat-cfntools dependency chain"

commit aa666839177323f1b65e1901ef7c535cf818385e
Merge: b22cb8e 741c420
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 3 08:35:25 2013 +0000

    Merge "Remove inaccuracy from heat-cfntools README"

commit b22cb8e7515d9a9e0808733ae33dec1d7aa8de07
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Sep 2 21:59:04 2013 -0700

    Add os-apply-config to os-collect-config deps
    
    This was an oversight because os-collect-config was being pulled in most
    of the time with os-apply-config. However, any element that uses o-a-c
    templates should definitely directly depend on o-a-c.
    
    Change-Id: I713635376aaeb49bab1d6c1811d1404d7181e8b7

commit 741c42029f94a5057cfffe9f1693ec90c3788e1f
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Sep 2 21:58:06 2013 -0700

    Remove inaccuracy from heat-cfntools README
    
    We do not pull it from git anymore.
    
    Change-Id: I55475a2beaf2a3f5a1ba46ecf4e4830600e862f6

commit 418a7debcd0cb499f9f7a7fc7114ca062d5b6bb8
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Sep 2 21:55:25 2013 -0700

    Remove orc/oac from heat-cfntools dependency chain
    
    With os-collect-config, we no longer use cfn-hup to run
    os-refresh-config. Without that need, we no longer need os-apply-config to
    configure cfn-hup.
    
    Change-Id: I30029b9b74187ace66de4f4bb6620e8a88bd18f6

commit 82686206b2d25064d52079cb4741576c8665a861
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Fri Aug 30 09:07:29 2013 -0700

    Add Ironic database creation to boot-stack
    
    This patch will add creation and db-sync of Ironic database if Ironic
    environment is found. This will allow developers to include the Ironic
    element in the under-cloud image and deploy it from the seed vm for
    development work and integration testing.
    
    Change-Id: I6504c2eddefded3b7751b451109ee3bbfc6101a9
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit e14861eb39faf234981e30f4a9f5285ad5cf6f35
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Aug 27 16:42:41 2013 +0100

    Removing tabs
    
    The rest of this element uses spaces.
    
    Change-Id: Ia6cad5b9c928eb0c89cec0d91e30c2385bb34ce0

commit 2577682e33ae80642571cc60bb89ce34a03baa65
Author: sbauza <sbauza@free.fr>
Date:   Tue Aug 20 11:57:00 2013 +0200

    Upgrade setuptools to 1.10 or more in a newly created virtualenv
    
    By default, virtualenv embeds setuptools, and doesn't download its
    latest version. At the moment, latest virtualenv is 1.10.1, which does
    install setuptools-0.9.8
    
    Unfortunately, setuptools-0.9.8 doesn't manage correctly HTTPS
    certificates if the user is specifying a proxy with https_proxy and
    http_proxy environments variables. This can raise an error if the
    server to download is having TLS2_3 HTTPS certificate, by example when
    pip installing python-novaclient, whick asks for
    https://pypi.python.org/simple/pbr
    
    Fixes: bug #1201253
    Change-Id: I7cca000857f7691d4cb723d0a0c22a202da703f8

commit a0535d3da3418d7f0b7042d40f0834318ea70dfe
Author: sbauza <sbauza@free.fr>
Date:   Thu Aug 22 11:58:15 2013 +0200

    Remove static NS resolution from seed image
    
    Seed VM is getting NS resolution from its DHCP lease given by libvirt. There is no need for manually specifying resolv.conf.
    Besides, these two files were having bad filenames (.conf suffix) preventing them to by executed by dib-run-parts script
    (see dib-run-parts regex : allowed_regex=${RUN_PARTS_REGEX:-"^[0-9A-Za-z_-]+$"} )
    
    Change-Id: Ic12ff9d1a8a14fdab686288cac3b3ae23375ddf0

commit 0556ceea313f98b469eacf60f87a48a0d347d8bc
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Aug 20 16:29:10 2013 +1200

    Stop registering endpoints in-instance.
    
    We're moving to orchestrating APIs externally. The incubator has a
    patch set pending to perform endpoint registration, which can be used
    when this is merged.
    
    Change-Id: I8b25e469d23a9a369c1278377fb64291a0cec6c0

commit 0fe594773782e78792be84ed5a114ff69bb7c9dd
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Aug 20 09:30:18 2013 +0100

    Use source-repository interface in neutron element
    
    Change-Id: I2acf21b83b08bdd4797173125bf492c5caf7194b

commit 8a93d4588ebddd8a590d50d5e7de186ae2c5a894
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Aug 20 09:28:25 2013 +0100

    Remove neutron workaround
    
    The currently released neutron client has the code needed for
    neutron, so this workaround is no longer needed.
    
    Change-Id: Iaf40a3a6d455d713085ed9073f62e100d1b5cb22

commit 23368a3483ea6776fb1b4ecc05711f7fba135365
Merge: 19fad23 27ee808
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 20 03:02:03 2013 +0000

    Merge "Use the correct url to openstack pypi mirror"

commit 27ee8088690dbf6c3ed86985b6e1a37311cf6fb4
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Aug 19 12:23:10 2013 +0100

    Use the correct url to openstack pypi mirror
    
    The incorrect url only became a problem when trying to install pyudev,
    which recently became a dependancy of neutron, but neutron doesn't
    list pyudev in it's requirements.txt.
    
    Change-Id: I8ab762c115373d2c8a747567ce06d79bda465f8b

commit 19fad23c7f416bc7ff096566473244952f6bdc07
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Aug 19 09:34:10 2013 +0100

    Allow access to HEAT cfn and cloudwatch api's
    
    Specifically access to port 8000 is now needed for the overcloud to work
    on Fedora 18.
    
    Change-Id: Ib683e5c275f10bba3062b1a60da7ff5887b317af

commit 8b75bcf581c1ab5704d421b39098ffdd3a2bbfc2
Author: Monty Taylor <mordred@inaugust.com>
Date:   Sat Aug 17 22:57:08 2013 -0400

    Update stackforge references to openstack
    
    Change-Id: Ie0290e9ab3e7fe8f02ee5e207ae1a419b0abf3cd

commit e411b0e22837adf1eece652d52a338a8350c91db
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Aug 15 16:11:27 2013 +1200

    Drop heat-localip.
    
    We only needed heat-localip to work around a race condition in our
    heat templates. Those templates are now fixed, so there is no need to
    have heat-localip at all.
    
    Change-Id: I779931e523d0082367c5602507eab10d190839c5

commit abc8b19c44fcf63375e8a80c20538bca5e5d5f5e
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Aug 15 13:15:03 2013 +1200

    Don't double-restart nova-api.
    
    Similar to glance, we used to poke at nova during in-instance setup
    but that has been moved to API scripts from the deployer now, so we
    don't need to force service availability before the rest of
    os-refresh-config runs.
    
    Change-Id: I83c9c53d8dcd38fba5bbfb603ca8d183a5efc63e

commit 5ce2bd284e667c3c4b5ad3b3c934ac38d21e206c
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Aug 15 13:12:06 2013 +1200

    Don't double restart glance-* services.
    
    The init-openstack script restarts glance services that are also
    restarted by the glance elements os-refresh-config hooks. We don't
    manipulate glance in-image now, so we can just wait for them to
    restart post-configure.
    
    Change-Id: I7bbac7b5103bf5196b7a05ee87d154a2558fb31d

commit 14f1f4b3f4c085287b6315ddb8be6a3a70341469
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Aug 14 23:28:55 2013 +1200

    Remove unneeded roles.
    
    We only need the admin and member roles: the other ones were
    illustrative from devstack, but not relevant to the current production
    setup.
    
    Change-Id: I32e601a3ecc97d6469043df824c8aae064c00d5e

commit 686f85293a33661b0833cc330df8d810f27e00bf
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Aug 14 22:52:21 2013 +1200

    Remove invis-to-admin initial tenant.
    
    We don't use it, it's for devstack demo purposes, which is
    inappropriate for a production targeted deployment.
    
    Change-Id: Iccd2c75661f5cbc9a4770ea93660126b2b1dfae7

commit 7c989eedc0e5e30a939cf81d5cad748b6e52e58c
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Aug 14 22:40:09 2013 +1200

    Assume we always have /etc/keystone/keystone.conf.
    
    We're not running in semi-installed mode: os-apply-config always
    creates keystone.conf for us, so we can be more direct in our logic.
    
    Change-Id: I2965af54dd910ccb681d3ce1819be17a32046b33

commit a18fcff81b9c7496fb0bb8d26538dc922195d529
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Aug 14 22:33:26 2013 +1200

    Drop EC2 credential generation from init-keystone.
    
    We don't use the EC2 credentials in any of our tooling, and they can
    be created by an external API script should they be needed.
    
    Change-Id: I1bf845cf2db339e127b8a12bab64890a46d9dd19

commit 961768eea1fb676ff5380263ef6d961353102902
Merge: 9d02a81 2b47340
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 14 03:36:36 2013 +0000

    Merge "Capture our heuristics for configuration."

commit 2b47340d0865f92176707005ec7251d3847145ca
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Aug 14 13:19:15 2013 +1200

    Capture our heuristics for configuration.
    
    Right now it's only hinted at in incubator + a single email. Lets have
    a place to point folk at to read about it. Alternatively we could put
    it in incubator, but I think the image-elements repository is shaping
    up to be the prime repository of code for us.
    
    Change-Id: Ief5a33887239d313a76dfca5cd78c6f9263873bf

commit 9d02a816655adbd54761cfa543f5a1c5514b9dd4
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Aug 13 18:44:53 2013 -0700

    Use o-r-c instead of first-boot.d for iptables.
    
    This is the only use of first-boot.d, which is somewhat problematic for
    a number of reasons. Using o-r-c the script can be made semi-idempotent
    and then we can consider eliminating first-boot.d from
    diskimage-builder.
    
    Change-Id: I6e675d4fddda44af388eb5eaea7b3a9697092948

commit c18b4e3e369154315682b454dabb56764e2524fc
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Aug 13 10:10:51 2013 -0700

    Remove nova-compute from boot-stack dependencies.
    
    As things have been factored out, boot-stack no longer implies
    nova-compute on the same host. This specifically addresses the case
    where we build the overcloud-control image and it fails to restart
    nova-compute during post-configure because nova-compute defaults to
    libvirt, but libvirt is only installed by the nova-kvm element.
    
    Change-Id: I3cba8a48c64d3919898d4ea47a6cd7808327cd9c

commit 988bed89673235fb82fc94d5fcb11080ee4c878e
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 22:53:56 2013 +1200

    Install kpartx for nova-kvm.
    
    Nova invokes kpartx directly to do file injection (ugh), so we need it
    installed on the nova-kvm compute hosts.
    
    Fixes bug: 1211170
    
    Change-Id: I67f677f91df5f4340ceaa14efde1945e7d4218f6

commit 56ff25d3ed4bc68427cfe201c9dfb9a584e1dd4f
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 22:39:06 2013 +1200

    Update network configuration for overclouds.
    
    The overcloud network configuration was not migrating ip addresses and
    ports onto the exterior integration bridge. This is fine when the
    bridge is not the default route, and/or is on a different interface,
    but behaves very poorly when only a single interface is present. Since
    we don't use br-ex in undercloud setups (today), and don't use
    br-ctlplane in overcloud setups, we can use the same code for
    migrating address and routes by updating our configuration instead.
    
    Change-Id: I85a455bd2b03089bf39c34a3b69af78af09ce286

commit de379938a76bdfbc957764203f1042a00b2b10a7
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 22:33:01 2013 +1200

    Set a bridge id for external bridges.
    
    Unlike br-int we were not setting a bridge-id. I'm not sure if it's
    needed, but it is consistent to add one, and will allow consolidating
    other code which currently differs only by setting such an id.
    
    Change-Id: I0e5ada816948cc7fd3a5fe7b5b92b7bb89ebaf5a

commit 30801a252b21114c97f06548fd3f54531a972c15
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 22:27:38 2013 +1200

    Move the metadata NAT rule to nova-baremetal.
    
    It was part of the openvswitch agent rules, which is entirely
    inappropriate for overclouds.
    
    Change-Id: I43faa086f5625434f9abdea68a3bb88413688d4c

commit 23d943cb57f966d99a304faa852c842c6418e7d6
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 20:33:00 2013 +1200

    Setup ovs bridges before we start services.
    
    The ovs bridges need to be setup before we start any neutron services
    that depend on them. The right way to do that is to set them up during
    configure, and start services in post-configure.
    
    Change-Id: I316e0d4a9e71479ea2e9ae338d243b4cec5391b8

commit a7d02f115c71a00b6c4a1ffaf968481d6e0afec0
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 19:55:06 2013 +1200

    Remove in-instance network policy configuration.
    
    Network policy should be driven by API clients rather than in-instance
    scripts, as using Heat to proxy the handover just adds an unnecessary
    layer of indirection. We need to keep the logic for configuring ovs
    within instances, just not the neutron net-create etc.
    
    Change-Id: Iaee70ef5c9d1ff2a608e4ea64e766920bfba7f42

commit aa564e5da9f5bf133875c8aab02332ecc92f6bf7
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 19:26:32 2013 +1200

    Remove deprecated and unused nova setting.
    
    Change-Id: I01a7c0b5faac0338594988b2e69981aad215cb33

commit be4fd60989668efc027191aefc94581a0a8a8d49
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 18:49:08 2013 +1200

    Permit using different libvirt hypervisors.
    
    Folk will want to deploy lxc/qemu etc overclouds. The libvirt type
    needs to be controllable for this, independent of software
    installation.
    
    Change-Id: I29e5fea72f9cb983576410baa8f50ab060c08fe3

commit 18466014aebe68f07ca565791f6755e4636c3064
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Aug 12 13:50:56 2013 +1200

    Increase PXE deploy timeout.
    
    Several users with slightly older hardware report the PXE deploy
    process aborting deploys that were progressing fine. By increasing the
    default PXE deploy timeout we should cater for this. A separate bug
    has been filed in Nova/Ironic about the timeout being too simple.
    
    Change-Id: I8ca0525ce57edb9256a35db54e955e1832279f64

commit 87d34aa86b8df57cfef47ec0cf252ba943046d2b
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sun Aug 11 08:46:18 2013 +1200

    Note that the included stackrc shouldn't be.
    
    Cloud credentials are not machine specific, and global API state - so
    by our principled separation of concerns they should be configured and
    managed by API scripts rather than in-instance orchestation. Doing
    that is a long term change, but documenting it can happen now.
    
    Change-Id: I96c35cd26e2db10d12216b499ba72907366f5342

commit b2a0fa54dc746fe1f7c1402766d65ddee4138fd1
Merge: 50635fb 2e40ca3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 7 11:25:47 2013 +0000

    Merge "Allow for alternative grub config file"

commit 2e40ca389c92d0b1169f3f915ad647c161d7a4b3
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Aug 7 09:43:44 2013 +0100

    Allow for alternative grub config file
    
    The grub config file passed into sed for the tty purge doesn't exist on
    fedora, causing image builds to fail.
    
    can't read /boot/grub/grub.cfg: No such file or directory
    
    Change-Id: I015abba81bf67e2ed7c5a2876adeaef641a6cc3c

commit 50635fbb4598e9d4f4e7ef0f79d0185dad33ad34
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri Aug 2 10:29:52 2013 -0700

    Install libz to make os-collect-config buildable
    
    Some other -dev libs end up pulling it in, so this was not detectable
    when things depended on os-collect-config. However, in order to compile
    lxml we need libz-dev.
    
    Change-Id: I8dd3a93b71b87e40977f85755ac2a56d6740399a

commit 2225aadbfedb21e0626b7a14cd5c2d800b4a4e27
Author: Steve Baker <sbaker@redhat.com>
Date:   Wed Aug 7 14:02:34 2013 +1200

    Switch heat-cfntools element from git to pip install
    
    This will also be required for the os-*-config elements
    as a prerequisite for images being built as part of the
    tempest heat gate tests.
    
    Change-Id: Ic0aa42a08dd189336d5ec390e4e96a160357263f

commit 9344eb9c319da6f60b3972bed113b9f8c60e326c
Merge: c9a9fea de47846
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 22:26:17 2013 +0000

    Merge "Fix cleanup-keystone-tokens.sh to actually work"

commit de4784688a73dd2c84e937758086dc0de2ea8680
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Aug 6 15:20:57 2013 -0700

    Fix cleanup-keystone-tokens.sh to actually work
    
    The user was not passed, which produced an auth denied message every
    time the script was run.
    
    Change-Id: I3c30a9a0e42a56942224f76747025c1048551f10

commit c9a9feaea464397e17264f09543d1a5637344397
Merge: 351ef20 6006e88
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 21:45:16 2013 +0000

    Merge "Update cfn-init-data path to match current Heat"

commit 6006e888fdc2745c417fadb01970020af521139c
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Aug 6 12:03:34 2013 -0700

    Update cfn-init-data path to match current Heat
    
    Since April 2013 /var/lib/cloud/data has been deprecated.
    Os-collect-config does not search that path, so this means
    seed-stack-config is completely broken now that os-collect-config is
    used instead of cfn-hup.
    
    Change-Id: Ifb040f3d5e6d8326e13c1a25adb39dc7e5dc1a6c

commit 351ef205b249f660da0033d7c8d09d4e25d48ca9
Merge: f001b15 1db3616
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 20:48:48 2013 +0000

    Merge "Bootstrap os-collect-config during image build"

commit f001b159b19ac08a2d0d884627d0f607df640ec7
Merge: 4d34f4d 89bd266
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 20:47:22 2013 +0000

    Merge "Rename and fix os-collect-config config template"

commit 4d34f4d1907362fb4f324a224bf881549f4598b7
Merge: 27dd19d a83dd87
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 6 20:38:05 2013 +0000

    Merge "Purge serial console after grub is installed"

commit a83dd87b8258e0f465a91b26acf5ab70438c4596
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Aug 6 11:56:24 2013 -0700

    Purge serial console after grub is installed
    
    If we do this during install, then configurations written during
    finalise.d will overwrite our changes. We need this element to work
    so we can address problems with serial console handling in raring
    cloud images.
    
    Change-Id: I0880a9609686215732a33c852b41cbc703a72521
    Related-bug: #1208912

commit 27dd19dac5c6e54f46f5a3e51ab0bb6cecd5db86
Author: Steve Baker <sbaker@redhat.com>
Date:   Wed Jul 31 14:34:18 2013 +1200

    Package with pbr
    
    Uses pbr-0.5.20 glob support to install elements.
    
    This packaging will facilitate tripleo-image-elements being
    consumed by CI tooling, enabling tests which require customized
    images.
    
    Change-Id: Id0ce2f9954f487ef2375e51cc8287999b82396f2

commit fd57f5c8bbfd124e3a14fceffa4e48652eb08c70
Merge: 7b69b17 c0dc6a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 5 21:39:58 2013 +0000

    Merge "Handle distribute -> setuptools migration."

commit c0dc6a653448bd8b1e1c87b374b4dd5708f5ed00
Author: James Slagle <jslagle@redhat.com>
Date:   Fri Aug 2 16:27:02 2013 -0400

    Handle distribute -> setuptools migration.
    
    Running just 'pip install -U distribute' can leave setuptools in a
    half migrated state on Fedora/RHEL/CentOS.  Following it up with 'pip
    install -U setuptools' corrects the problem and leaves you with
    distribute 0.7.3 and the latest setuptools.
    
    Change-Id: I3652e84fcfdc39065b6b86fc85b6b6602601d7e9

commit 7b69b17ddc515b99975ac7a7946ab77189252e75
Merge: 37f5a9b c2c56f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 5 17:56:24 2013 +0000

    Merge "Install os-apply-config in a virtualenv."

commit c2c56f86cb9b2f41a9e0d7171afa179bb6c22385
Author: James Slagle <jslagle@redhat.com>
Date:   Fri Aug 2 16:23:02 2013 -0400

    Install os-apply-config in a virtualenv.
    
    Due to the older python distribute still shipping on Fedora, Ubuntu,
    and other distros, os-apply-config can not be installed with pip
    install -U.  This change installs os-apply-config in a virtualenv
    instead, so that it's in an isolated environment.  os-apply-config and
    os-config-applier are symlinked under /usr/local/bin so that all calls
    continue to work.
    
    Change-Id: I50d7147cf74a36bbe7751d545c353ac354bdd189

commit 1db3616df5991b070243440d6cd60f0f538a434e
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Aug 1 14:22:13 2013 -0700

    Bootstrap os-collect-config during image build
    
    Os-collect-config minimally needs to be told what command to run. The
    first time it runs it will detect the Heat and/or ec2 metadata change,
    and run os-refresh-config, which will write out its configuration again.
    After the command returns os-collect-config is expected to re-execute
    itself to grab this configuration.
    
    Change-Id: I3294e251a7a3373adb1e994eef7ada99aab8282a

commit 89bd266ab4f044533b5126c4d78791fe3d7b74d7
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Aug 1 14:21:05 2013 -0700

    Rename and fix os-collect-config config template
    
    This template was in the wrong path, and missing some parameters.
    
    Change-Id: If8214cdb3597bc65f92e0e7a4fb8038342c39ae4

commit 37f5a9b4544fb6142f67fb03e5cbb092461ce7ef
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Jul 29 21:06:56 2013 -0700

    Replace cfn-hup cron job with os-collect-config
    
    Os-collect-config is meant as a replacement for cfn-hup. The @reboot job
    can go because os-collect-config will be run when the system is booted.
    The periodic job is handled by os-collect-config's default behaviour of
    running its command (by default, os-refresh-config) whenever any of its
    metadata sources change.
    
    Change-Id: Id768927ddfc4e7b4873fac347905e44458fd341a

commit c80f82204681e31005dbe94ae6c550ced8345c22
Merge: 3482706 3007a3b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 2 19:44:46 2013 +0000

    Merge "Improve snmpd element."

commit 3007a3bdfc09baf35b98280e0afd1979f0f38629
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Mon Jul 22 17:03:37 2013 -0700

    Improve snmpd element.
    
    The purpose of this patch is to improve the ability to monitor hosts,
    correct an error in the current snmpd.conf, and align variable names
    with their function.
    
    Renames the Heat variable name prefix from "snmp" to "snmpd" in order to
    align the Heat variable name with the element name.
    
    Changes the Heat variable MIB to export_MIB to better represent what
    the variable is used for.
    
    Removes a hardcoded user name in snmpd.conf for the rouser to fix
    an authentication issue for user names other then "authOnlyUser".
    
    The OoOEnabled command will allow elements like Nagios to poll
    hosts with this element via SNMP, and receive a consistent
    response.
    
    The CheckProcOpenFiles command is a simple Nagios style check of
    open files per process that will be monitored so that an alert can
    be sent if any one process exceeds its open file limit.
    
    Change-Id: I92afd1f81dfc47c3bb0f4bb3a5aa72bee8870f48
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit 3482706b3a9e95566f627e7b395f77895ed0a099
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 23 10:02:56 2013 +0100

    Refine regex that converts localip
    
    The regex is converting 0.0.0.0 to the hosts localip, in most cases this
    would be ok but on the overcloud in the metadata we have "ovs_range":
    "10.0.0.0/8" which was getting converted to 1192.0.2.5/8.
    
    Change-Id: If97107556a5b5de7c33049b6a798cc80b75b0cb8

commit 6ecbdfb945da7dcbdeaa8114695d1adfb4df06c6
Merge: 0337bc5 3f58831
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 23 04:18:41 2013 +0000

    Merge "Use source-repository interface in openstack-db"

commit 0337bc52bdf0dad410e0d33fc0fae1befc734903
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 22 16:22:10 2013 +0100

    Install wget in the heat-localip element
    
    The configure.d script uses wget, we need to make sure its installed.
    
    Change-Id: I9650133140683f73b9418e1596ef22b9e4532fa0

commit 3f588310212df765845d2277a5badbd2dbbc0722
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 12:03:01 2013 +0100

    Use source-repository interface in openstack-db
    
    Change-Id: Icc10b368d519d49d5f010d373265e5b0a0759b10

commit a7ede4152d212ac9ddc34f872b4179059ae26f8a
Merge: 1e9e78f 0d78da5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 22 08:14:15 2013 +0000

    Merge "Do not automatically start os-refresh-config."

commit 1e9e78fcab230713a0381f5f62299b68812599f3
Merge: 4e6fbe1 e86dc75
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 22 08:14:00 2013 +0000

    Merge "Remove os-refresh-config call from wipe-openstack."

commit 4e6fbe13e588a5a23b7eb863f91e9176c99c33d3
Merge: 9409d67 6e6c6bb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 19 21:10:58 2013 +0000

    Merge "Add an element that enables the SNMP daemon."

commit 9409d67fc8f0627ddea85fd2f43f2627599c0a8a
Merge: e9bd8dc 4512af0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 19 15:16:53 2013 +0000

    Merge "Add an os-collect-config element."

commit e9bd8dc94470051a29d0ab5f5dbe9bb1a04397bc
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Thu Jul 18 15:42:36 2013 -0700

    Update postfix element per install instructions.
    
    Updates postfix element to reload instead of restart. This is called
    for in the installation instructions. This also fixes a issue with
    the postfix element where the current restart can fail and cause ORC
    post-install scripts with higher numbers to not run.
    
    Change-Id: I853a2f2890fcc0b006fcfc214fb1ca900d03613a
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit 4512af045df24c43f847fa79c4574b5a4f77ce40
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Jul 18 10:47:16 2013 -0700

    Add an os-collect-config element.
    
    Change-Id: I8b27678bb8495d10b355aa7f6370a4f86f6c957d

commit 6e6c6bbc73652c4fd5b90917ddf8fa0c10392858
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Tue Jul 16 13:03:28 2013 -0700

    Add an element that enables the SNMP daemon.
    
    Installs and enables the Simple Network Management Protocol (SNMP)
    daemon. Adding this element will allow for more advanced external
    monitoring of Nodes from applications like Nagios.
    
    Change-Id: I77a746a4a5a5409e112e2ef48a100814c42b4868
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit 3495a2352ba9a7537c2d9f59418c72dd5631907d
Merge: ee52212 5494cdd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 17:32:29 2013 +0000

    Merge "Use source-repository interface in clients element"

commit ee52212da6b82438f90321ff0cd55c868f9bbc65
Merge: d63b672 5237287
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 17:32:29 2013 +0000

    Merge "Use source-repository interface in novnc element"

commit d63b672be191c9f7f0c3896dcce36fa5994dd8a6
Merge: 3daade8 70fbc18
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 17:32:27 2013 +0000

    Merge "Use source-repository interface in devstack element"

commit 3daade8e4503a461ea2d2b47a81c52ff870cc558
Merge: aaefae1 84cd541
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 17:32:21 2013 +0000

    Merge "Use source-repository interface in orc element"

commit 5494cdd18f3d139b472ade00ba33c6da7fd459c9
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 12:00:44 2013 +0100

    Use source-repository interface in clients element
    
    Change-Id: I7c66c594d373219b3843590608d3ce4d088dbfc1

commit aaefae1ebafb1fb454333855c350d478a2a30947
Merge: c09b1b7 99ec70b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 16:53:06 2013 +0000

    Merge "Use source-repository interface in cinder element"

commit c09b1b7847f638dde0b1d5def8cbce4535536413
Merge: 121730c 1e565b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 16:52:14 2013 +0000

    Merge "Use source-repository interface in heat element"

commit 5237287ed20d53f8da42b7ff5f5b1be3a9c96052
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:56:22 2013 +0100

    Use source-repository interface in novnc element
    
    Change-Id: Ie98457275fb3842d84360ea65af51fff6d0171c4

commit 121730c75ce4f67c160950724aa30e8a7346c9e8
Merge: f3b0092 76381d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 16:29:52 2013 +0000

    Merge "Use source-repository interface in keystone element"

commit f3b0092f525d4146f01474dfb22124f41d9b2d97
Merge: 6a44560 2421e15
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 16:24:06 2013 +0000

    Merge "Use source-repository interface in glance element"

commit 70fbc1839553b722bff64aac919d6cde41daca38
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:58:32 2013 +0100

    Use source-repository interface in devstack element
    
    Change-Id: I208ceb1c62d7718375ffb5a4d11eaebb1e176131

commit 84cd541e0466c84e86b95c3762ed60a6bf3b625c
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 12:11:29 2013 +0100

    Use source-repository interface in orc element
    
    Change-Id: I5d50cec88acc1f2e407a7d9f8fee0dbbdd34abdb

commit 6a445609f10bd83c571ddaf726b12561878756fa
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:39:19 2013 +0100

    Use source-repository interface in nova element
    
    Change-Id: I621028ca070fe52516bf0f8a568488e7a0c2576c

commit 2421e15f3ebb6b13f624af2c62d86ac2deabbee6
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:42:05 2013 +0100

    Use source-repository interface in glance element
    
    Change-Id: I3246ca161a80004d6d9168c1bda8bf9c3c2ee4fa

commit 76381d289e83cfb61f3c26b9e0f314fd4cd65611
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:44:20 2013 +0100

    Use source-repository interface in keystone element
    
    Change-Id: I2cb11b073fddd223ba0c30cc2ae89677cf68b6ac

commit 99ec70b18f3f612c08aa0d4e8a84da192d9672a0
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:46:59 2013 +0100

    Use source-repository interface in cinder element
    
    Change-Id: I03d564a8fe4fba050b0cafe036d7af6a4fd91462

commit 1e565b60c494ba6ccd0b76e1df979647657682c5
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:50:27 2013 +0100

    Use source-repository interface in heat element
    
    Change-Id: I1f8994f94598acba897065a46ce1a87d9de1eeea

commit feda78c6ad8c55ca035827cd0ea5a92263e0ae5f
Merge: e896ff5 1e0e5f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 17 09:55:18 2013 +0000

    Merge "Use source-repository interface in heat-cfntools"

commit 0d78da501fc72fe4db56ff018de9b5cfb40bea87
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Jul 15 22:11:24 2013 -0700

    Do not automatically start os-refresh-config.
    
    cfn-hup needs to be the only thing running os-refresh-config. Otherwise
    the other orc scripts will race with cfn-hup writing out new metadata.
    The exception introduced here is to also let crond (which runs cfn-hup)
    run os-refresh-config @reboot to seed the configuration.
    
    Without a need to start up automatically, there doesn't seem to be any
    good reason to use an upstart job / systemd service unit. Instead we
    can just pipe os-refresh-config output to logger.
    
    Also because we have several places to run os-refresh-config, we
    need to move the locking into os-refresh-config itself. Please see
    https://review.openstack.org/37319 for that change.
    
    Change-Id: Ic35eca943ba76d421b61710b9fff018e17fb40bf

commit e86dc75725787f8f9e1e4d5e787343ae083d3321
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Jul 16 15:18:11 2013 -0700

    Remove os-refresh-config call from wipe-openstack.
    
    Previously we were running os-refresh-config to make sure we
    caught everything that had been refactored into orc scripts. After
    analysis, it seems that the only thing we need before init-neutron is
    init-neutron-ovs. This is called later in the orc chain, so we have
    split wipe-openstack's call to init-neutron out into 85-init-neutron.
    
    In addition, there was a check for "is it already running" behavior that
    is no longer needed since we should only have one orc running at a time
    with the impending lock change. We have removed that behavior.
    
    Finally the init/wipe scripts don't need to be in the system PATH and thus
    have been merged with their orc scripts, which were their only callers.
    
    Change-Id: I407678104353b180102e16894408c3ffa2d7db90

commit e896ff50cd550982bb957493f432aff7b22cb289
Merge: a4368c5 78dcaeb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 23:51:02 2013 +0000

    Merge "Configure polkit to allow nova to use libvirt"

commit a4368c5d8428381006154ae806094e118aeb8843
Merge: ac2f416 f3e3058
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 23:45:54 2013 +0000

    Merge "Fedora firewall changes"

commit 78dcaeb82a281e5e3bd9e14f8281c86592da692f
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Jul 17 00:23:41 2013 +0100

    Configure polkit to allow nova to use libvirt
    
    Change-Id: I7808055ff978ace362c56a37cd09e85b29ad013c

commit f3e30589d16e087452e2a4b0f22e4f5426260618
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Jul 17 00:14:59 2013 +0100

    Fedora firewall changes
    
    Allow access to
     - Metadata API (8775)
     - Neutron API  (9696)
     - AMQP         (5672)
    
    Deny access to dhcp, specific MAC's are granted access by
    elements/nova-baremetal/bin/filter-bootps
    
    Change-Id: If2af136caaa28a6553f3f0579c91aa53a6dfb74e

commit ac2f4167fa7ae763a48a47c1c2c54b9b55c12bcc
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 16 23:17:22 2013 +0100

    Fix nova-bm-dnsmasq.service
    
    [/usr/lib/systemd/system/nova-bm-dnsmasq.service:9] Unknown lvalue
    '-ExecStartPre' in section 'Service'
    
    Adding a - to ExecStartPre causes systemd to ignore
    the exit code but the "-" was in the wrong place.
    
    Change-Id: I2a62f48b307f09aa23603d97066e6a1c9c76135f

commit f367e02808b2fc2f1dc8cf426fcce8c9d6a14894
Merge: 2282340 41d9673
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 16 11:50:59 2013 +0000

    Merge "Add "install from directory" to os-svc-install"

commit 41d967361f26edb66322555bcdf94c3cd075a107
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 12:14:33 2013 +0100

    Add "install from directory" to os-svc-install
    
    This will allow elements to install from a directory that has
    been downloaded by the source-repositories element.
    
    In cases where this install method is used no attempt is made
    to verify the directory being installed from. The assumption is
    that the source-repositories element errors if multiple elements
    try to download to the same directory. Its also assumed that the
    repository version downloaded is correct as this can now be set
    by the process running d-i-b and the element shouldn't be aware
    of it.
    
    Change-Id: Iceada839f0418789156741b56979c4a287a9a24d

commit 2282340a32f3dc57da58e4840b95398b3afae232
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jul 16 14:25:30 2013 +1200

    Reinstate architecture binding for nova-bm.
    
    Per bug 1201656 (which this doesn't fix) nova is constrained to run
    one architecture per nova-compute host.
    
    Change-Id: I352f219f3ebb05705adf4bc6815ab738a0599c6b

commit 54f5165a4ae184d8bfb933e7639579b1530baaee
Merge: 5017906 be0b419
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jul 15 15:43:07 2013 +0000

    Merge "Improve openstack-clients element."

commit 5017906582e050daa361c330ebd5ed942b1d31e7
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Jul 15 13:53:32 2013 +1200

    Stop creating disk images during wipe-openstack.
    
    Our principled separation of concern places one-time setup like flavor
    creation and baremetal deploy ramdisk creation and registration
    outside the boot-stack problem-space. The incubator devtest story now
    does that, so doing it here is just redundant.
    
    Change-Id: I63cf52b6dca48f8f75b550388c6912eda5c0f533

commit be0b419ad081bef5554e61d29b536e2a50bfbf6d
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Sun Jul 14 12:05:30 2013 -0700

    Improve openstack-clients element.
    
    Add keystone to the list of installed clients. Expanding this element
    allows other elements, such as nagios to consistently install the
    openstack clients with out having to duplicate code or depend on the
    entire services element, in this case, Keystone to get the client.
    
    Change-Id: I71e82dbf5e7d95a063ac8755c2cfc93a18ab6fb9
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit a9a8b9e611f41295e504e4e84706e32d0ef62362
Merge: f47f2db ff55205
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 12 17:52:40 2013 +0000

    Merge "Fix neutron-openvswitch-agent.service on fedora"

commit ff55205e4d247d8f9fcb866a60e356497be253c0
Author: Richard Su <rwsu@redhat.com>
Date:   Fri Jul 12 10:23:53 2013 -0700

    Fix neutron-openvswitch-agent.service on fedora
    
    The service is unable start because the neutron
    user is unable to sudo.
    
    Fixes: bug #1200409
    
    Change-Id: Id22e3dd46226f6c4151b81a03c268ae5583d98f5

commit f47f2db5d70a25aa8dc51e07c63ba028c3a3e6a2
Merge: 4d8f877 58c5c67
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 23:00:11 2013 +0000

    Merge "Fix seed MASQUERADE rules."

commit 58c5c670bdae3b344078fada415b2248029beb48
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Jul 12 10:14:09 2013 +1200

    Fix seed MASQUERADE rules.
    
    The seed node config had a host specified rather than a network for
    MASQUERADE. Anyone following devtest would have had no outbound
    connectivity from booted nodes (except to 192.168.122.1).
    
    Change-Id: I37d335bc6c1316e38f8e1119899245dd491a4098

commit 4d8f8770d398c581aa438d11a3cd99296744159e
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Jul 11 14:33:34 2013 -0700

    Update cached metadata with heat-localip.
    
    Previously we only updated the cfn-init-data that was written to disk on
    first boot. However, cfn-hup will be writing to the cached last_metadata
    file, which is what os-apply-config will read if it exists.
    
    Change-Id: I48800908d67a96c1bca588972db7838264eaace2

commit 0b436b8107e64d68500c092017f75998faf6d915
Merge: b301f0a 9687b11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 11 20:09:54 2013 +0000

    Merge "Restart rabbitmq-server in case of failure"

commit b301f0a21e231a725dcc66d46e935f71dd2c4f6f
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Jul 10 14:28:06 2013 +0100

    Ensure /var/log/heat/engine.log is owned by heat
    
    If heat-manage db_sync creates the logfile before the
    heat engine service then it will be owned by root causing
    heat-engine to error.
    
    Fixes bug 1199789
    
    Change-Id: Ib23a0d46ebf354a3293a64215715038497faf5b0

commit 3eeb7715350ea6d10a829b4a2223d2a972678003
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Jul 10 09:31:40 2013 +0100

    Quantum -> Neutron rename
    
    Rename all paths to neutron, and almost all file entries,
    except some of those in the nova.conf template(these have not been
    ported to neutron yet).
    
    This does not "Fix" bug 1199443 more accurately it avoids it. But
    a rename would eventually be needed in tripleo anyway so doing
    this now means we don't need to find/wait for a fix.
    
    Fixes bug 1199443
    
    Change-Id: I5e61fab1d444d90eb2c54ccfeefca5e148d96996

commit d06f8fd54fb2ee9e9c5346695137ad6ed2e82490
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Jul 10 07:44:02 2013 +1200

    Remove boot-stack dependency on cinder
    
    Cinder is not used in all boot-stack environments, only in the
    overcloud. We may want to have separate elements to initialise cinder
    in the future, but that is speculative. Right now we only know that we
    don't need cinder except when building overcloud images.
    
    This was prompted by bug 1199412 occuring.
    
    Change-Id: Ie7485f741aaef67599fb1fa2da381e23b6cbe805

commit b2116b4240b15f49911224ad4ce7ea0638f8b7c5
Merge: 5c11745 d9d0042
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 10 01:21:14 2013 +0000

    Merge "Update apache2 element-deps "os-config-applier" to "os-apply-config""

commit d9d004207eece77eadc01c9e6c86aeb0f1965d51
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Tue Jul 9 16:46:30 2013 -0700

    Update apache2 element-deps "os-config-applier" to "os-apply-config"
    
    Fixes error: "ERROR: Element 'os-config-applier' not found in '<Path>'"
    when the apache2 element is included.
    
    Fixes bug 1199561
    Authored-by: Chris Krelle <nobodycam@gmail.com>
    Change-Id: I74897ef5f367be2da615584ed8c6582831defafd

commit 5c117455e0f3c2b87ee63ec1c7cedc3ddf93284c
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Jul 10 01:07:21 2013 +0100

    Restart keystone in wipe-openstack
    
    Fixes bug 1199568
    
    Depending on the timing on first boot if keystone is started
    before os-refresh-config then the file /etc/keystone/logging.conf
    will not be in place yet. Causing keystone to fail to start, needing
    to be started again after os-config-applier is run but before
    init-keystone.
    
    After some recent changes, this is now consistently happening on Fedora.
    
    Change-Id: Ifc979bad0ac351794a12ccda2dd97f277b79721b

commit 9687b115e0b339a15e1f78e66090d879a274ee2e
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Thu Jul 4 11:17:29 2013 +0100

    Restart rabbitmq-server in case of failure
    
    RabbitMQ is a critical service in our system and should therefore
    be restarted in case of failure. No logs will be lost as they can be
    recovered from systemd journal.
    
    Change-Id: If5416ecc636e199d639be2c6bb8777326e7ea659

commit 74f04b75645f52f2e8d52b44c3430a35c707934f
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 9 17:15:59 2013 +0100

    Update cinder root-wrap config
    
    Fixes bug 1197048
    
    Installs link to cinder-rootwrap and uses the
    rootwrap filters from cinder repository. Without these
    cinder fails to run any rootwrap commands.
    
    Change-Id: Ibf6dc4b8db7909b4b95efdc1c8090391c226e8a7

commit 3056808cd982a481af9e38af8ea8d522ff230e03
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 9 08:08:37 2013 +0100

    Remove usage of os-svc-install to install cinder
    
    Fixes bug 1199412
    
    os-svc-install hasn't yet been installed so can't be used
    specifically /opt/stack/venvs hasn't been created and virtualenv
    isn't installed.
    
    This commit will fix the problem building a image but bug 1197048
    still exists, causing
    /opt/stack/os-config-refresh/post-configure.d/72-cinder
    to fail.
    
    Change-Id: I3acc2c8b2304933634aeabf869bfed83c6135c9b

commit 55a73361ff0cb98159388a3103eb3f0174a877df
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Jul 8 05:46:23 2013 +1200

    Fix os-svc-install outside of boot-stack.
    
    os-svc-install is meant for any image, not just those installing a new
    cloud, but it was only working so far because we've only been building
    boot-stack images routinely.
    
    Fix bug 1198701.
    
    Change-Id: I4fd170333bb36b5bf9b0c33e224c43db2d4235f5

commit c9eeb05d29b842f70e01be02687174fcb8b07f59
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sun Jul 7 12:06:50 2013 +1200

    Stop running apt-get during os-refresh-config.
    
    All software installation is meant to happen during image build, not
    execution. Cinder was breaking this because of it's requirement for a
    dkms module. We added automatic building of dkms modules for all
    kernels on the image when we sorted openvswitch out.
    
    Fixes bug 1197371.
    
    Change-Id: I6555a66ebdab3d4d7be927a802898bf483048590

commit d0f1fe0f6b1717a79e611a4f0308bca1b11eaf11
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sun Jul 7 11:59:58 2013 +1200

    Rename quantum->neutron for the client.
    
    Just another step in dealing with the ongoing Quantum -> Neutron
    renaming.
    
    Change-Id: I214a11be32a8c06b75456087773042ceb9b527c8

commit cc9893d4b7e1350f993b77636522a154264d2a30
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sun Jul 7 11:50:39 2013 +1200

    Move boot-stack initialisation out of first-boot.
    
    This permits the heat data to be updated by heat-localip, run by
    os-refresh-config, before the keystone registration runs within
    wipe-openstack. This is needed to generate correct registrations
    for the undercloud control plane.
    
    Change-Id: If686b56a3cc5fc45bbb40c4ec56a202576fa9b69

commit dfc3d0a226f337e28046c37b98a0e0fd18d6c514
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sat Jul 6 18:04:52 2013 +1200

    Move virtual power key generation to ORC.
    
    To boot undercloud control planes with the right keystone endpoints
    registered, we need to let os-refresh-config orchestrate the initial
    setup, as os-refresh-config scripts setup the cloud metadata correctly
    (specifically heat-localip).
    
    Change-Id: Iab03bf37257db93726a7324da4f3023b736623b7

commit f5c443c8b0522ebfbefc0c8ec1b519c9d734d41c
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sat Jul 6 17:28:24 2013 +1200

    Make virtual power ssh pubkey world readable.
    
    On undercloud nodes we connect as heat-admin, not root, so we need a
    non-root access path or we can't enable the power manager to login and
    talk to libvirt.
    
    The code was also a little messy, so tidied up the immediate context.
    
    Change-Id: I2e2cb487cee64736ff1b5184e52b1ffd0e4620ad

commit d26518dee339e49d3119a6d71850f06c9e00cb49
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 12:08:48 2013 +0100

    No longer need to install pbr from trunk
    
    Change-Id: I647d8cdfc727d2de0eeaf99e0a0b3ee3b2eebd24

commit 1e0e5f36761cb208bb47b866e757e9b1b69b587e
Author: Derek Higgins <derekh@redhat.com>
Date:   Mon Jul 8 11:52:49 2013 +0100

    Use source-repository interface in heat-cfntools
    
    Change-Id: I2d6e71112b5f924087caf29cbab620205fe5234a

commit c0dcb8430f1240e71f73c2805bf02930ba8303d6
Author: Derek Higgins <derekh@redhat.com>
Date:   Fri Jul 5 15:06:49 2013 +0100

    Put some order on os-refresh-config systemd
    
    cloud-init is populating the file /var/lib/cloud/data/cfn-init-data
    with metadata and needs to happen before os-refresh-config is run
    which in turn needs to happen before the cfn-hup cronjob.
    
    Change-Id: I07fc60c4a165a42eeae1a8e5a20609a6e17fd790

commit 3e2be84331902926ce73bffd82dfd00342ccdc5e
Author: Derek Higgins <derekh@redhat.com>
Date:   Sat Jul 6 22:29:32 2013 +0100

    Install nova networking from neutron repository
    
    Fixes bug 1198547
    
    The repository location has been moved nothing else, lots more will
    eventually need to be renamed from quantum in this element but for
    now this is enough to keep things working.
    
    Change-Id: Ib633e91db76bb6ba785ba572e3c64d44426307ae

commit cdd7b8bf01d3189c9adda5f4fdc2c77a74d76845
Merge: b5ca907 52f0257
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Jul 6 00:01:05 2013 +0000

    Merge "Use --no-site-package for services venv's (-nova)"

commit b5ca907e6af76bc4bd9b5cac14fb33bf651bba87
Merge: 6b8fcea 18259bb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 5 17:16:33 2013 +0000

    Merge "Open heat-api service port on Fedora"

commit 6b8fceaa1ea43ccb408b885b7b7d6e0fb44a4f9e
Merge: 637b66e e3ce097
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 5 09:30:51 2013 +0000

    Merge "Fix filter-bootps for multiple baremetal nodes."

commit e3ce09700114085334d24c692f09818575e88344
Author: Derek Higgins <derekh@redhat.com>
Date:   Thu Jul 4 21:10:35 2013 +0100

    Fix filter-bootps for multiple baremetal nodes.
    
    The logic of the UDP filters for DHCP requests on baremetal compute
    nodes was broken and blocking all traffic when multiple bare metal
    nodes are registered.
    
    Change-Id: Ifda611059c6c6f084a04c0616ee108f6b2e720ac

commit 18259bb5b09470824a5b5dfb3e83494ffecc27d5
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Wed Jul 3 18:27:34 2013 +0100

    Open heat-api service port on Fedora
    
    Allow heat-api to be accessed without logging onto bootstrap node
    
    Change-Id: Id53b5e6985f066f4ed810bb2ee1f73fe6b3a4e1b

commit 637b66e6969a8892dc109cb41d44d2c96214e01e
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Jul 4 15:16:01 2013 +1200

    Deal with quantumclient now installing neutron.
    
    Trunk quantumclient now installs neutron, as part of the big rename.
    
    Fix bug 1197589.
    
    Change-Id: Ibdc89fa255e702c3e55f0493401d8e6ac503a63e

commit da406554671f5fd4c6244ea924d3f45ca6179d3e
Merge: 8cf243b 2573766
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 3 22:16:14 2013 +0000

    Merge "Improve postfix element."

commit 2573766ea9e457d7286df17ef2c4606a5f1d3813
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Tue Jun 25 10:40:27 2013 -0700

    Improve postfix element.
    
    Changes 09-* files to 59-* to ensure they run after OCA.
    Adds templates for main.cf and mailname to allow configuration of hostname
    and delay_wait_time. The current code has the DIB hostname from chroot
    at build time in these files preventing local mail delivery.
    
    Fixes bug 1195931
    Authored-by: Chris Krelle <nobodycam@gmail.com>
    Change-Id: I62badfddac3f6c29f484790c8ebf58f282d597c9

commit 8cf243b64a1907f41790805727affcfd465723be
Merge: 280126d b599c28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 3 17:30:55 2013 +0000

    Merge "Pass exception into string formatting"

commit 280126dbdcd6701eec76ead953c65237f3ab73f0
Merge: 269a4ca e002ef7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 3 17:30:54 2013 +0000

    Merge "Remove ifup from the nova-bm-dnsmasq.service"

commit 269a4caa616f111a6609a3310cc2780b7de46b43
Merge: 086ad61 f57f6ad
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 3 17:30:16 2013 +0000

    Merge "Remove boot-stacks dependency on openstack-db"

commit e002ef74b746e7407f863e604a92d0ad05fcf0e3
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Wed Jul 3 15:37:11 2013 +0100

    Remove ifup from the nova-bm-dnsmasq.service
    
    After d9a4ea36e10750f09c4bdd667f060d10aaa7c69b the init-quantum script
    is no longer creating network configure files causing the ifup command
    on the nova-bm-dnsmasq.service to fail
    
    Change-Id: I8d650fdffac8b12ce0de9ae4852ceb41967656f3

commit b599c280e7529b9c1e373a38aabc8db0e1d00b86
Author: Derek Higgins <derekh@redhat.com>
Date:   Wed Jul 3 15:14:50 2013 +0100

    Pass exception into string formatting
    
    Fixing a small typo in a error message
    
    Change-Id: Ia3fcab0f470166108cc24589f0040e14727710df

commit f57f6adc1a6fc17e705ced1f53c1e45fbe2ce08e
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 2 16:03:03 2013 +0100

    Remove boot-stacks dependency on openstack-db
    
    Everything provided by the openstack-db element is already done in the
    boot-stack elemnt or one of it dependencies. So it shouldn't be included
    as a dependency.
    
    The only piece that is missing is the line the installs the cinder
    service because boot-stack doesn't depend on cinder. The cinder element
    currently seems to not be working. So I'm placing that line to install the
    cinder service in the boot-stack element, this can be removed again once
    the cinder element is working.
    
    This will allow me to make progress on using the new source-interface,
    as multiple elements will no longer be adding the same service.
    
    Change-Id: I808a580cb8731c83fff6dd50e72db4a29150a74e

commit 086ad61824aa6a5780d32978aa83e6bb7b4e1aa6
Merge: 4cacb9a 6a22688
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 3 00:12:15 2013 +0000

    Merge "Change permission of 81-nova-bm-services"

commit 4cacb9a0e0282a2dbeeba595867aba1795a1d2a9
Merge: 53e14dd 59f898f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 2 23:45:29 2013 +0000

    Merge "Add openstack-clients dependency"

commit 53e14ddb7923baaed1bcf212385cecea64e05800
Merge: cc4345e b70c291
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 2 23:44:46 2013 +0000

    Merge "Add element to install Openstack python-* clients."

commit 6a226883a8aa35759682cd7e87d1761c47125bbd
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 2 23:51:04 2013 +0100

    Change permission of 81-nova-bm-services
    
    Without the +x it isn't run during install
    
    Change-Id: If8572bfaccd284abb845f4ddc8645f549013aece

commit cc4345e6daa54e60e4b58e4cffd1d0394c4f5ba0
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jul 2 22:43:57 2013 +0100

    Don't error if no route
    
    Grep exits with an error if no matches are found. Causing
    firstboot to fail on seed VM's.
    
    Change-Id: Ia75a70b86d569c3523773309c06ea54f6f2ab02b

commit 8977e04ca48a8c2dc169640e16e8451fa6c83a46
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Jul 3 00:12:32 2013 +1200

    Migrate routes onto $EXTERNAL_BRIDGE.
    
    Since we migrate IP addresses from $PHYSICAL_INTERFACE to
    $EXTERNAL_BRIDGE this breaks routes - we need to migrate them as well.
    
    Change-Id: I618fbe76d189cd5a79e12a5264a3fc9779b2483c

commit d9a4ea36e10750f09c4bdd667f060d10aaa7c69b
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Jul 1 16:25:45 2013 +1200

    Overhaul quantum networking for non-seed clouds.
    
    The networking setup was inappropriate for non-seed clouds - it
    depended on two network interfaces, forced NAT that we don't need and
    could not be turned off. Additionally there wasn't much clarity
    between idempotent machine config and non-idempotent service config.
    
    Key changes in this patch:
    * No longer write persistent device files, instead update
      idempotently.
    * NAT rules are now setup idempotently on each o-r-c run.
    * New definitions for the meaning of various config keys to suit
      working with different cloud layers.
    
    Change-Id: Ie86be0fc884b4c4f655d73da345bdee45fcde473

commit 11b6744ec30a36f09d8af0ca39685dcbb86afd2d
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jul 2 15:57:51 2013 +1200

    Move more baremetal items out of nova-compute.
    
    Baremetal DNSMasq and the baremetal deploy helper are not relevant to
    nova-kvm.  Having them installed in nova-compute is confusing at best.
    Also a failure to install syslinux would lead to no pxelinux.0 in the
    tftpd root due to the copy code path failing open.
    
    Change-Id: Ib51383c495fbe00626e45328cea7b7dd5d7bb0d0

commit cfa4037d4615306991b296e16b28183893706baa
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jul 2 15:35:27 2013 +1200

    Install qemu-utils with nova-compute.
    
    The split out of nova-kvm and nova-baremetal was buggy: qemu-utils is
    needed to deploy baremetal images, so we should install it for every
    nova-compute install. Similarly syslinux contains pxelinux.0 for
    nova-baremetal as well as whatever nova-kvm uses from it.
    
    Change-Id: I24eba7ecc3ca4eb9987b18693342d7a5ac2c8dee

commit 04a3c267a2a19fa8429517c1ab5423d207057f08
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sat Jun 29 11:55:52 2013 +1200

    Decouple boot-stack from non-Heat configuration.
    
    At the moment boot-stack assumes it is being booted without Heat or
    any other cloud infrastructure. This is only correct for the seed node
    - everything after that is booted into an environment with working
    Heat, Neutron etc.
    
    By splitting it out we make boot-stack more suitable for bootstrapping
    the undercloud and overcloud clouds.
    
    Change-Id: I6051da5ee708b866d90e095c51e105da919bfeef

commit 59f898fc9a56dc19f2790438c283bc8cc6defa91
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Fri Jun 28 11:18:50 2013 -0700

    Add openstack-clients dependency
    
    Add dependency on openstack-clients element to correct
    "Command not found" error. Also a little code clean up
    so that it is more readable.
    
    fixes bug 1196681
    Change-Id: Id192e8c89fb48182d69171fc754b1bfeee145a3a
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit b70c2918cd843504f61c60dbe6889cad47fee073
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Sat Jun 29 12:45:19 2013 -0700

    Add element to install Openstack python-* clients.
    
    There was no way to install openstack clients without installing boot-stack.
    Elements like nagios need the clients but may be running on different nodes
    other then then OpenStack control plane so should not install boot-stack.
    
    Python-mysqldb was being installed twice, which is untidy and may slow things
    down with some package managers.
    
    Change-Id: Iaeecf88d781eb7adc4a903b8332e1a92eea5fe38
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit 8aee39d8b5e52f3b11d871486698f610bf36d3c3
Merge: 0965596 2756f54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 28 21:29:32 2013 +0000

    Merge "Stop installing libvirt on baremetal nodes."

commit 09655968c8d0c98328de01e667cdd11385ab3748
Merge: 5b52094 0a4ef20
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 28 21:28:19 2013 +0000

    Merge "Filter bootps requests on the seed cloud host."

commit 5b520940ab4b1aae088f5b3a7e230755c9efddf9
Merge: d0beb45 63da8a2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 28 21:08:18 2013 +0000

    Merge "Add element-deps to apache2 element."

commit 63da8a20491ace8caa82aa16906f743cd8b51ebd
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Fri Jun 28 09:02:03 2013 -0700

    Add element-deps to apache2 element.
    
    Apache2 element does not have element-deps file.
    Yet it has OCA templates and ORC scripts.
    
    Authored-by: Chris Krelle <nobodycam@gmail.com>
    Change-Id: I77902e7ef9adcf392c6d1a29ee486c77b563d0c1

commit d0beb451ad5fdc70a38a8c68106ba339dae52a0b
Merge: 8b5f833 880e112
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jun 28 19:58:41 2013 +0000

    Merge "Install clients in their own venv"

commit 8b5f8331db341a48ad4d502068fcfa5f40b967b5
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Fri Jun 28 08:52:45 2013 -0700

    Update nagios3 elements-dep.
    
    Change os-config-applier to os-apply-config.
    
    Change-Id: Ib31e921ea8192e4b4c81c2ff41dd5bdf34a7f58a
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit 52f02576cff68c0f72449a77a7a44d8e17d78c44
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri Jun 28 16:08:50 2013 +0100

    Use --no-site-package for services venv's (-nova)
    
    The --system-site-packages option essentially removes the benefits of
    virtualenv, nova is a special case because it depends on python-libvirt
    which can't be installed via pip.
    
    Change-Id: Ifc3580d4b59a5f1e97de77c0c4a875b123208100

commit 880e112e6f652878bdb9d53c7918785aea17692b
Author: Derek Higgins <derekh@redhat.com>
Date:   Fri Jun 28 14:10:59 2013 +0100

    Install clients in their own venv
    
    Fixes bug 1194807
    
    This prevents dependencies from polluting the system
    environment.
    
    Change-Id: I47905f00ef0ffe7521098508def5f29839f9ae3f

commit 2756f54c388171aae75bf658eda2a9867b40f65f
Author: Robert Collins <rbtcollins@hp.com>
Date:   Sat Jun 29 00:08:31 2013 +1200

    Stop installing libvirt on baremetal nodes.
    
    As per bug 1191649 the presence of libvirt on the baremetal undercloud
    node causes routing to fail, as the node ends up with a
    192.168.122.0/24 virbr0 network. Fix this by splitting out some of the
    kvm specific bits of boot-stack.
    
    Change-Id: Ie7bba9d2bceb3720fc9074e197da4c3999f1d509

commit bf3b59b71c98055106bfaf279bc6ffb7177b8f37
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri Jun 28 10:12:39 2013 +0100

    rc-local and rabbitmq-server ordering.
    
    This patch will configure the startup ordering dependency between the
    rc-local.service and rabbitmq-server.service. If not configured systemd
    will start both services simultaneously and it might cause the first boot
    execution to fail because rabbitmq-server wasn't up and running when the
    scripts are running. Before I8985d8020f94c257d426065cf914213b35ec959f
    this problem wasn't apparent because rabbitmq was manually restarted at
    the beginning of the first-boot.d/98-boot-stack script.
    
    Change-Id: Id86b43036f448262f241c04369191dfa253a6aeb

commit 0a4ef2029662b01aac935366f16a5665f1e62542
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Jun 28 21:29:45 2013 +1200

    Filter bootps requests on the seed cloud host.
    
    The seed cloud VM sees requests from all baremetal nodes in the
    datacentre LAN, but is only meant to answer those registered with it -
    the undercloud control plane. Other nodes will be registered with the
    undercloud control plane and when the seed node answers they will fail
    to boot, which is undesirable.
    
    Fix bug 1195654.
    
    Change-Id: I3818296176cfbd05f3ee28000aa3487f9f3b8ef6

commit 3f3d32aa197cddc708d9b98a91bb75743df3caea
Merge: 8fd4ed8 e98ddd0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 27 20:19:04 2013 +0000

    Merge "Permit PXE deploy timeout configuration."

commit e98ddd0474f38be76ddd9b81a9bb03f38856a0cb
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Jun 27 13:38:12 2013 +1200

    Permit PXE deploy timeout configuration.
    
    Nova defaults PXE deploys to not time out, which leads to wedged
    machines requiring admin intervention -  even when they can be
    software recovered.
    
    Fix bug 1184475.
    
    Change-Id: I600a5dd1da19228023cc82e4b4fd961280f54b96

commit 8fd4ed83283b7d71e17685924e160cf189172c72
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Thu Jun 20 17:25:31 2013 -0700

    Fix and Use rabbitmq-server element in boot-stack
    
    Rabbit MQ is a separate service and has configuration logic, so the
    entangled configuration within boot-stack was inappropriate.
    
    * Remove rabitmq-server restart in boot-stack firstboot.
    * Move custom upstart script from boot-stack into rabbitmq-server
      element.
    * Make rabbitmq-server orc properly handle empty heat_users.json file.
    
    Fix bug 1166838
    
    Change-Id: I8985d8020f94c257d426065cf914213b35ec959f

commit 8f5a84fbdc774177d88327a9c1a8e8fc4dfda208
Merge: 877406a f35686d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 26 04:00:16 2013 +0000

    Merge "Open keystone service port on Fedora."

commit 877406ab2d93f45e49a586f1cbc9150b7c6b46eb
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Jun 26 13:33:10 2013 +1200

    Tweak seed element NAT rules.
    
    To be able to route traffic to the bootstack control plane, we need to
    not mangle it when the traffic is from te kvm host. Libvirt uses
    192.168.122.1 as the host IP.
    
    Change-Id: I6ca107ddab2b7d5c3a8ca1233f2f9f2ead11db74

commit 29cc28642a4338d8cc3a06c17151db4bc1c6d13a
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jun 25 21:37:14 2013 +1200

    Another os-apply-config rename step.
    
    Change-Id: I37d6e0fc5adbc62d9742a4c143e26af3793fd32a

commit 5948d59b73d4c53966722ba1fa949577f6646352
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jun 25 21:16:55 2013 +1200

    Set a fixed host for nova in boot-stack.
    
    This makes the registration scripts be able to depend on the hostname,
    irrespective of the static hostname in the base image used for seed
    nodes.
    
    Change-Id: I6bc1c2560d2d548ab99cb6f4129c70e572a918dc

commit 8465cc0b080feec8a90c5afc054c3e370443174b
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jun 25 21:16:49 2013 +1200

    Reflow too-wide lines.
    
    Change-Id: I91d6793d0a1ea380d628eb051fbcbf0770db8f13

commit 6236b7fbd41eb2136dfbc6e13646edfaee397231
Merge: ea8fe50 83ca65b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 25 22:27:06 2013 +0000

    Merge "Enable pxe_network_config option."

commit ea8fe50a1c1cdaffed0bc2c400ae0fefef2697f6
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Tue Jun 25 11:59:50 2013 +0100

    Do not install percona-toolkit on Fedora.
    
    percona-toolkit is not supported on Fedora.
    
    Change-Id: Iab383af19b12f90e5988665d04d0b416ebcd3d74

commit 65191327c495fefbc7905cce51f8eb6827de1ff6
Merge: 4b72ab8 8fa5669
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 24 20:11:24 2013 +0000

    Merge "Set keystone token backend to sql."

commit 4b72ab8665d3e3090151f104141d57b68ad4d5f3
Merge: 79a60d8 af73308
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 24 15:56:27 2013 +0000

    Merge "Add RedHat support for init-quantum."

commit f35686dcd3eb2222d3fddcaf784ccdd0ebbe76da
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Mon Jun 24 11:33:33 2013 +0100

    Open keystone service port on Fedora.
    
    This port allow keystone admin without logging in the bootstrap node. The
    patch also rename the script making it run before the 98-boot-stack,
    the 98-boot-stack will add some rules to the firewall that shouldn't be
    saved in the /etc/sysconfig/iptables.
    
    Change-Id: I2497e3ce7b20761bbc29f71f778ba349f6c21b09

commit 83ca65b230d490781631b8f9eebec5150e15abba
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Mon Jun 24 09:37:42 2013 +0100

    Enable pxe_network_config option.
    
    This option tells the nova baremetal driver to append the network
    configuration to the kernel cmdline when pxe booting the baremetal
    image. Initramfs built with network support could then benefit from
    this option and avoid the need of having the network configuration file
    injected into the image.
    
    Change-Id: I757dbb8224a9e0eee64da4ee71da5567b18b3892

commit af73308605aeb75abe8083abda0c7e75d0da3fad
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Mon Jun 17 12:37:22 2013 +0100

    Add RedHat support for init-quantum.
    
    Create the network-interfaces scripts and hooks necessary to run the
    init-quantum script on a RedHat based system.
    
    Change-Id: Iad48d66a35d12c140df1398ebcb374bb822c1152

commit 79a60d813b0c952bd648f147e9422f5eaf2fe2f3
Merge: fce5797 9ec9248
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 06:59:38 2013 +0000

    Merge "Use default libvirt_vif_driver driver."

commit fce579732a8156db1c45b6ea67c7fa42dbf181aa
Merge: 3dcd5a1 02e5cda
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 20 05:43:59 2013 +0000

    Merge "Remove more references to /var/log/nova."

commit 9ec9248ffcfc661d94fb592a8bda03a9147bb00b
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Wed Jun 19 21:58:04 2013 -0700

    Use default libvirt_vif_driver driver.
    
    In Grizzly all the libvirt vif drivers were merged together.  Now
    libvirt_vif_driver defaults to
      libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtGenericVIFDriver
    The only, non-deprecated driver.
    
    https://wiki.openstack.org/wiki/LibvirtVIFDrivers
    https://blueprints.launchpad.net/nova/+spec/libvirt-vif-driver
    
    Fixes bug 1183557
    
    Change-Id: I257931e086faef2a608e09a8b2facadc0699941a

commit 3dcd5a163a6747939c369c8e4d15abd7014ece46
Merge: 3acc884 34dbd75
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 19 23:04:06 2013 +0000

    Merge "Adds Nagios and supporting elements."

commit 02e5cda9e276414971b44e0d087fc99fff3d010f
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue Jun 18 10:07:24 2013 +0100

    Remove more references to /var/log/nova.
    
    These were recently removed from the nova element, not all references
    were removed causing firstboot to fail with
    chown: cannot access `/var/log/nova': No such file or directory
    
    Change-Id: I5a02733d07a697c2d933b9407959b1679b115d12

commit 3acc884827d61fad245b52b525729222a74c31d4
Merge: 177e540 e323a30
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 19 22:34:09 2013 +0000

    Merge "Configure iptables on Fedora."

commit 34dbd757880e2f353f12b849c1d54c658b1d9daf
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Fri May 10 22:19:53 2013 -0700

    Adds Nagios and supporting elements.
    
    Adds element nagios3.
    Adds supporting elements apache2 and postfix.
    See README.md inside each element for more detail
    
    Change-Id: I6217be0167318d0d4312e6809164bef99286a828
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit e323a30dc977ad82868dd5552da1e6b6e06d7203
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Wed Jun 19 15:38:15 2013 +0100

    Configure iptables on Fedora.
    
    In order to have a Fedora bootstrap node we have to configure iptables
    to allow the openstack services to be externally accessed, baremetal
    nodes to be able to pxe boot and mount the ISCSI target.
    
    Change-Id: I956a84e6ac1149d2cc0e3720d24fd619cec2e472

commit 8fa5669f4984503f62c87ab5f0b797dbf8e0f416
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Jun 13 15:30:30 2013 -0700

    Set keystone token backend to sql.
    
    Because the table could grow forever, also add a cron job to flush tokens
    every two hours.
    
    Due to bug #1188378 we need to use percona-toolkit's pt-archiver to
    clean out the table on mysql.
    
    Fixes bug #1188301
    
    Change-Id: I90aac347993ee741231fbfb99a32dc6e3f3a75ec

commit 177e540cb78128d1340259807af3f4e75ca21232
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jun 18 13:13:10 2013 +1200

    Restore metadata access in boot-stack.
    
    In the addition of overcloud support we broke boot-stack by
    configuring nova to use a metadata-proxy (bug 1191714).
    
    Change-Id: If721af41e4d17a614aa03683f870b0829e4cf292

commit 98c53d0eb1861884f1d70265ec6cd7516d20e0d2
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Jun 18 12:45:06 2013 +1200

    os-config-applier->os-apply-config for nova.
    
    Change-Id: Ic26e80b8814e3907513a6f21589b4d890cf0ff55

commit 257e5849e8498a81de78ab9e38d6caf70b875bf9
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Wed Jun 12 17:12:21 2013 -0700

    Don't create /var/log/nova.
    
    Since we are using upstart for logs we should not be creating
    /var/log/nova/* since it will be empty and just cause confusion.
    
    Don't create /var/log/nova upon install and disable watchedfile logging
    handler, since we use upstart to record stdout, and using that handler
    creates an empty /var/log/nova/nova.log.
    
    Change-Id: Ic1c71f01c226ec9d29a74ad41a80a9d368833979

commit 01061a1d7d6e34d0511df7084eb9ae1834ecba7f
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Mon Jun 17 12:25:55 2013 +0100

    Fix systemd services.
    
    Systemd services should be created at /lib/systemd/system instead of
    /etc/systemd/system, once the service is enabled systemd will create a
    link from /lib/systemd... to /etc/systemd...
    
    Also systemd services should contain the absolute path to the executables.
    
    Change-Id: I741fe249de8ecc7b2af100ca6cf55c51f86f84b0

commit 7af93c6f3193c853ef57043575d4b1922e00286f
Merge: c6fb9ef ca62ece
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 16 22:00:22 2013 +0000

    Merge "Rename os-config-applier to os-apply-config."

commit c6fb9ef43df685c934b6152f5e959a7bc564ab1e
Merge: b469e3b 8291415
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 16 21:24:27 2013 +0000

    Merge "Fedora enable services."

commit b469e3bdb71724fac9d0fcc3c94552a3658c96c0
Merge: ba23b6c 9bb97e9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jun 16 21:21:39 2013 +0000

    Merge "Fix restarting services on redhat and debian."

commit 9bb97e9bec3fd45bd2953a50f38d420dccada09b
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri Jun 14 11:31:00 2013 +0100

    Fix restarting services on redhat and debian.
    
    RedHat and Debian based systems have different service names.
    
    Change-Id: I26a38647830c4c459c976ac15a0154e15a061727

commit 8291415b5e48a9b07da00ed9a3ae5da635097198
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri Jun 14 10:30:14 2013 +0100

    Fedora enable services.
    
    On Fedora services are not enabled by default.
    
    Change-Id: I979872b6d16270225051d57d293c26bfb69fcb24

commit ba23b6cc73e8b703c5f6ca068cc26f1ef8ebb53b
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri Jun 14 10:19:36 2013 +0100

    Allows nova user to sudo without a tty.
    
    Some distros have the requiretty enabled by default in the /etc/sudoers.
    The nova user tries to run `sudo nova-rootwrap` without a tty causing
    the command to fail.
    
    Change-Id: I484652d16ff168b96ca9896669209a34043c4d57

commit ca62ece4a12f2df274e2d95799265d987455193b
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Jun 14 16:12:30 2013 +1200

    Rename os-config-applier to os-apply-config.
    
    This is being done to reduce confusion between os-refresh-config and
    os-config-applier. In order to make the transition smooth, all this
    patch does is rename the element, install the now pypi available
    os-apply-config, and support both the old and new directory names
    for templates, allowing incremental migration of users.
    
    Change-Id: I8c4c7679799f4e8b436ce766791f45f4c81d75f2

commit a23985f4646a75877a42bcf577cea780a0932aec
Merge: 47dcdb6 332a29d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 13 20:18:10 2013 +0000

    Merge "Delete non-existent quantum.conf setting."

commit 47dcdb6134d50839661f131f40c9b681132d9db0
Merge: 4f6a02b eca3a9b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jun 13 11:03:43 2013 +0000

    Merge "Fix link to notes.md to link to new devtest.md."

commit eca3a9b9a6848ac845e2d91e568b3954450b324f
Author: Elizabeth Krumbach <lyz@princessleia.com>
Date:   Wed Jun 12 12:58:21 2013 -0700

    Fix link to notes.md to link to new devtest.md.
    
    Incubator's notes.md has been moved to devtest.md,
    updating link in boot-stack README.md.
    
    Change-Id: I5b050d6f06d553a50149b162e48802f4bf4f541c

commit 332a29de89c181e3b6f458add7df91006765d507
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Jun 13 07:39:27 2013 +1200

    Delete non-existent quantum.conf setting.
    
    Change-Id: Id082384d4274b855be28d512de5617c7e1df8e0e

commit 4f6a02b162b11029a7dcaaa76821e98690a3a16b
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Jun 12 19:06:10 2013 +1200

    Install arping for quantum-network-node.
    
    We're missing a helper used by the Quantum l3 agent - installing it
    fixes bug 1182710.
    
    Change-Id: I404b628eaa40d8b160e3c29b1683280c129eaeeb

commit 4c8d2e714579c99e7b92ae95487cea2ae6f8aa63
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Jun 4 10:07:36 2013 -0700

    Automate network router setup.
    
    If quantum.ovs.fixed_range is defined, that network will need to have a
    router attached in order to reach the ec2 metadata service, or to reach
    any floating ip ranges.
    
    If quantum.floatingip_range is defined, that subnet will be created and
    assigned to the default router. This is independent of openvswitch,
    which is why it is not in the quantum.ovs namespace.
    
    Change-Id: I7831be7435505885c77c9eeef33306eee546ac98

commit 437bd2b7054e4d32cb417d38e6345a64e317240e
Merge: bdfde74 e692a9e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 20:53:17 2013 +0000

    Merge "Install trunk quantumclient for quantum."

commit e692a9ea2cd7eb200cae5aac6f400f6a58d55f30
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Jun 3 21:25:16 2013 -0700

    Install trunk quantumclient for quantum.
    
    Installing trunk python-quantumclient fixes bug #1182737 - an
    undeclared dependency of quantum on trunk python-quantumclient.
    
    Change-Id: I0fb128d9c5c3dd92741122a4a70310bd4fa24851

commit bdfde74989db41a43e5d5d5363b1aaac86618bc3
Merge: 6468002 ad81e81
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 11 20:26:16 2013 +0000

    Merge "Add quantum-network-node element for network-node."

commit 64680028cb0d59fa00a93a0843fd5aa294db0abd
Merge: 733bc21 be64da8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 10 23:57:56 2013 +0000

    Merge "Remove unused nova.conf values"

commit 733bc2173101ff799bcb791c9ddfe4d8d2d7476c
Merge: b23040f 6aa037e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 10 23:56:34 2013 +0000

    Merge "Remove useless code."

commit be64da8860424fcad450f6f91c4445493fc35c0c
Author: Joe Gordon <joe.gordon0@gmail.com>
Date:   Mon Jun 10 16:49:11 2013 -0700

    Remove unused nova.conf values
    
    Remove nova.conf values that nova does not use anymore
    
    Change-Id: Ic973e4799a88b431ee750fe828bef53a4c1fe79d

commit b23040f3be8e86ec8a8769042713d9bb6b07e7fd
Merge: dbea7a6 80c5760
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 10 23:41:14 2013 +0000

    Merge "Increase nova API ratelimit levels."

commit dbea7a6cd13164693bb419f621a9a1fef2ac37d2
Merge: fcf3dd3 4aee84f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jun 10 23:22:50 2013 +0000

    Merge "Update Quantum config to use DBQuotaDriver."

commit fcf3dd354f9032336cac79314a6086226adf02cf
Author: Dan Prince <dprince@redhat.com>
Date:   Sun Jun 9 20:47:06 2013 -0400

    Make 01-boot-stack support requirements.txt.
    
    Updates install.d/01-boot-stack so that it looks in requirements.txt
    as well as the older (legacy) tools/pip-requires files when
    attempting to install dependencies for our client libraries.
    
    This fixes a rather cryptic issue that crept in this morning
    with quantumclient due to the fact that they just moved over
    to use requirements.txt... this would essentially cause some
    of the quantumclient dependencies to get incorrectly easy_install'ed and
    thus have bad permissions (on some of the egg-info files).
    
    Change-Id: I488be161c45408727adeceb26f1f5c6b1de01430

commit 80c57608ab01ace22a8c4973e472abfab6f546c0
Author: Chris Jones <cmsj@tenshu.net>
Date:   Fri Jun 7 16:54:21 2013 +0100

    Increase nova API ratelimit levels.
    
    Increase the API rate limiting to something more appropriate for
    overcloud testing/usage.
    
    Change-Id: I4b1c2a28774ec48578c3652f42b24fa9289ca414

commit 4aee84fe70a1d10af108a614622110097a8a1eb5
Author: Chris Jones <cmsj@tenshu.net>
Date:   Fri Jun 7 16:15:54 2013 +0100

    Update Quantum config to use DBQuotaDriver.
    
    Use a quota driver that we can administer post-deploy. The default
    (ConfQuota) cannot be altered by quantumclient.
    
    Change-Id: I12ab00f0f8c0c30aa697717c6808e086207938e5

commit cac02e5f304ea4f1ca6e1583e53cd188a5331171
Author: Derek Higgins <derekh@redhat.com>
Date:   Fri Jun 7 09:51:04 2013 +0100

    Pass keystone user/group into pki_setup.
    
    Required as of https://review.openstack.org/#/c/29644/3
    
    Change-Id: I8d7dda086f3d3e1bb8fb28d6669d93aa2689d5e7

commit 6aa037e39074062dd2f8c42e44ba158aae0d753c
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Thu Jun 6 14:30:35 2013 +0100

    Remove useless code.
    
    That block of code is useless.
    
    Change-Id: I88c63576a7f32bd6122f98f8f7d12cdf423777f1

commit ab5b6b5b9b2cff65d05deb9c43c23e57b05aca9f
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Jun 4 21:32:16 2013 -0700

    Install qemu-utils explicitly.
    
    In Ubuntu 13.04 qemu-utils is not in the same dependency chain, but is
    needed by nova-compute for image manipulation.
    
    Change-Id: I15c2faa64f5695bc7fb490becb33b1fdf662028a

commit 7b80a04a1e540abcc15a4e1cca00fa0f9298ebe2
Merge: 3b6a1de 460f36c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 5 02:24:58 2013 +0000

    Merge "Set pipefail on init-quantum to detect failures."

commit ad81e8107151bd59b3b0a51cd0c8d21fb86a073a
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 21 21:26:31 2013 -0700

    Add quantum-network-node element for network-node.
    
    The network-node is separate from the quantum-server and is used
    to enable communication between vms and external networks.
    
    Fixes bug #1182283
    Fixes bug #1182704
    Fixes bug #1185977
    Fixes bug #1185980
    
    Change-Id: Ie5674e4004ba935e9e4b7060830dcbc69a122ac7

commit 460f36c5229655c9de35fd74e775cf87b37e0e12
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 30 08:48:45 2013 -0700

    Set pipefail on init-quantum to detect failures.
    
    Even with the sleeps in the upstart jobs, sometimes we still lose the
    race with quantum-server. This makes quantum net-create fail. We should
    stop init-quantum right then, but because it is being piped to other
    commands, the failure is not detected.
    
    Pipefail will make sure that we detect any of these failures and stop
    the process.
    
    Change-Id: I9f5f3863903aa6abd816841dd71133d24ffe6358

commit 3b6a1de41e1e84725e655a09c46da4e8d9ae5a8f
Merge: 32d1c7e d5b307c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 04:21:23 2013 +0000

    Merge "Fix case of OVS group in ovs_quantum_plugin.ini."

commit 32d1c7e337ecde3c9fc988e0baa7f85873d67f9d
Merge: 58162fd 06c6f94
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 03:42:51 2013 +0000

    Merge "Updating to recent keystone/etc/policy.json."

commit 58162fdc37ff81a180266a463b1f391408f73e5a
Merge: 10c50cb e7b39dc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 03:37:40 2013 +0000

    Merge "Make boot-stack pass reachable IP to new machines."

commit 10c50cb9e0ac7437f1767580a35559f18e896f4c
Merge: a8c2ae7 0d84ae1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 31 03:21:30 2013 +0000

    Merge "Make controller-address netaddress."

commit d5b307c8686455994fa4e4d3f413fa093bde37e9
Author: Derek Higgins <derekh@redhat.com>
Date:   Thu May 30 20:01:55 2013 +0100

    Fix case of OVS group in ovs_quantum_plugin.ini.
    
    Fixes bug 1185976
    
    Quantum switched to a lower case group name but it didn't
    last long, see https://review.openstack.org/#/c/30794/
    
    Change-Id: I771b895ca795e5e3427b22e6bedbc4ec51cc0394

commit 06c6f94c04695f3a286196519ffe3cc026240db8
Author: Derek Higgins <derekh@redhat.com>
Date:   Thu May 30 13:38:47 2013 +0100

    Updating to recent keystone/etc/policy.json.
    
    Fixes bug 1185812.
    
    Recent changes for validating tokens are required
    as of https://review.openstack.org/#/c/23970/11
    
    Without this change openstack services can't
    validate token's and firstboot fails.
    
    policy.json taken directly for the keystone repository.
    
    Change-Id: I3efa6deb931e3b172fcb970aeb740576e10a86a9

commit a8c2ae7e1506defaa36f035377af2b7b04aaed87
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 29 14:33:46 2013 -0700

    Work around heat-cfntools/boto/keystone issue.
    
    Heat-cfntools uses boto to communicate with Heat's Metadata server. In
    more recent versions of boto, there is no option to use older AWS
    signature methods. Only version 4 is supported. However, keystoneclient,
    which keystone uses for validating signatures, only supports this in
    trunk. Until that is released, any boto version after 2.5.2 will cause
    heat-cfntools to be unable to authenticate with Heat.
    
    By installing heat-cfntools in a virtualenv, we isolate it from the rest
    of the system. This way as the boto version advances, we stay with the
    one that works with heat-cfntools according to its own requirements.
    
    Fixes bug #1183732
    
    Change-Id: If0d83a29e8a7df59c1dc08f4ceae8fec2882725d

commit e7b39dca3c742af288131a402bce0f1fae97a051
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 29 14:16:02 2013 -0700

    Make boot-stack pass reachable IP to new machines.
    
    The default configuration of boot-stack will have the boot-stack VM at
    192.0.2.1. Thus, we want Heat to pass that as the metadata service
    address rather than 127.0.0.1.
    
    Change-Id: I2dd0867490914d65b7325322ef80919c843603e0

commit 3c2662ba3540c04df64f885851fdcbe6cff2c2fd
Author: Derek Higgins <derekh@redhat.com>
Date:   Tue May 28 09:45:30 2013 +0100

    Use heat-manage to initialize Heat db.
    
    Since this commit https://review.openstack.org/#/c/30580/
    calling the heat.db.sync module no longer works
    and firstboot fails with "No module named heat.db.sync".
    
    Also depends on this patch in heat to fix heat-manage
    https://review.openstack.org/#/c/30690/
    
    Change-Id: Iaf862e03a1f3f0ed2d2ddd83a8ead2a5f287789e

commit 0d84ae1d0f738c0df0b1a0b4e309bf0c85a61927
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 22 08:11:16 2013 -0700

    Make controller-address netaddress.
    
    Change-Id: I6a110518f625678a4422f5050486af795e415400

commit bdf1294fffce49e427ab4d65a53d9000a47c55f4
Merge: 0357bfb cf12055
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 27 02:18:29 2013 +0000

    Merge "Inject local-ipv4 into heat metadata."

commit cf1205511d4c5827ecd239d04bfcb5535ce39a6e
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon May 27 14:10:06 2013 +1200

    Inject local-ipv4 into heat metadata.
    
    Change-Id: I7c180fc31821c609b562a0d16be75905473d3351

commit 0357bfb02696ca88f089e2b66c76aaed4e869a93
Author: Chris Jones <cmsj@tenshu.net>
Date:   Fri May 24 11:46:56 2013 +0100

    Remove quantum-specific dkms workaround.
    
    This is not specific to openvswitch and is more useful in the base
    element as a generic script that ensures we have valid modules for
    all combinations of installed dkms modules and kernels.
    
    Change-Id: Iefe5fb187b32f7ac2189d2cf242cfaac2c1024fb

commit fed135f68855e064e981d25065c53ca37f2cc0c0
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri May 24 21:04:32 2013 +1200

    Fix networking and nova security group config.
    
    Per bug 1183721 the defaults have nova do the configuration, and
    should be changed for OpenStack Networking.
    
    Change-Id: Ie9093f6372df013016235ee8569946c0688125c2

commit 6490fc0862877731317e06f30c5d79c057c6277a
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri May 24 13:01:09 2013 +1200

    Manually build dkms modules.
    
    For some undiagnosed reason dkms modules were not being built during
    image build time. Implement a simple loop to build and install them,
    fixing bug 1182200.
    
    Change-Id: Ib453b42e3b30b88d766535a2c1bc2f19bcb1d09c

commit d50b8158483a8a3719631bffd596239e95bfe5a4
Merge: 12cd084 0f18742
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 23 23:52:57 2013 +0000

    Merge "Document the requirement for heat-cfntools."

commit 12cd0848670ac8cacb1beb94a0fd7612b34b83e4
Merge: 8dce1f0 ece4f3a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 23 23:52:55 2013 +0000

    Merge "Remove duplicate keys from nova.conf."

commit 8dce1f0bdafaa54918d6b7780d51cbd76ca6fc2b
Merge: c6609e4 b0d7631
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 23 23:24:04 2013 +0000

    Merge "Fix permission errors with nova-kvm."

commit c6609e490393b65a8bed7277d4148ee4719dd63d
Merge: 1059f7d ea2af21
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 23 23:24:03 2013 +0000

    Merge "Make baremetal directory setup baremetal specific."

commit 0f18742e36bd1d95d99ac663f22832c275fc320e
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri May 24 10:54:48 2013 +1200

    Document the requirement for heat-cfntools.
    
    This addresses bug 1183195 in the short term.
    
    Change-Id: Id6919aa444d253361ea6c07b452508d224f3d9db

commit ece4f3ac4b93b97dde1308226d211cf9921c06fa
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri May 24 10:49:56 2013 +1200

    Remove duplicate keys from nova.conf.
    
    This fixes bug 1183531.
    
    Change-Id: I35a5d8be8f5df6bcff522a5f6798430a7a1cb864

commit b0d7631e6396a439814c4b01a3f693bac4e769e8
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri May 24 10:41:37 2013 +1200

    Fix permission errors with nova-kvm.
    
    Per bug 1183274 qemu needs read permission on the instance files and
    backing files or else it cannot open (and then chown/chmod) them.
    
    At the same time I removed a little cruft that had built up - we don't
    use /var/run/nova/instances at all.
    
    Change-Id: Idf77a65269c0e238097a4d2cb6932c30e0e031c5

commit ea2af2105aa54252e601034b7442580d77635917
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri May 24 10:40:01 2013 +1200

    Make baremetal directory setup baremetal specific.
    
    Per 1183532 we don't need the tftp directory touched or altered on
    non-baremetal compute nodes.
    
    Change-Id: I6e9912fa08e0a57fce4d24222a9691aeb1cb2fc2

commit 1059f7d39f6d710896b81e9bd92ccbbad7f7b437
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 23 15:11:48 2013 -0700

    Use sql instead of kvs for EC2 credential storage.
    
    Heat uses ec2 credentials to facilitate its CloudFormation compatible
    API's.
    
    Fixes bug #1183442
    
    Change-Id: I50acbd32b0af6be34a46d9923d15625604191e89

commit 0ac58559900db4386b0913378b710c947fc14ed2
Merge: 78ed480 55d7145
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 22 23:05:14 2013 +0000

    Merge "Make openvswitch configurable for VMs."

commit 55d71458b8200c40a44a90c3346d726651d9ef09
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 21 14:24:37 2013 -0700

    Make openvswitch configurable for VMs.
    
    Many options were hard-coded for boot-stack to work with baremetal only.
    We want to use boot-stack as the seed for VM based clouds as well by
    passing in Heat metadata.
    
    Change-Id: Ia2512b174cacb57d694d783b6970b9732ab3fd55

commit 78ed480d53f568e71d67d7b28f662074defc2fbc
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 21 15:27:00 2013 -0700

    Skip baremetal config when there is no baremetal.
    
    We want to be able to use boot-stack for booting an all-in-one
    non-baremetal configuration as well.
    
    Nova needs a lot of extra components for baremetal, these bits will fail
    without the baremetal configuration section.
    
    Change-Id: I24c073c7eb53a6cab92af2c6c30801b9a686f074

commit 457ad025274b93c0393c5ef377b686db633d7d99
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 21 14:22:48 2013 -0700

    Fix heat-cfntools to use requirements.txt.
    
    Upstream renamed the file recently.
    
    Change-Id: Ib008e5fd985c519d7df960d3dfe9d999a0048a30

commit a9f80708d069db02394ea86c223a9a16469ac966
Merge: 6d1c130 584472f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 21 06:40:21 2013 +0000

    Merge "Make br-ctlplane bridge configuration persistent."

commit 584472f989290f1f2ddac7bc1a941e416a37b4ea
Author: Ghe Rivero <ghe.rivero@hp.com>
Date:   Tue May 14 13:50:21 2013 +0200

    Make br-ctlplane bridge configuration persistent.
    
    Config /e/n/i to have br-ctlplane configured on first boot
    and persistent across reboots.
    
    Fixes: bug #1178099
    Change-Id: Idf557e198e9803a37bd1a8c163ff461edb32a6f4

commit 6d1c130f88b957c61cac20699a4d4f7cb130c1aa
Merge: 7a10127 6d28d4c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 21 02:41:24 2013 +0000

    Merge "Add respawn limit to prevent infinite respawn."

commit 7a10127737c016829b0a1c1dd7d2d0940e6b2bda
Author: Clint Byrum <clint@fewbar.com>
Date:   Sun May 19 11:32:32 2013 -0700

    Do not produce a broken /e/n/i file.
    
    Ifupdown, the package that interprets /etc/network/interfaces when
    'service networking restart' is issued, will raise an error if the
    same interface is defined twice. So we need to be sure we're not
    accidentally overwriting any existing interfaces.
    
    Change-Id: Ibb639999e64292141dcb8eb02820470a246be27c

commit adc383920addef58def1eb5aba6c7e7d417fd7f7
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Mon May 20 11:55:16 2013 -0700

    Add virtual_power_type support to boot-stack element.
    
    Allows users who do not use native Ubuntu environments to
    more easily set a virtual_power_type other then virsh.
    
    Change-Id: I7b6152df6eef5359098f10cac3eb6c358c0d66d2
    Authored-by: Chris Krelle <nobodycam@gmail.com>

commit 515cfdb13634590a11085eb4872e87d28fb554f9
Author: Ghe Rivero <ghe.rivero@hp.com>
Date:   Thu May 16 14:14:04 2013 +0200

    Allow deploy ramdisk to be built with custom elements.
    
    In the boot-stack element, we can specify the list of those
    elements that we want to include inside our deploy ramdisk by
    listing them in the config.json file.
    
    Change-Id: Ice83c2e14cff8a0a91490cb511b548105a422e6a
    Fixes: bug #1178094

commit a92721ec36a5ba1474098a40e7bb60ba9103e713
Merge: 54425d0 005ef07
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 18:21:44 2013 +0000

    Merge "Make controller address configurable."

commit 54425d06434bd18126f7e602b4c5888f60590b6b
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon May 20 08:20:54 2013 -0700

    Fix 'start nova-bm-dnsmasq' hanging.
    
    Dnsmasq was moved into foreground but 'task' was left in the job which
    makes upstart block until the main process exits.
    
    Also adding a 1 second post-start, respawn and proper respawn limit.
    
    Fixes bug #1182120
    
    Change-Id: Ifeb31cc269515e6476e2482ac856417b123be447

commit 005ef07614ac5d9dab8fc26a5dd4f11a570769d9
Author: Clint Byrum <clint@fewbar.com>
Date:   Sun May 19 11:32:15 2013 -0700

    Make controller address configurable.
    
    Change-Id: Ibfea2ddbda344439052876a29ee58a9e122eb244

commit 2f251ffb826f514a831090bc89f4d0a98ef8f770
Merge: 1ec28b4 524aed2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 02:52:21 2013 +0000

    Merge "Make public interface configurable."

commit 1ec28b4b001c78903df8d9554a13d640d186dc0e
Merge: 1fdfa77 8a04167
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon May 20 02:52:17 2013 +0000

    Merge "Split quantum into server/agent elements."

commit 524aed235244a81ce936f8e113e32d41865766c9
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 17 13:38:28 2013 -0700

    Make public interface configurable.
    
    Change-Id: Iff0845628ce4f90c74fc891511f8d1aa6439de0d

commit 8a041679ce68fea53f39c9950b1f00fdb3e98157
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 17 11:09:41 2013 -0700

    Split quantum into server/agent elements.
    
    Compute nodes will need the agent, but do not want the whole
    quantum-server running.
    
    Change-Id: I6b899d816956a4c953d747d070b27e9599a86081

commit 1fdfa779b8d2b5653aebed4554c7917859ff7d10
Author: Clint Byrum <clint@fewbar.com>
Date:   Sun May 19 11:34:40 2013 -0700

    Create instances storage directory.
    
    Change-Id: Ia3c8f62bd187a89ec1442b700e039c04b5ba51d8

commit ea108012baab2b1bf1cc7c7079b3a903448f4ce9
Merge: 7f3cc7e 60a44b1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 19 18:06:30 2013 +0000

    Merge "Add requirements.txt support to os-svc-install."

commit 7f3cc7eee353fdee8064ba72d8683060396a87d5
Merge: 1a38f3a e227128
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 19 17:58:40 2013 +0000

    Merge "Make quantum-server post-start sleep 10 seconds."

commit 1a38f3a03ec40f7b14fd084e59b0f3eb6dcf2568
Merge: a208722 b969532
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 19 17:58:26 2013 +0000

    Merge "Add post-start option to os-svc-daemon."

commit a20872226de3e03cd0838ea835ac1c166e56c561
Merge: 7d6769c da9bcb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 19 17:56:58 2013 +0000

    Merge "Work around boto dependency in heat-cfntools."

commit 60a44b121d49fa4cfdff7dd01925b290a03911ea
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 17 23:08:25 2013 -0700

    Add requirements.txt support to os-svc-install.
    
    http://pad.lv/1179008 has all of OpenStack migrating tools/pip-requires
    to requirements.txt. We will use both during the transition.
    
    Fixes bug #1179008
    
    Change-Id: I7b3c64902b4c1b6f83402a21248a4eadad725c34

commit e227128421b38af6462f6cb51c2705da321a97ec
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 17 22:27:08 2013 -0700

    Make quantum-server post-start sleep 10 seconds.
    
    A better long term solution is something that polls trying to reach
    quantum-server on the port it is configured to listen on. However,
    extending the usual sleep to 10 seconds has at least a moderate chance
    of avoiding the race between 'start quantum-server' and the listen()
    call that makes it reachable.
    
    Change-Id: I56453e3e9d718216e3cfee0a3bc353c51f74b3be

commit b9695321095e09983ae9da1179b36f9ef0bd97bd
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 16 10:16:24 2013 -0700

    Add post-start option to os-svc-daemon.
    
    We also migrate os-svc-daemon to supporting switches to modify its
    behavior and be more flexible as it grows. The old positional style is
    still supported but will be deprecated.
    
    Each service will have a unique way to verify that it has started. The
    default 'exec sleep 1' will be sufficient for some, but not all. Quantum
    is the first example, which can take more than 5 seconds to open a
    listening socket.
    
    Due to a lack of knowledge and testing on systemd, it will simply print
    out a warning about the issue until we have a better answer.
    
    Change-Id: I8d0e0842dfa66b2e32b942270ed071e593d3865e

commit da9bcb9b2103450a00e57b0dd0df56a08da77526
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 15 06:25:53 2013 -0700

    Work around boto dependency in heat-cfntools.
    
    Heat-cfntools has a hard dependency on boto == 2.5.2. However, this
    version of boto breaks newer versions of cloud-init when used with
    OpenStack and specifically with Heat generated userdata. That problem is
    documented here: http://pad.lv/1177576
    
    The change to allow >= 2.5.2 has been submitted to be fixed upstream
    and can be tracked in this bug: http://pad.lv/1180582 .
    
    Change-Id: I1ce96901754472e6b0d518d26431d3b3a26daea6

commit 7d6769cb52d2f1312d98c3fac8780d9fabd4449e
Merge: cdaabc2 7e22d74
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat May 18 01:18:25 2013 +0000

    Merge "Allow mysql.create-users to specify password."

commit cdaabc2b386f1cf0f54862e96e5375091336404e
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 17 13:36:11 2013 -0700

    Remove nova-rpc-zmq-receiver.
    
    This program has some problems and it is not anywhere within our desired
    configuration for TripleO. It can be added later if a user decides to
    make use of ZeroMQ.
    
    Change-Id: I9ddcad2ddc4223c054e9332f7b142e8748179e4d

commit 7e22d74e395151a30a111a7c20c7ea6461862830
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 15 06:25:11 2013 -0700

    Allow mysql.create-users to specify password.
    
    Until we have a good way of generating passwords and feeding them
    back to other services (bug #118436), we will have to push them in
    to mysql via Metadata.
    
    Change-Id: Idfa64bf93b6f018ae08a5c43ba3c73f428c477d6

commit acd6f161f53c8ccf8860d73e45893050138cc6de
Merge: 9a02e35 b285e76
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 17 22:59:23 2013 +0000

    Merge "Ensure cfn-* scripts are installed to /usr/local/bin."

commit 9a02e352215c8579d880463ecaae409cb3795e9b
Merge: 17446b6 37c9194
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 17 22:55:44 2013 +0000

    Merge "Run nova-bm-dnsmasq in foreground."

commit 17446b6822edc26dc091e636cc1e92a611c86d1b
Merge: 2f7b231 ea41b95
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 17 22:50:57 2013 +0000

    Merge "Conditionally manage baremetal components."

commit 2f7b231b4b0eebc178bc85134c8133797f11e4e6
Merge: 1d1209c 43751d7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 17 22:48:34 2013 +0000

    Merge "Split o-r-c script for nova into api/compute."

commit 6d28d4c99ccac2fe65430dda39b6b0766aa328b5
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 16 20:19:20 2013 -0700

    Add respawn limit to prevent infinite respawn.
    
    The respawn count is not incremented until post-start exits, so we
    need to set the count lower than the interval to allow for the lag
    caused by the one second sleep. Two times in 5 seconds seems like
    enough to handle the occasional unexpected crash but stay dead when
    things are badly broken.
    
    Change-Id: I8eaca6f9ea131861a42d473ffc5c09a41226ce0e

commit b285e76a66d19544065efb6262c55088e989c3be
Author: Steve Baker <sbaker@redhat.com>
Date:   Thu May 16 16:24:38 2013 +1200

    Ensure cfn-* scripts are installed to /usr/local/bin.
    
    Fedora python prefix is /usr, not /usr/local. Also Fedora python
    is not set up at all to handle modules installed to /usr/local.
    
    Installing only the scripts to /usr/local/bin works fine on Fedora.
    
    When heat-cfntools is installed with pip again, use the following:
    pip install heat-cfntools --install-option="--install-scripts=/usr/local/bin"
    
    Change-Id: Id11e923c25bd3161c91b2e5166f6ac3bf04c30a0

commit 37c9194d4357827c112dccc4e85dfcb3c9b2de30
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 16 13:59:04 2013 -0700

    Run nova-bm-dnsmasq in foreground.
    
    Upstart either wants to track forks, or have processes in the foreground
    so it can just track them as children.
    
    Change-Id: I43409c20136a98e1b3d36c4d63e5b31ebdcf326c

commit ea41b9589cb162f0b6698aa344148bd37b5095dd
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 16 13:56:51 2013 -0700

    Conditionally manage baremetal components.
    
    These services are not needed and could even cause problems on a compute
    host using other drivers.
    
    Change-Id: Idfec594a5e10aa47120c5675a183128814d76c99

commit 43751d7d27870cf06ed421677c6e8266cd719069
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 16 13:44:57 2013 -0700

    Split o-r-c script for nova into api/compute.
    
    Fixes bug #1180928
    
    Change-Id: Ib0f4fc64ffe641c7a36373e5a3fe0ab357129f26

commit 1d1209cfd2380a6edb019feb2b296f95673eb145
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 15 16:30:54 2013 -0700

    Remove novnc package from nova-compute.
    
    We only need the static files from upstream novnc, so we will install
    them from git.
    
    Not installing novnc also means directories like /var/lib/nova and files
    like /etc/nova/policy.json from nova-common are no longer created and
    thus must be manually created.
    
    Also we were never running nova-novncproxy, so add that to the
    nova-compute element.
    
    Fixes bug #1180239
    
    Change-Id: I24ddc4c7e649c07dd7e197e6ac1d1bc79d42fdef

commit 47ab02a616b095e3c5ff0f18c97cc5782e3cef4c
Merge: 8aa7913 1517bb0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 15 22:42:06 2013 +0000

    Merge "Add a rabbitmq-server element with Heat support."

commit 8aa791391366073dd780dff2c239ee3e5f7c713b
Merge: a8783bc 5821baf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 15 22:38:25 2013 +0000

    Merge "Fix missing pieces filled in by boot-stack."

commit 1517bb09b20c4416d2a4d1100cfcad2fcc4a1176
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 14 09:48:03 2013 -0700

    Add a rabbitmq-server element with Heat support.
    
    Allows specifying users to create and feeding back passwords for those
    users to wait conditions via cfn-signal.
    
    Change-Id: Ief8993976ce0f48bcf6ebaecc4879a5209170beb

commit a8783bc6ed42574016af5d2d99663bed7e38d94f
Merge: a7dbe7e 4f6568a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 15 22:11:07 2013 +0000

    Merge "Restart networking before IP addresses are moved to br-ctlplane"

commit 5821baf17b96ec15e7f4dcd4e80618c92bb1b298
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 15 00:21:39 2013 -0700

    Fix missing pieces filled in by boot-stack.
    
    Boot-stack accidentally installs nova-common along with novnc, which
    took care of these things accidentally.
    
    Fixes bug #1180241
    
    Change-Id: Ibe58734ccc0efef6e953a3a3bb67d16707cf2898

commit a7dbe7e164b7c5e6caa817410abe2c38081ccaa7
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 29 10:25:49 2013 -0700

    Make heat-api and heat-engine work in boot-stack.
    
    Change-Id: Ieab8df6c7efd6d66a9567fe099b73a4d98a0ba35

commit f59013d3626cc3c83476c71ef7f72e1bf39fb80b
Merge: a6f0f27 ed229a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 23:17:58 2013 +0000

    Merge "Update Heat element for Havana config changes."

commit a6f0f27d189b295ba7eea5f99d142a9aa3a2fe21
Merge: ef27236 8c3150d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 23:09:49 2013 +0000

    Merge "Split nova into nova-compute and nova-api."

commit ef2723637b05bca341af49e408f68c777ba35b7d
Merge: 1c2fa4d 567e8a0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 14 23:06:29 2013 +0000

    Merge "Avoid race condition with 1 second sleep."

commit ed229a8b814b95fac0a1a8e833b2040dd7e7031e
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 10 11:52:46 2013 -0700

    Update Heat element for Havana config changes.
    
    Note that heat-metadata was consolidated into other services upstream.
    
    Change-Id: Ic7fcdb4ccf74c77f9b63fa1635feb167a4af7e72

commit 567e8a05995d976c52a5e627ebd82defdaa1300b
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 14 08:39:25 2013 -0700

    Avoid race condition with 1 second sleep.
    
    Upstart will return from 'start xxx' immediately upon forking. We still
    need to run start-stop-daemon, change users, exec again, and then run
    the python code to get to listen() before the service is actually ready.
    This all should take < 1s, but the sleep is just a stopgap until we have
    a better way to track "is the service ready" in upstart.
    
    Fixes bug #1179766
    
    Change-Id: I3842e572c940e833cb3036b67df0ee71fe5bb129

commit 1c2fa4d9c53eb8635ec52660d9e9cf0820ba1b5d
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri May 10 13:38:42 2013 -0700

    Change Heat instance_user to heat-admin.
    
    Default is 'ec2-user', which is more than a little inappropriate.
    
    Change-Id: I1ea29d1436a74cf365e7a7d70c7f5f9735baf5ca

commit 4f6568a427990d00168ea45b5a423ae3f4959fd9
Author: Derek Higgins <derekh@redhat.com>
Date:   Sun May 12 00:15:51 2013 +0100

    Restart networking before IP addresses are moved to br-ctlplane
    
    Fixes bug 1179091
    
    eth1 needs IP addresses before they can be moved
    
    Change-Id: I2974ca2a3437a60eb1de5b048f6ed9c6f7e63b22

commit 49d54f55459b44c2235283be155fa03a8118c33f
Merge: 732420b 9cf9a82
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 10 01:59:40 2013 +0000

    Merge "Install heat-cfntools from git."

commit 732420b32038cd58e4b6a80ba9b09bbed5bcd88a
Merge: fa9ce75 11d271a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 10 01:08:20 2013 +0000

    Merge "Use updated metadata location for nova.baremetal.arch."

commit fa9ce75ba1f254d6cb67712018ac6fb65fb31ae8
Merge: 64e5145 8d06391
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 10 01:08:19 2013 +0000

    Merge "Workaround current pbr broken-ness."

commit 8c3150d7e9bab3efd56c6f460d7262db47810c8f
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 9 15:00:26 2013 -0700

    Split nova into nova-compute and nova-api.
    
    This still puts baremetal specific things into nova-compute, but those
    things can be split out later.
    
    Change-Id: If7bb06cbfe0b60d514e089a721069316794327a7

commit 8d06391db6b926a22db4a97626298e91c7c0b8ce
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu May 9 17:16:02 2013 -0700

    Workaround current pbr broken-ness.
    
    To be removed once pbr version 0.5.10 hits pypi.
    
    Change-Id: I1efad2ab9daf509716625b4ebe1182119025641c

commit 11d271ac09f6f2b5e3e6ff249915b95164fcb471
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu May 9 16:24:54 2013 -0700

    Use updated metadata location for nova.baremetal.arch.
    
    boot-stack was looking for a config value in the metadata
    at 'nova.bm_arch', but it was recently moved to 'nova.baremetal.arch'.
    
    Change-Id: I93447a6fa1d9be0b3278393141ab207a840ee6d8

commit 9cf9a82d4c39701c315df41013fc1ffee4e1b18c
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 8 01:52:59 2013 -0700

    Install heat-cfntools from git.
    
    Change-Id: I48b5a60f12456fda4f482a9855a12a68ebf2b682

commit 64e5145025747b561c0f4c7b8524715571f90cd5
Merge: 6c6872f 860338b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 9 21:51:55 2013 +0000

    Merge "Make nova compute_driver configurable."

commit 6c6872f9f935e21232c3d47a5853c880adad714d
Merge: 8c2a8b2 0af8a29
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 9 21:47:07 2013 +0000

    Merge "Remove cinder-config element."

commit 860338b64492f76a3d874eae84da450f34ef8e59
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu May 9 12:20:15 2013 -0700

    Make nova compute_driver configurable.
    
    Change-Id: If9d485f4d041d2366649e3bd03b72241068a4b3b

commit 8c2a8b20e1dd3d58644882c1683308f8eaaec858
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu May 9 19:52:26 2013 +1200

    Correct network config for boot-stack quantum.
    
    The default gateway for a network has to be on the same subnet as the
    network. Fix bug 1178117
    
    Change-Id: Idd9d34442d827eab7373278d65dc74ceb2a39cd1

commit ad9e35dac4edee4a365e28126f0392990381c825
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu May 9 19:46:53 2013 +1200

    Document nova logs a little better.
    
    Change-Id: I9842a5716cd10576eda1ea4c97089ffa704ee437

commit 1782a651485773809890b08f27f34b4b995c6d01
Merge: 1db7859 98d6ac7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 9 00:29:25 2013 +0000

    Merge "Add python-mysqldb so glance can connect to DB."

commit 1db785927d6bca1d652c32d64fd69feeb3d75f40
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 8 14:57:14 2013 -0700

    Run cfn-hup via a cron job.
    
    cfn-hup is supposed to be a daemon, but it doesn't work that way. So run
    it via a wrapper in a cron job. Also run this way, we won't have
    logging, so make sure os-refresh-config is run via upstart so we get the
    output logged.
    
    The wrapper must use a lock to avoid problems that might be caused when
    multiple updates overlap.
    
    Change-Id: I8613c45b33091ad6448ecddebe6a1f4337f09d7d

commit 98d6ac7e990b2f54e6a037e4585e6ae410e67284
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed May 8 14:59:29 2013 -0700

    Add python-mysqldb so glance can connect to DB.
    
    Change-Id: I5f7fe7ec6a20b9bcc6372fc9c85286ef2a92022b

commit bb17a4085ad3e78e8af7c1ae3016beef459976f2
Merge: 76ec317 9afcdc2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 8 08:04:38 2013 +0000

    Merge "Use latest boto to address bugs in distro version."

commit 76ec3179d450a94ae4530950f9299c8f46414b07
Merge: df94211 e477f10
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 8 08:03:21 2013 +0000

    Merge "Add element to remove serial console."

commit df94211445d55e72eff506057c67cd3d3b0f9db3
Merge: e209499 ce147f6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 8 08:02:16 2013 +0000

    Merge "Target ec2-user workaround to Ubuntu 12.10."

commit e20949968c71b4309f0b97c71040e934a9eaf570
Merge: 5671754 6904cda
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 8 08:01:32 2013 +0000

    Merge "Add libz-dev to os-svc-install to fix raring."

commit 9afcdc2bd11c3ef3ef1153578a2897eb7718d50e
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 7 15:56:26 2013 -0700

    Use latest boto to address bugs in distro version.
    
    Ubuntu's boto is fairly old, and affected by http://pad.lv/1177576. This
    prevents cloud-init from working with OpenStack's ec2 metadata server
    properly.
    
    Change-Id: I110af27d7da520a53d55db3e04dc3382e7e17b38

commit e477f10add6bc49998478a03da2f00a50b6303fb
Author: Chris Jones <cmsj@tenshu.net>
Date:   Tue May 7 17:55:03 2013 +0100

    Add element to remove serial console.
    
    Upstream cloud images likely have console=ttyS0 embedded in the kernel
    commandline portion of the GRUB config. This makes local, direct testing
    of the images substantially more difficult because upstart is writing
    its output to a console that isn't being monitored.
    This element simply removes console=ttyS0 from the grub configuration.
    
    Change-Id: I07429bb504b467634071cc31ef184af730bbb5d6

commit ce147f66f454112c1adcc038f93f5dfe9d8c9016
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 7 09:16:51 2013 -0700

    Target ec2-user workaround to Ubuntu 12.10.
    
    Ubuntu 13.04 has been confirmed to work properly, so only Ubuntu 12.10
    is affected by the bug (http://pad.lv/1100920). Thus, we can narrow the
    scope of the workaround to just "Ubuntu quantal".
    
    Change-Id: Ib42e2bce2f4d0d2cfd6bdeb70cfa4162c2cd6433

commit 5671754847a4bcfe79e02fa1a3e7ca2cf02b8309
Merge: 301f97c e77b405
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 7 15:37:17 2013 +0000

    Merge "Make first-boot 98-boot-stack idempotent."

commit 6904cda42ecfdb93f8dfea11d400f8960df1a43a
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 7 08:32:11 2013 -0700

    Add libz-dev to os-svc-install to fix raring.
    
    Before Ubuntu 13.04 libz-dev was pulled in as a dependency of the other
    libraries mentioned here, but 13.04 changed the graph. Lxml and possibly
    other modules link against libz during the pip install phase.
    
    Change-Id: I201f7dd2fc40d36e5e0b193d51cfee200f946d17

commit 301f97ce0d5cd18928aabd7bc1d68355f5d00b92
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue May 7 08:22:43 2013 -0700

    Fix *-paste.ini to use keystoneclient.
    
    We do not want glance to need all of keystone, just the version of this
    middleware that is included in keystoneclient, which will be pulled in
    by the pip requires of glance.
    
    Change-Id: I4cef706a7c8f260454863205b7824daac867848d

commit e77b40525b361f9de0fb3452dbad4ab5aa51eb63
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue May 7 09:03:46 2013 +1200

    Make first-boot 98-boot-stack idempotent.
    
    Change-Id: I8d5ed906d2e6888d896e1d4e08163ea63ba635fa

commit 07cea1dff75150e6c362e243f1b638811f13bc24
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon May 6 11:44:30 2013 -0700

    Update nova logging.conf to reflect changes in nova trunk.
    
    The "LegacyFormatter" was recently removed from nova in this
    change:  3e136dea2b259def305c9032cab5e1a08243c1c6.
    
    As a result, the nova logging.conf template in this repo contained
    an undefined reference to nova.openstack.common.log.LegacyFormatter,
    causing nova services to fail to start.
    
    This change replaces LegacyFormatter with ContextFormatter.
    
    Change-Id: I9ef9610e2707dc2a9966c777172e365cc75fbb97

commit 1767cc0af2132e4b6d6940b33c8dcc8ea8c52266
Merge: 085152e e61f88c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 23:46:33 2013 +0000

    Merge "Add systemd support for os-svc-daemon."

commit 085152ebc7e2991b6dd5a6c5c0a1a44bc6c54e95
Merge: 8cd101a a286932
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 23:44:17 2013 +0000

    Merge "Improve Fedora support for nova element"

commit 8cd101a09ba58a1a601c77579db1a9f93d84e1d9
Merge: 9ed62dc b01f825
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 23:39:48 2013 +0000

    Merge "Make boot-stack element more friendly to other distros."

commit 9ed62dcd30ec31400ca2e4ab0398a777e98cec01
Merge: 8040774 9cccf02
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri May 3 23:35:21 2013 +0000

    Merge "Improve Fedora support for boot-stack and openstack-db elements"

commit b01f8255b64b1389d4f5ddd2cb42ac325d4c0f45
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri May 3 16:53:25 2013 +0100

    Make boot-stack element more friendly to other distros.
    
    Check if it's an upstart-based distro before doing upstart-specific tasks.
    
    Change-Id: I5ce8589dc5adfb0ea74bf4b573a964d286414644

commit 80407740d19f42f7c6b620fed377b72e19260dc6
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Apr 30 16:39:44 2013 -0700

    Update boot-stack element's README.
    
    Remove some outdated instructions, which have by now
    been better realized in incubator/notes.md, and document
    the first-boot process, and boot-stack specific command
    line utilities.
    
    Change-Id: I50950ea1411e1ad57dabaf3f6667f7fd5c45d6be

commit a5e461f5b67695ea04faf2cee8dffb2fc704dd59
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Apr 30 16:14:56 2013 -0700

    Make `wipe-openstack` correctly reset all services.
    
    The boot-stack element contains a utility, wipe-openstack,
    which clears all openstack databases, and restarts all services.
    
    Before this change, wipe-openstack would not complete sucessfully
    when run again after the first time, due to some networking config
    and service restarts not being fully idempotent.
    
    This change causes wipe-openstack to work as intended, and renames
    reset-keystone, reset-nova, etc. to init-*, to better capture their
    purposes.
    
    Change-Id: I8aeca8b21201cf12bcd1c9e6b97dc61a7b102921

commit f65a28f2d2d5e1c45f97972d7bea0b87eaf0e704
Merge: b7948a9 7f67d67
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 30 17:15:15 2013 +0000

    Merge "Replace rabbit's broken init.d script with an upstart."

commit 9cccf0295f89d260a8acb8a3bb77e82d42178775
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Fri Apr 26 16:21:13 2013 +0100

    Improve Fedora support for boot-stack and openstack-db elements
    
    - distro-specific DNS resolution configuration
    - handle distro-specific location for the my.cnf file
    - prevent from blindly running the apt-get command
    
    Change-Id: I6f334913dedf5c3678fa8385226ee9c0c256a319

commit a2869325280509f280444545105a5ad7cf2f88e5
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Mon Apr 29 15:54:21 2013 +0100

    Improve Fedora support for nova element
    
    - on systemd based distros create a .service file for dnsmasq
    - check and create the libvirtd group if it doesn't already exist
    - handle distro-specific location for the pxelinux.0 file
    
    Change-Id: If24e061701c48df08342642199e765c61dca8a75

commit b7948a9aa990fe7de86e7bd471140ab8d321109a
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Apr 29 13:38:42 2013 +1200

    os-refresh-config is on stackforge now.
    
    Change-Id: Ib3719430c2fbc23c369118ea8da8066c25734ffb

commit e61f88c3106c072feb04d0ce73ecb565b8e45fae
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Thu Apr 25 11:55:06 2013 +0100

    Add systemd support for os-svc-daemon.
    
    Change-Id: I04f30db1ff64af383ca605598379e926635cc5e8

commit f842d0add9a7b144a9a9900161dea2f440bb6974
Merge: fbcff3d 70672e8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 22 22:17:44 2013 +0000

    Merge "Change default passwords in boot-stack to 'unset'."

commit fbcff3d84a8b10244ac92e6f280be501637c94c4
Merge: fe90214 c4f4495
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 22 22:14:54 2013 +0000

    Merge "Install pip requirements from pypi.openstack.org."

commit fe90214a34cd6a04e01b5b51c614917904abd08a
Author: Chris Jones <cmsj@tenshu.net>
Date:   Sun Apr 21 22:03:11 2013 +0100

    Update image size limit for the new variable name.
    
    Now that diskimage-builder has migrated IMAGE_SIZE to DIB_IMAGE_SIZE we
    need the same thing here.
    
    Change-Id: I64a84e943cf0a98823f014f56f9a3a17bcc3bb7a

commit b9800878a4703e1fa62c56e292ab075657671788
Merge: cf12bb5 0e3f461
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 14 00:30:38 2013 +0000

    Merge "Adjust nova config for baremetal"

commit cf12bb55bfff11b9f721f020e029b03a6fb770d6
Merge: abec16f 0fe37cd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Apr 14 00:28:18 2013 +0000

    Merge "wipe-openstack needs to restart glance"

commit abec16f928f2db1e138afe6cb50b05c09e44dbe3
Merge: 3bfdcc4 b8a6550
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Apr 13 23:47:57 2013 +0000

    Merge "Add ubuntu == localhost to /etc/hosts in boot-stack."

commit 3bfdcc45b8037040e81f8dad88de7b5af1dd8b26
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Sat Apr 13 16:22:09 2013 -0700

    Use nova rootwrap config directly from source distribution.
    
    Rootwrap config should never need environment-specific modification,
    so it can be copied directly from the nova source distribution in use,
    instead of duplicated in this tree as config templates.
    
    Change-Id: I59cbbbd1bc871111a59366e6b052be7d310bd743

commit 7f67d6789295a20d2721969238573cdf87215a70
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Sat Apr 13 14:31:57 2013 -0700

    Replace rabbit's broken init.d script with an upstart.
    
    Change-Id: I9d480eb0e3eb4711bfa67ed3964ef8c7704ed13a

commit 70672e82ee7bab283c4ea08cc7a2a2c3bad6b953
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 01:02:12 2013 -0700

    Change default passwords in boot-stack to 'unset'.
    
    This is intended to make it more obvious that default
    passwords are in use.
    
    Change-Id: I17c1ec11b818361cf9193ea4268b0d05cec37257

commit 0fe37cd5d43ac40f94d6ae648bb08f24c4bef32a
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Sat Apr 13 12:56:51 2013 -0700

    wipe-openstack needs to restart glance
    
    After reset-keystone, several API services need to be restarted
    before reset-nova can be called successfully.
    
    Change-Id: Ia625991c29717ff97e2f75947539e6278cbdaf77

commit 0e3f4612a55b067619693ce7e6b2e0ca9ee3a079
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Fri Apr 12 18:11:55 2013 -0700

    Adjust nova config for baremetal
    
    - inherit instance_type_extra_specs cpu_arch from nova.bm_arch
    - remove AllHostsFilter
    - set filter weights appropriately for baremetal
    
    Change-Id: Ia85d854ccbebd0e673dbf5dbf1c6b7683094c0bc

commit 4e9b56b10f03e9afe7c5bfab08f7ea5a9627e84e
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 16:21:12 2013 -0700

    Make boot-stack default baremetal-arch configurable.
    
    Change-Id: I36bd480c8c078e88da3f5c012ed6f5214997a34d

commit b8a6550ed3f09b238c225953d13c736fa89ab7c7
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 15:56:01 2013 -0700

    Add ubuntu == localhost to /etc/hosts in boot-stack.
    
    Certain nova-rootwrap commands fail without this.
    
    Change-Id: I28f59801cc586da12bdf1254eef3593bef35035d

commit 807ccbf8473beed125d1719fc02a6af63bd980a5
Merge: 229f70e 77f761e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 12 19:09:21 2013 +0000

    Merge "Explicitly install openvswitch-datapath-dkms in quantum element."

commit c4f4495ac7aa0d8620c9a3ee59aa8d996ca4ea4e
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 10:52:04 2013 -0700

    Install pip requirements from pypi.openstack.org.
    
    While `setup.py`s were being installed from the openstack
    pypi mirror, `pip-requires` were coming from pypi.python.org,
    which has been observed to be less stable.
    
    This change installs all pip-requires via pypi.openstack.org.
    
    Change-Id: Id78110232f1f6cbce63fbe02c63f30c0e1953212

commit 0af8a29d36ce38d03ad6db04519acaa76c680789
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 00:43:30 2013 -0700

    Remove cinder-config element.
    
    Make cinder consistent with other OpenStack service
    elements by moving cinder-config into a subdirectory
    of cinder.
    
    Change-Id: I9497062226b43fc386c02f9210029b86d4237796

commit 77f761ea3c4895b77d263a4b68e0d208ac12eba7
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 08:48:20 2013 -0700

    Explicitly install openvswitch-datapath-dkms in quantum element.
    
    This required package recently ceased to be present in quantum images.
    Install it explicitly.
    
    Change-Id: I4ea9bcdc199789bb3b601db32cee84c21cc2651f

commit 229f70e0885040040edf3f3274dfb2b14c3f90f9
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Apr 12 09:01:06 2013 -0700

    Populate boot-stack's service catalog with VM's IP.
    
    Keystone's service catalog was populated with 'localhost',
    making nova/glance/keystone clients unusable from outside the vm.
    
    This change uses whatever IP address is found on eth0 instead.
    
    Change-Id: Idbbaa74e0235884f2a32fafb16f2ba505e8cc37c

commit 0f5dd90b61429460f7c5413f60d2b82ef359e8c8
Merge: 7ce121b 7a74619
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 12 00:49:41 2013 +0000

    Merge "Make keystone config consistent with other elements."

commit 7ce121beb0047adb6628a534f822f223031ef71a
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu Apr 11 17:32:05 2013 -0700

    Install OpenStack clients outside of venvs in boot-stack.
    
    Trunk nova-client was being shadowed in the boot-stack element
    by a nova-client installed via apt-get.
    
    This change installs nova/glance/quantum clients outside of
    venvs so that they take precedence.
    
    Change-Id: Iddd7e2319d37723174b7251d095b5e8d61fad0f9

commit 7a74619d4c30d125196b8eab13dd11d823907347
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu Apr 11 12:03:44 2013 -0700

    Make keystone config consistent with other elements.
    
    The keystone element had its config seperated into a
    seperate element, which was inconsistent with other
    openstack service elements.
    
    This change brings it into line with nova/glance/etc.
    
    Change-Id: I37962e22e32a90824f1c91b1fc6a61435b8b83e7

commit 45b4888959c55371c37da1f28c3ef27ced8aa07b
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 8 20:16:34 2013 -0700

    Remove openstack-all element.
    
    openstack-all element is out of date, and has been
    superceded by the boot-stack element.
    
    Change-Id: I6c3a3c3302cec0d2e3c0eea354e1f80e922f9d5f

commit 768086d00aff716b81d8146a31ce383ae908ebdd
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 8 20:15:03 2013 -0700

    Remove nova-api element.
    
    nova-api has become out of date.
    
    It should be replaced by depending on the 'nova' element,
    and using os-svc-daemon to install a nova-api start script.
    
    Change-Id: Ied84c385e80a702a61ae51d45765aa9e65f614d4

commit 494281d21c4159dc53c61200f3fbf8067f7b4056
Merge: 08f27d3 827e7e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 9 22:06:40 2013 +0000

    Merge "Add OpenStack Heat elements."

commit 827e7e73357d45bd7a4eac0396145139bef7d5b4
Author: Clint Byrum <clint@fewbar.com>
Date:   Sat Jan 19 02:16:30 2013 -0800

    Add OpenStack Heat elements.
    
    Change-Id: I9c1c7920848c9e1e4d44270128d6ef41598b2833

commit 08f27d3556c97ff98cba35c18816d995076e9f6d
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 15:03:41 2013 -0700

    A self-contained one-node baremetal openstack.
    
    The 'boot-stack' element is a self-contained, baremetal openstack.
    Upon first boot, it will initialize itself with default keystone
    users, nova flavors, etc.
    
    Change-Id: Ib0c411627154a3d666f74513c6b8edfbfbf6c07e

commit a256d77ccbf31b4f23081bbf7890d53d8b840e68
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 8 20:08:34 2013 -0700

    Remove nova-vm element.
    
    nova-vm element has become out of date with the
    rest of the tripleo system.
    
    It should be replaced by specifying libvirt to the
    os-config-applier-able 'nova' element.
    
    Change-Id: I147f5a536ca40f63b2c43b72ea2678c570516215

commit 9808c8ae950c35023383238103c676b635e18a67
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 8 20:05:08 2013 -0700

    Remove quantum-api element, for now.
    
    quantum-api element is out of date.
    
    While services will need to break up services soon,
    in this case it should be done by depending on 'quantum'
    element, and having quantum-api element just drop a
    service-start script.
    
    Change-Id: Idbcab2266c40aff0129d5bd4cfa1295571ec8165

commit d8fe876ed54b099d7a4f1347bc97031b75601eba
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Apr 9 10:11:00 2013 +1200

    Simplify recommended use of ELEMENTS_PATH.
    
    Change-Id: If572fc2b598fe6606baa6e147e1a8e7c8460fd5f

commit 7cbde9074e89c4924cafb2f2679a74800b9ead7b
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Apr 5 15:09:43 2013 +1300

    Remove diskimage-builder core contents.
    
    Change-Id: I5c7826432bc9d8c1743ab4e575bd3edd5ba4af78

commit 9172e4f79154debf30d89bd029dcb785e762af46
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Apr 5 10:57:57 2013 +1300

    Fix .gitreview file.
    
    Change-Id: Ib9ab17949691a63e2522f346fce73d5d02bcaf24

commit a400a5e00a89defe000e542ae8237b66abebea53
Merge: c75d891 0cfecd1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 20:56:22 2013 +0000

    Merge "Store build-time settings"

commit c75d89128bc90a75ddceab9b05d7d485ce712575
Merge: 0dceb77 ca8a663
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 20:39:51 2013 +0000

    Merge "Fix mysql migration script to handle errors."

commit 0dceb774e46d74c515b8616c3e4566329e34a157
Merge: a18a5c8 3525163
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 20:39:50 2013 +0000

    Merge "Remove strict sql_mode setting which breaks apps."

commit ca8a663707727d6098e3eca60dca67b3547ed060
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Apr 4 12:57:28 2013 -0700

    Fix mysql migration script to handle errors.
    
    Errors in mysqldump would have been missed due to not having pipefail
    set. Also there was a type-o in the invocation of mysqldump that was
    going undetected, that has been repaired. Finally we should not pass
    --master-data if we don't have slave credentials, as the master data,
    even if provided, is useless without a valid slave user/pass.
    
    Change-Id: I0f80af34c747f465250ef17fae4a44dac919c9cd

commit 352516381f7b8ae4f0944380f3d6ef10e1aa5a7c
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Apr 4 10:54:27 2013 -0700

    Remove strict sql_mode setting which breaks apps.
    
    Strict sql_mode settings are very application specific, many will simply
    not work with them. This setting was likely inherited from some other
    production MySQL config file and is not appropriate for a generic
    configuration. Specifically, this broke the MySQL package maintainer
    scripts.
    
    Change-Id: I068fcc7b3c770541d3d1ecfb372384750f182584

commit a18a5c85fff1da7b41de9151725920dd73816cba
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Apr 3 13:21:36 2013 -0700

    Do not require arguments for os-svc-daemon.
    
    They are not actually required, so allow os-svc-daemon to be called
    without them.
    
    Change-Id: I62c2887d48e4173005c54c9cab4ecd6aff8069a1

commit 0cfecd1024e87f965e28743f2654915b1d0f4122
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Apr 4 20:38:19 2013 +0100

    Store build-time settings
    
    This will write two files in /etc/ that contain the environment and
    command line arguments used in the creation of an image. This should
    assist with later efforts to repeat the creation of an image.
    
    Change-Id: Icdbe6693380bed6c406feee10d2cb1a88a992932

commit ef7d0307ffae0e3d77b4a7eadc802ca324873ef8
Merge: 4e36ae9 9483471
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 19:22:21 2013 +0000

    Merge "Migrate data into MySQL from bootstrap."

commit 4e36ae9eb9a04bbcdeed17c70752aae9557a6f05
Merge: 2e0e121 3ace1ba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 19:19:40 2013 +0000

    Merge "Run os-config-applier using os-refresh-config."

commit 2e0e1210bf48d3ff754404cf549232a80ced0cb0
Merge: b196f1b e4e4989
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 19:18:10 2013 +0000

    Merge "Bring os-svc-install element docs up-to-date."

commit b196f1bb3d8abc9ecc0ccb985d158db10f36d530
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu Apr 4 11:56:14 2013 -0700

    Disable tunneling in quantum-ovs.
    
    Quantum-ovs was continually re-creating interfaces
    every second or so, because it was configured to use tunneling,
    and the default version of OVS included with ubuntu does
    not support tunneling.
    
    Change-Id: I1246181c4b9c96ebe2795b337454dc8ddcb35e8f

commit 948347131f3d6ddb05e923d9a2f73b172465519c
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Mar 21 16:36:54 2013 -0700

    Migrate data into MySQL from bootstrap.
    
    Use Heat Metadata to specify host and credentials to pull whole database
    snapshot and setup Replication. Also include root credentials for use after
    the snapshot has been applied.
    
    Change-Id: Ie3aa92463d28db54a523f520c2b4cdfb528acf9d

commit 3ace1ba29e3eaff1100e841bc3904d9843c6b08c
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri Mar 15 10:07:07 2013 -0700

    Run os-config-applier using os-refresh-config.
    
    There's no need to run os-config-applier at any time except when
    os-refresh-config is in its configure state.
    
    Change-Id: Id9758294c60469a976b61c68fc26d9b83130599a

commit e4e4989e1885cd7981e22dbe9d07dad9e2dddded
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Apr 2 18:22:41 2013 -0700

    Bring os-svc-install element docs up-to-date.
    
    Change-Id: Ia0547de1a899359994706d1607ed19e5ad5c056f

commit f501494bced8f95384c490e734b75c961b6e0bd8
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Apr 3 21:27:41 2013 -0700

    Enable use_namespaces setting for quantum agents.
    
    Change-Id: I060c381cc9dc858a979e072b78bde6a55ad69472

commit 00114f6e90be7e56de6dafb3620252df6d609b5c
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Apr 3 20:51:34 2013 -0700

    Clearly mark unaudited config templates as such.
    
    Change-Id: I130b0874b2efad1345bb5449bce001985c477960

commit 3df85839e57eb02b6da159e7313af305f4a01783
Merge: 3ea3696 4762f65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 02:48:05 2013 +0000

    Merge "Streamline upstart scripts in os-svc-daemon"

commit 3ea3696c8fc55e04cf9943aa28d9fbba4e0593f6
Merge: 123cc10 0809886
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 02:40:42 2013 +0000

    Merge "Add a nova-baremetal element."

commit 123cc109e299f3915c3d04d234a4b2325d238576
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 14:46:34 2013 -0700

    Replace glance-api+glance-reg elements with glance:
    
    'glance' element now results in a properly-configured,
    working glance service on first boot.
    
    While glance-api and glance-reg may need to be broken
    out again in the future, the intention now is to focus
    on a working service for an end-to-end PoC.
    
    Change-Id: I4fb1cd5ad6defef5a5c4fddfded46d51e8097b5a

commit 4c986076ac9a03b4c2e9f901548164987335870b
Merge: 2ea0430 7e36570
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 02:15:12 2013 +0000

    Merge "Add a quantum element."

commit 2ea0430acb730a887e6a66714b190ff927be9250
Merge: 3211e6d a6b794f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 4 01:58:08 2013 +0000

    Merge "Add element to run DHCP on all network interfaces."

commit 4762f65dc1bc21529ceb223221094e76777a4562
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Apr 3 11:28:53 2013 -0700

    Streamline upstart scripts in os-svc-daemon
    
    Best practice is to use start-stop-daemon rather than sudo, as sudo will
    apply user-centric pam limits and create a wtmp entry. Also there is no
    need for a script stanza, as we are only execing one command.
    
    Change-Id: I0c2f12536b56d90fd43ab40e74424350efcc0b61

commit 08098865718e75b67fada55eeba31ab3e77db322
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 14:52:48 2013 -0700

    Add a nova-baremetal element.
    
    Future work is intended to allow this to serve
    as a nova-virt element as well, by allowing the config
    and which services are run (such as bm-deploy-helper)
    based upon metadata config settings.
    
    Change-Id: I59718a0b329e6adc59097492638cf02c76162c0a

commit 3211e6d277e1373734ae22d2fe546fedbd9b9f60
Merge: ea57869 e34e75f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Apr 3 10:02:00 2013 +0000

    Merge "Remove duplicate file extensions."

commit 7e3657051905fe2719d2e1d7417d46788b8a02a7
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 14:49:51 2013 -0700

    Add a quantum element.
    
    Change-Id: I1008dcbb4e0a6c4cc25f4cc11a90fbc265ab2fdd

commit ea57869d3e1ae899631f6d55b24f35c3d88b635d
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 14:55:15 2013 -0700

    Run all openstack services in virtualenvs:
    
    Python package dependency conflicts have been observed
    to occur for certain combinations of services at certain
    revision.
    
    Running all services in virtualenvs removes the issue.
    
    Change-Id: I100817569b43a5af3427b0ae20cebdc7d55d03a5

commit a6b794fffcbd91cc5692fa531f754d7900e43705
Author: Chris Jones <cmsj@tenshu.net>
Date:   Tue Mar 5 17:34:19 2013 +0000

    Add element to run DHCP on all network interfaces.
    
    Ensures that all network interfaces are present in
    /etc/network/interfaces. Any interface not already defined there
    will be added and configured for DHCP.
    
    Change-Id: I27e0902e62804e8d719acd7288109bd0e294fd16

commit ff7eac3c651e7e1f38c5c50e40c6652de123cb77
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Mar 21 16:35:16 2013 -0700

    Create users in mysql server based on metadata
    
    Enable templates to specify a list of users that need passwords assigned
    in Metadata. These passwords are then communicated back to the template
    via an optional wait condition handle using cfn-signal.
    
    Change-Id: Iaaf4d4a9d0d757b7d44ea39e77eed3c55ffffd88

commit 6bf07b12d385560d87ce651b070284548c939f09
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Mar 21 16:28:17 2013 -0700

    Set mysql server_id based on instance-id
    
    Do nothing if we are booted on a server which has no instance-id set,
    such as a non-cloud VM or server.
    
    Change-Id: I6df81edbea1b2b4e4f1ef11a9f2ddaf100d98eda

commit 72534d6eba250b95d4d7d8c843904e83a647aa55
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Mar 21 16:20:32 2013 -0700

    Refactor mysql element to do less in first-boot.d
    
    We didn't need to do most of this anyway, we just needed to configure
    mysql before we installed the packages in the image. Some of the other
    things were half-baked ideas which will come in later changes to add
    os-refresh-config and os-config-applier support to the element.
    
    Change-Id: Ib1b66a8b3b70fac10f3f826b1efd414c67f9bfc6

commit a28a1be2c36919575a5437178bf8cf9a55862e5e
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Mar 21 16:26:49 2013 -0700

    Adding cfn-credentials file to heat-cfntools
    
    Change-Id: Icd9f0e24700d8016169682f86d5004ec1486c463

commit 51f003bf2fba1b20fd9f5ea4a1995c9c5a608b27
Merge: f2ad365 3a2f482
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 1 22:35:51 2013 +0000

    Merge "remove unnecessary '/usr/local/bin' from install.d."

commit 3a2f482c9d98704a64ce7831290efbd68ce72de4
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 15:01:49 2013 -0700

    remove unnecessary '/usr/local/bin' from install.d.
    
    Change-Id: Idda511dbf26c1562d8993bc5bbda6756ce796546

commit f2ad365039c8d7736593d50b91e1b5804f63f29f
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Apr 1 14:58:51 2013 -0700

    Install os-config-applier from stackforge repo.
    
    Change-Id: Ic383750856e23957fe6bd0ee65767efa26021028

commit 12e86eb6577c84b9cf2f3c98b7c0d002bce71538
Merge: c6ff2fc d5f7d7e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Apr 1 20:37:56 2013 +0000

    Merge "Fix os-refresh-config failing without scripts."

commit c6ff2fcade5e28204c364f81b44eb71529e42295
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Mar 29 14:01:32 2013 +1300

    Switch to using the incubator-bootstrap tree.
    
    Incubator is having dangerous scripts removed from it.
    
    Change-Id: I5567b9b89eeed4dbf124186a84a7d890eefc87ef

commit d5f7d7e7c0848004e680b9d1a14c65d358690b3b
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Mar 18 15:38:06 2013 -0700

    Fix os-refresh-config failing without scripts.
    
    It is valid to request os-refresh-config without putting any scripts in
    the element root. This fixes failing builds of heat-cfntools.
    
    Change-Id: I4f70b33e453399ff5baa48919557995a6eb27520

commit e34e75ff2234e8c97420b2d3e58451ae547f5bb4
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Mar 14 17:56:18 2013 +0000

    Remove duplicate file extensions.
    
    Gracefully remove duplicate file extensions on the output filename
    
    Change-Id: Id4f8b0d75b587c238c89d6ca7a06fab6a57cd627

commit 5b99028acf67d5883f1d836e85bec911cbf8fb98
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Mar 8 08:15:58 2013 -0800

    Correctly translate all branches/tags/shas:
    
    The code which raises an error if two elements try
    to install different versions of the same git repo
    currently works correctly for SHAs, or if a branch
    is specified first, followed by a SHA.
    
    However it fails if two branches are specified, because
    the shallow clone does not fetch all branch heads.
    
    This change correctly handles any combination of
    SHAs/branch-heads/tags.
    
    Change-Id: I501e94150ddeb41b79588816576a5d7a06fa92aa

commit c1bf047d396cace96cd3a6c601079a89831b731e
Merge: e56b0de a99584d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 01:22:26 2013 +0000

    Merge "Fix script that installs os-refresh-config scripts"

commit e56b0de32132d79fee77455da26204fcf221c1b4
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Sat Mar 9 01:34:30 2013 -0800

    Update keystone middleware in cinder api-paste:
    
    cinder-api in trunk will no longer start with
    keystone.middleware, only with keystoneclient.middleware.
    
    The issue is discussed here:
      https://bugs.launchpad.net/nova/+bug/1143998
    
    Change-Id: I29f81ca2503957b4df58e86b2392ef4b3c15d6fe

commit a99584d0f94a1f55d4e131addfd4606535048357
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri Mar 8 23:06:02 2013 -0800

    Fix script that installs os-refresh-config scripts
    
    Was missing executable bits
    
    Change-Id: Idcb984e44f4b45d78c59a45eb0d8d43457c788c9

commit 4da169ce6e6e91c1a228e263e908a578d86c46ae
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri Mar 8 03:24:45 2013 -0800

    local-config: Configure proxy for apt and/or yum
    
    Fixes fail to build image on Fedora
    
    Change-Id: I30324081702ffc68e82499d81a841c8ae17119ce

commit 28aa222b20f46ff2fbc78e7606bda6045f3b8389
Merge: 21720c6 597575c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 03:06:27 2013 +0000

    Merge "Fix issues causing Fedora images to fail"

commit 21720c6acd84bd70359ce0ef47d0387b1999e86d
Merge: b554030 abbd8a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 03:04:56 2013 +0000

    Merge "Update keystone element to use os-refresh-config."

commit b554030787ca960da9b85f847bb4dd4395b963f8
Merge: 6cfd968 9135165
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 00:34:40 2013 +0000

    Merge "Install os-refresh-config scripts automatically"

commit 597575c6816d367dcfaaed0f65215340d073ad8c
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Mar 7 14:17:41 2013 -0800

    Fix issues causing Fedora images to fail
    
    For os-refresh-config and os-config-applier, support systemd or upstart.
    
    Change-Id: I4ff12e891a85b3171a6ef0c6898b2d45a1699de1

commit 6cfd9681b75c6ba7c7f6a706504e2d731bea97e1
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Feb 20 21:46:27 2013 -0800

    Seperate install of services and start scripts:
    
    This allows openstack services to be git/pip installed
    without installing any startup scripts.
    
    This is useful for keystone-db or nova-db elements, for
    example, where the service must be installed to perform
    database migration, but no service start scripts need
    be installed.
    
    Additionally, add a tool to create openstack sql databases.
    
    Use openstack pypi mirror:
    
    Use the openstack pypi mirror for openstack service
    installation. It's much faster than pypi.org.
    
    Also, pip install $svc_repo/tools/pip-requires first,
    if it exists, which is required to pick up oslo.config.
    
    Change-Id: I72751d4da59f8597d20aea2f27a9dfabe2f63a8f

commit abbd8a61a89d0e9a05ee2e1ca29a66d14f86279e
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Feb 20 21:48:53 2013 -0800

    Update keystone element to use os-refresh-config.
    
    Change-Id: I15595d80ee7fad04d964aaa83a403d9303f6aa55

commit 8346115bf955bf8c22ba61d3cce72a25336f0f55
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Mar 6 13:35:12 2013 -0800

    Make 99-install-config-templates executable:
    
    This script is not run by dib unless it is executable.
    
    Change-Id: Ic7658cd229dba5635a4ea445f0c62d9f22198729

commit 91351658b3a5e56d602af276368106e1a87b3592
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Mar 6 11:22:46 2013 -0800

    Install os-refresh-config scripts automatically
    
    Updating the cinder element to reflect the new desired way to ship
    os-refresh-config scripts.
    
    Change-Id: Ibde1275725241204f6097ad7cc0ba0de5e6cd431

commit 9215817ec93f27ac3ce57be09b401d010ec31c4a
Merge: b880ef9 2b29ca6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 00:43:53 2013 +0000

    Merge "Integrate os-refresh-config with heat-cfntools"

commit b880ef9017dea9f203bff34414aebd344352d6ec
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Sun Mar 3 23:56:11 2013 -0800

    local-config element adds authorized_key for root:
    
    Currently, the local-config and stackuser elements
    are intertwined.  local-config installs an authorized_key
    for stackuser, if the stackuser element is in use.
    
    This change does two things:
    - add authorized_key for root from local-config element,
        regardeless of whether stackuser element is in use.
    - install key for stack user from stackuser element,
        only if local-config element is in use.
    
    Change-Id: I0d07b61404119ea0650c5c0fb98d6786adcf3ca9

commit 2b29ca61834e4135308401d8c792ecd34bc96564
Author: Clint Byrum <clint@fewbar.com>
Date:   Fri Mar 1 16:41:45 2013 -0800

    Integrate os-refresh-config with heat-cfntools
    
    * Provide entry point for Heat Metadata to drive os-refresh-config
    * Use os-config-applier for configuring heat cfn tools
    
    Change-Id: Ie38b932173948f1e7c414c48caa1b037916bef84

commit 30e803aa56d3da7bcebb8a4c62ad532b760b6378
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Mar 5 10:38:07 2013 -0800

    Allow elements to include skeleton config
    
    Copies all templates found in the root of any element into the
    default template location.
    
    These templates will be filled in from heat metadata by
    os-config-applier whenever it is run.
    
    Update keystone to install templates in this way as an example.
    
    Change-Id: I0be0a79a431e9ba5b80e84f130c48d5ce8b100ae
    Co-Authored-By: Tim Miller <tim.miller.0@gmail.com>

commit aa8a2174a6fcdaeb3b2cbcb2f5a0bafcb993e9bb
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Feb 20 21:50:33 2013 -0800

    Add a cinder element.
    
    Change-Id: I4729cf003896c3b4f8267d16e1b4822099231051

commit 07c476b5901c3df3c1cfcad8f06ce1a2023217cb
Merge: cc4b23a 614b6af
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 28 05:19:47 2013 +0000

    Merge "Fix heat-cfntools to work on Fedora"

commit cc4b23aafa7e210aa3bb697649f16bdee1be6510
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Feb 27 20:23:13 2013 -0800

    Namespace SHA256SUMS file to distro/release/arch
    
    Its possible other images will want to use the same filename
    
    Change-Id: Iae393bfc71205d39e2bc6e12f5524824607d6101

commit 614b6af62fbe85c93d83ebbda7862d7c432e7763
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Feb 27 15:07:12 2013 -0800

    Fix heat-cfntools to work on Fedora
    
    Also add redhat-lsb to Fedora images for lsb_release which should prove
    useful as a way to do distro-specific things.
    
    Change-Id: Ie32566349319ca244fa02065bb9f81c36c1b49fb

commit b2314243c63a85dd6fc292104a2fefe54c54e492
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Feb 27 15:31:56 2013 -0800

    Verify Ubuntu Cloud Images using SHA256SUMS
    
    Relies on https://cloud-images.ubuntu.com being served by a cert signed
    by one of the CA's trusted by the build host.
    
    Change-Id: I690b755acca54789110c2c8fa723c8b87b2485c9

commit 0bbea74583435300a700dcb36ee17ebcd1449496
Merge: 4f8040c 2b5557e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 20:26:01 2013 +0000

    Merge "Don't use sudo in base."

commit 4f8040c7a4d3b963aaa479ede70b5d2faee4a5c3
Author: Ghe Rivero <ghe.rivero@hp.com>
Date:   Wed Feb 27 11:11:26 2013 +0100

    Fix elements_path default path.
    
    Change-Id: I0cf94813bd23edac8e25a55bbe58db6f126a2294

commit 308eee28271531bc493e632a42542143b43e8637
Author: Ghe Rivero <ghe@debian.org>
Date:   Mon Feb 25 10:17:32 2013 +0100

    Use multiple locations for elements dir.
    
    Using ELEMENTS_DIR env variable, you can specify multiple dirs containint your elements.
    It must be a ":" separated elements list.
    
    When an element is seen in one of those lists, it will be chosen and will continue with the next element.
    
    Change-Id: I18eca27d943139cd6ca1ebd232b419e502d7b048

commit 7d1a4adc175f5302298f3bdd2eabd4aa8783335a
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Feb 26 20:12:09 2013 -0800

    Specify os-refresh-config path in README.
    
    Change-Id: I1cf9569ae805c070f13a582d376665f2e8976ffc

commit 2b5557ea3021640a4dd41fc68eef515a16e0ce40
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Feb 27 15:51:10 2013 +1300

    Don't use sudo in base.
    
    Install.d hooks are already root, we don't need plain sudo there.
    
    Change-Id: I69747049b2f5f649eb503a24487bbb3a4151ae21

commit b917233a2477dde372cdd78a70eabe17c0bac2d3
Merge: 619153b aa9f447
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 00:02:31 2013 +0000

    Merge "Devstack element pulls from master."

commit 619153bdf45aa6f44099c6ae3a60ffa56bd6c548
Merge: b509dbb a05629b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 00:02:26 2013 +0000

    Merge "Support multiple outputs disk formats"

commit b509dbbd0e2c922a2cc1e8d3eea5915ed024f7c3
Merge: bf67e4e bdc5759
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 00:02:24 2013 +0000

    Merge "Install heat-cfntools from pypi"

commit bf67e4ec0c22a05f46ad7ad894195d0f720969f2
Merge: c520326 dc84546
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 26 21:06:57 2013 +0000

    Merge "Add an openstack all-openstack-db element:"

commit dc845466bcbf7ace4ad205bdaca25187d5be5b00
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu Feb 21 11:21:15 2013 -0800

    Add an openstack all-openstack-db element:
    
    This element installs all openstack sql databases into
    a single image, useful for a bootstrap image.
    
    Change-Id: I6efe807793ec620a60d5798d28a7e3103a5b90e8

commit aa9f4477708e7acc9f9d1f1fce7539a099c93d46
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Mon Feb 25 16:31:09 2013 -0800

    Devstack element pulls from master.
    
    Devstack element pulls devstack from trunk
    instead of from the tripleo fork.
    
    Change-Id: Ie5b1c325b2464cf1195e8e79857bdea27f9847a2

commit c5203262d7ba9c2005c6f2b9ea48e532c4fefe75
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Mon Feb 25 16:29:28 2013 -0800

    Fix ramdisk-image-create
    
    ELEMENTS_DIR env var was not being set by lib/ramdisk-defaults.
    This caused ramdisk-image-create to fail.
    
    Change-Id: I25ec43feddb8ef546dba83a77b8488fee98d4a17

commit 48e22d91b6ef1603c6ebf15339b840a0bd2c906d
Author: Steve Baker <sbaker@redhat.com>
Date:   Fri Feb 22 12:39:10 2013 +1300

    Run alternatives pip -> pip-python
    
    Checks to see if python-pip is installed and installs
    an alternatives link at /usr/bin/pip
    
    Change-Id: I858ac2597d3cacc79144a8b345faf6a2f7dee26e

commit bdc575974091ced865dfd84a4c195a179cb3034b
Author: Steve Baker <sbaker@redhat.com>
Date:   Thu Feb 21 15:47:12 2013 +1300

    Install heat-cfntools from pypi
    
    Then creates symlinks into /opt/aws/bin using the included script.
    
    This replaces the heat-jeos element, so anything that references heat-jeos will need to be replaced with heat-cfntools
    
    Change-Id: Id286b005f69ea364357303b4bbc1ed29d4f0f8f9

commit a05629b9f4088b0762b4ee4d7396440117115d09
Author: Ghe Rivero <ghe.rivero@hp.com>
Date:   Wed Feb 20 13:07:23 2013 +0100

    Support multiple outputs disk formats
    
    Using the IMAGE_TYPE env variable, you can select which ouput disk format you want for your image.
    Only qcow2 format supports compression.
    
    Change-Id: Ia01d9079c354dbd3cfcf870d86f97ee57bd9d479

commit e4957e37a9f9e7f7c4f7d141107a68c09d1d21a8
Merge: 274f493 6cfea30
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 04:52:04 2013 +0000

    Merge "Prevent silent failure of element-info:"

commit 6cfea302464043a0682a58cb21474ee21053bc3b
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Feb 5 09:53:33 2013 -0800

    Prevent silent failure of element-info:
    
    bin/element-info accesses it's library via a symlink:
      bin/diskimage_builder -> diskimage_builder
    
    This causes the relative path in elements.py to be
    incorrect.
    
    element-info silently fails in this situation, because
    it allows missing 'element-deps' files, so that these files
    may be optional.
    
    This change causes element-info to fail explicitly if $ELEMENTS_DIR
    is not set, as it now is when called by diskimage-create, and
    adds tests reflecting this behavior.
    
    Change-Id: Iec50f934feb13dfed64d69297a3af6ac9f842677

commit 274f4939a1840cca73168a6cca8d165300aebc1c
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Feb 19 11:35:56 2013 +1300

    Fix the sudo rules for unpacking fedora raw images.
    
    Change-Id: Icba75e0380f63a8f6059d1be4c63ac823b9f473d

commit 9978720051923e58ae50794adf9ca24bb6d8cd38
Merge: f42cb64 5544da4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 22:01:36 2013 +0000

    Merge "first-boot.d scripts log to a file:"

commit 5544da4605e8fa26901f53afeec11851b941aa69
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Feb 15 10:01:58 2013 -0800

    first-boot.d scripts log to a file:
    
    Log first-boot.d script output to a file, to ease troubleshooting,
    since the first-boot scripts are removed from the system after
    running, even in case of failure.
    
    Change-Id: I07d5c782dd918a804e054bf08efce89ed9442e0c

commit f42cb641bf710d805ec3fffe4c10d69367b9f998
Author: Robert Collins <rbtcollins@hp.com>
Date:   Fri Feb 15 15:34:09 2013 +1300

    Fedora needs to depend on dib-run-parts too.
    
    Change-Id: I56611d1c2bf13c8d24a87869bf8334d8e4992f6f

commit 7ae4fb5c1c7780cc94dedebecc1b72bc69f25944
Merge: 210e697 826c9c7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 15 02:19:05 2013 +0000

    Merge "Make populate_libs() more generic."

commit 210e69779b7633214955e2411f5f9127f5c1eb71
Merge: 9afddcf 9806b6e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 15 02:12:47 2013 +0000

    Merge "Give stack user passwordless sudo:"

commit 9afddcf2669061712a1a9268b890dea315024480
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Feb 14 11:16:00 2013 +1300

    New element that uses a fedora cloud image as the base.
    
    Change-Id: I7d83bb2b359e7a8c3858eca04c96e35cf4e1fe9e

commit 04a208c866a7f144e931365119e383dc0fb5c45a
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Feb 14 11:36:06 2013 -0800

    Add dib-run-parts install command to sudoers.d
    
    Change-Id: I8943d18efa4077da87cb822255f70c6541f32f30

commit 91c30f6ab242f86bfa71d8eda14283f90a992cd2
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Feb 14 10:20:30 2013 -0800

    Use dib-run-parts for running scripts in target
    
    Also modified dib-run-parts to apply a more workable solution for
    filtering out unwanted files such as editor backups and VCS.
    
    The script is installed in its own element, depended on by the OS
    specific ubuntu element. This is  because the ubuntu element (and
    later other OS's) are responsible for populating the root filesystem.
    If we try to install this in base, the root filesystem will look to
    be populated already and we will skip automatically choosing ubuntu.
    
    Change-Id: I017646748c1a8360299106289b57d976d45875a8

commit 3ce071c8942441cbd8eaf2377f63101be9b1ea60
Merge: 4992022 7f77729
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 14 18:28:55 2013 +0000

    Merge "Move the dpkg specific stuff to a dpkg element rather than being hardcoded."

commit 49920223b561ff2cc501777e999f53a93cc9fef7
Merge: d84a2fa 3860af4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 14 16:55:03 2013 +0000

    Merge "Change run-parts usage to be compatible with Fedora."

commit 826c9c793501716c754cec0578865396adfabe31
Author: Arata Notsu <notsu@virtualtech.jp>
Date:   Thu Feb 14 17:40:39 2013 +0900

    Make populate_libs() more generic.
    
    It can handle "path to path" output of ldd, such as
        /a/b/c.so => /x/y/z.so (0x123456789)
    
    Change-Id: I68d1096694835818c9129212a02796e1ce1c181d

commit d84a2fa246d308daa43234f2e87931e29b1ca65d
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Feb 13 16:41:09 2013 -0800

    Work in progress run-parts replacement.
    
    Change-Id: Ie95b3ed2145594b5f6436454a6756012fc1c4729

commit 7f77729ec54d418ff728767b3aec7e9b3ba40e6a
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Feb 14 11:16:00 2013 +1300

    Move the dpkg specific stuff to a dpkg element rather than being hardcoded.
    
    This includes the install-packages implementation for dpkg, apt http proxy
    config, daemon blocking and unblocking.
    
    Change-Id: I8f159021d2b223d7003cec067de3aa605ad06974

commit 3860af4be56a1d4f99136f35e8255176ad0fa0f5
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Feb 14 11:16:00 2013 +1300

    Change run-parts usage to be compatible with Fedora.
    
    Change-Id: I7a4e1252b0ced940cd4d8fa2fbd096c016933954

commit 9806b6e737ca030450225ffe5100e770d4e7c697
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Feb 5 22:30:30 2013 -0800

    Give stack user passwordless sudo:
    
    This is very helpful when performing automation.
    
    Additionally, removed addition of stack user to admin group,
    since that group does not exist on all systems, and
    passwordless sudo eliminates the need it was addressing.
    
    Change-Id: I727bd51acb920c6c2e66247069998b6ee4267895

commit 56e50ee5cf4dde5362eb9a0b747a2ca04b49f8f0
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Jan 25 14:23:56 2013 -0800

    Consolidate common OS installation into a script:
    
    Move common openstack service installation operations
    into a new script `os-svc-install`, which simplifies
    the elements for openstack services.
    
    Change-Id: Ied8ac3278e7fe8af76e24748ec4e598a84afa03c

commit 8220c0009594151dbee55d257f12c60bb17ee5d3
Author: Robert Collins <rbtcollins@hp.com>
Date:   Wed Feb 13 13:58:35 2013 +1300

    Bad code landed, causing ubuntu to be always landed.
    
    Change-Id: Ia77073563fde70140169dbbc5a7448aad54295e2

commit b98e8d1b3ff7806da8b6db5277b6c54d4685163c
Merge: 86a1294 9386a35
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 23:16:23 2013 +0000

    Merge "ramdisk-image-create shows a failed binary dependency"

commit 86a1294c280cc58780190fb2f73fbc5c0899c833
Merge: 792a4a5 f3dc4c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 23:13:48 2013 +0000

    Merge "cloud-init-nocloud element for non-cloud image"

commit 792a4a5916749c2610f5820c2c144c189e979a47
Merge: e5e36ce 0841576
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 23:09:13 2013 +0000

    Merge "Add cfn-hup configuration for os-refresh-config"

commit e5e36ce2c1581c37b6d20494e91e07ff08424354
Merge: 750e4c3 9ed4aaf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 23:07:12 2013 +0000

    Merge "Add element to call os-refresh-config"

commit 750e4c3e062ef731823863c7bb884d1fd3efe6dd
Merge: 4008475 aa6f5f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 23:05:07 2013 +0000

    Merge "Correct misuse of return in ramdisk-image-create"

commit 4008475bfc8b8f56ef3393c65a962e9a209eedf0
Merge: fd8b30f 5c13dc1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 23:04:56 2013 +0000

    Merge "Fix unnecessarily creating a temporary directory"

commit fd8b30fa590f4f1b4fb01e82e52da6079d662de2
Merge: d9cc434 8f96a28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 21:22:32 2013 +0000

    Merge "Add default element selection"

commit f3dc4c93807b83c9ba79f2df813996fb8fe0976c
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Feb 4 21:54:48 2013 -0800

    cloud-init-nocloud element for non-cloud image
    
    Disables cloud-init from querying EC2 metadata, or any cloud metadata
    service. It keeps only the Nocloud and None data sources, which are both
    expected to be "baked in" to an image.  This speeds up boot by 2 minutes
    on hosts where cloud-init cannot reach the EC2 metadata service.
    
    Change-Id: I43522c4a442c0f2fc2044d4898768ceb4f839099

commit 0841576862235868768f82e7cf48edcc34df3693
Author: Clint Byrum <clint@fewbar.com>
Date:   Sun Feb 10 21:10:18 2013 -0800

    Add cfn-hup configuration for os-refresh-config
    
    Configures cfn-hup to run os-refresh-config on Metadata changes.
    
    Change-Id: I65fcd8e09fe3cb070e3036156eaca4b5b0993d67

commit d9cc434fa03376c9c0dc098722dbd4b80077ed91
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Feb 12 08:56:35 2013 -0800

    Fix broken pep8 in setup.py
    
    Change-Id: I304a581068d6513e5ee7acbb80b80a912c6f7a39

commit 9ed4aaf2b07bd3538a87c922865d1379da483208
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Feb 6 19:05:47 2013 -0800

    Add element to call os-refresh-config
    
    os-refresh-config simply runs things in a predictable order in directories
    that other elements can populate. This element installs it and sets it
    up to run at boot.
    
    We also modify os-config-applier element to be called by this rather
    than to have its own upstart job. This provides an example of how other
    elements can insert themselves into the refresh process.
    
    Change-Id: I52d72b7fd302ec317840af87fa77299387af99ad

commit 8f96a286d7381e93e7506da483c0dc1afaca4c17
Author: Chris Jones <cmsj@tenshu.net>
Date:   Mon Jan 28 18:24:05 2013 +0000

    Add default element selection
    
    This change includes the 'base' element by default and adds a
    command line switch to prevent this behaviour. This should reduce
    confusion since this element is almost always necessary.
    
    Change-Id: Ib4a2ef53a76b119b764751fa21058f4e2cb37741

commit aa6f5f8005850d6783a04784e90c0921f31e7f37
Author: Arata Notsu <notsu@virtualtech.jp>
Date:   Tue Feb 12 17:43:35 2013 +0900

    Correct misuse of return in ramdisk-image-create
    
    Replaced return with exit.
    
    Change-Id: Iee26177cdb58af67b6919da12456debfe5940105

commit 5c13dc1d75538d0dfb318519f44a3c33460a602a
Author: Arata Notsu <notsu@virtualtech.jp>
Date:   Tue Feb 12 17:29:52 2013 +0900

    Fix unnecessarily creating a temporary directory
    
    mk_build_dir was executed twice in ramdisk-image-create.
    
    Change-Id: I93cf83775fb5e7ba3e6b84643f723568a2420305

commit 9386a35e47ede3f754e6fdc6a2ef7d4531f6fa33
Author: Arata Notsu <notsu@virtualtech.jp>
Date:   Tue Feb 12 16:40:26 2013 +0900

    ramdisk-image-create shows a failed binary dependency
    
    This patch fixes a problem: if a binary is not found, the script
    exits without a message informs what is needed (because of 'set -e').
    
    Change-Id: I00b8917918f0e6eddf8506d6548432077eb4bf14

commit 9605c7090acdb49392fc2036d2e4f4628fc96036
Merge: 8f9d433 41b93c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 12 07:08:53 2013 +0000

    Merge "Add missing python-pip dependency in heat-jeos"

commit 8f9d433917dd9622118321af32a4d2d6525cbd0c
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Feb 12 19:23:34 2013 +1300

    The default ARCH was broken due to $ARCH not being exported.
    
    Change-Id: I84f2b60c391d90ed285bd30669260c8483a3c76f

commit 41b93c99c453e1aee9a10cb9eb1d2b311638eb67
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Feb 11 18:11:51 2013 -0800

    Add missing python-pip dependency in heat-jeos
    
    Change-Id: I9d0b5d0f86c8fc07cbd7e432df79f7b66c98af0f

commit 80b9b45e312a25cfc4b36c87a3a29b7200f89538
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Feb 11 14:23:02 2013 -0800

    Work around cfn API bug in HEAT w/ specific boto
    
    See https://bugs.launchpad.net/heat/+bug/1122472 for information on the
    specific problem in heat. This can be removed when that bug is resolved.
    
    Change-Id: I76a7a42dea9472c54f03593c8c67856aa23f2c73

commit 1ee3a01447469d613124ecc8ac5680699d767b7f
Author: Robert Collins <rbtcollins@hp.com>
Date:   Mon Feb 11 17:01:36 2013 +1300

    Move initial root contents into a hook.
    
    This is a necessary but not complete step towards supporting Fedora and Suse
    distributions. Further work is needed (e.g. to quiesce daemons on
    installation).
    
    Change-Id: If3ea6093d41a21de755db52328226b84b5a3ede6

commit 988bebcefb7bbf2786ce93b9ff4129c9de9f0cbe
Merge: c3ee071 455bae1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 06:54:53 2013 +0000

    Merge "Add os-config-applier element."

commit c3ee071d73f4719ac5313303d4898c8bc41ea921
Author: Clint Byrum <clint@fewbar.com>
Date:   Thu Jan 24 09:42:57 2013 -0800

    Make it possible for openstack-CI to run tests
    
    Per http://wiki.openstack.org/ProjectTestingInterface we enable all
    of the commands except build_sphinx because we do not have any sphinx
    documentation as of yet. Includes babel support though there are no
    properly internationalized strings just yet.
    
    Change-Id: Iae6e6b3f9e605106f4575196fa5527d2187255df

commit 3d95bf81c51d1b91d4787b5c70caaf6a87dc54f1
Author: Robert Collins <rbtcollins@hp.com>
Date:   Tue Feb 5 14:39:38 2013 +1300

    Export the ELEMENTS_DIR so that dependencies work.
    
    Change-Id: I544b0762f8a13a11564cf02c5fdbe3cb521f63b3

commit 455bae12bd21466fc62da65cd64eb043cb4f5a62
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Jan 30 10:57:12 2013 -0800

    Add os-config-applier element.
    
    Change-Id: Ie7ee15c26fbbcf93f2708bc63005cee5f75e8fc1

commit 24600defd0592f233285e8f9b3876499235f51fc
Author: Robert Collins <rbtcollins@hp.com>
Date:   Thu Jan 31 16:43:44 2013 +1300

    Split stack user creation out of devstack element.
    
    This makes it easy to create a local user without cloud init, for vm
    instances.
    
    Change-Id: Ifaae67418a725eb5a39cf9e46f0804b09986f63c

commit 0135f07ad93fdcca0217cf312e9a72b9aa6cfd02
Merge: cb40379 4688804
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 00:18:45 2013 +0000

    Merge "Improve error message for missing element."

commit cb403795238d94090d20d1e87d2b948149b57244
Merge: 11b4a55 997165f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 00:17:50 2013 +0000

    Merge "Add option to clear environment"

commit 4688804bbc80e30946f4958447c426f8e41f7f78
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Jan 30 16:07:02 2013 -0800

    Improve error message for missing element.
    
    Change-Id: I80beae77874e36d7f47880b030c225100b102e95

commit 11b4a5501d6d7f8db85a4ce85b0cac849ef1f0e6
Author: Ghe Rivero <ghe@debian.org>
Date:   Mon Jan 28 06:41:54 2013 +0100

    Create install-packages as a binary.
    
    Only supports Debian family distribution so far.
    
    Change-Id: I9fa0b833c34a614fe498c6c6ae599733a69c1309

commit 997165ff119fe7ffcfeb76ecb86ffb643f610ccc
Author: Chris Jones <cmsj@tenshu.net>
Date:   Wed Jan 30 18:24:24 2013 +0000

    Add option to clear environment
    
    This adds an option to disk-image-create that allows it to re-exec with
    an empty environment if required.
    
    Change-Id: I9e51aa07b903e18cdd0ed5f953800307f9899b5d

commit 8997ec6d0ba51f235365be56889d5619dc8c950c
Merge: 42a2d1c e831a06
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 09:42:29 2013 +0000

    Merge "Add openstack-all element."

commit 42a2d1cf44c4f4b70a4a216ec562c7e650d2cfa8
Merge: 42cad78 861f633
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 09:26:11 2013 +0000

    Merge "Add sudoers rule to format and mount anykind of partitions in disks."

commit 42cad78e204856eaa5c3ccd3cbbc3c7c3615c966
Merge: 15dbc42 b8d51d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 09:17:19 2013 +0000

    Merge "Add element to install config-applier"

commit 15dbc42d72a75f350a503b7c25a38f9080dbc0ae
Author: Chris Jones <cmsj@tenshu.net>
Date:   Mon Jan 28 18:08:50 2013 +0000

    Switch locale to C
    
    Remove the explicit installation of an English language pack and instead
    just default LANG to C. This settls Perl's noisy warnings and also stops
    any side effects of different language build hosts.
    
    Note that this is set right at the start of the build process, so it
    should be entirely possible to override if needs be.
    
    Change-Id: Id3b31162d4198fa02dc5a4d11168e57dbcd14a5d

commit 861f633196923c7aa167e1f603d001cd8a7c2e5a
Author: Ghe Rivero <ghe@debian.org>
Date:   Mon Jan 28 17:20:22 2013 +0100

    Add sudoers rule to format and mount anykind of partitions in disks.
    
    The element vm is the only one creating a partition in the disk.
    If not included, it will ask for sudo password to format or mount
    the whole nbd disk or disks with multiple partitions.
    
    Change-Id: Iac0987d2088433873b7cbb68deecc9254b2d0103

commit e831a06bad80327d54b8006454a33b76c297225c
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Fri Jan 25 14:00:43 2013 -0800

    Add openstack-all element.
    
    Change-Id: I192b03c64899c77f4bc739b6a09921284b600a98

commit b8d51d3c9a1ffe3b7dbfdea55364580738def485
Author: Clint Byrum <clint@fewbar.com>
Date:   Tue Dec 18 14:54:33 2012 -0800

    Add element to install config-applier
    
    Change-Id: I91f519f5ecbe1c5a252e87af28b66eef983478b0

commit 15a1ad0b5bf84d1d7291cfc853bee092a8616685
Author: Clint Byrum <clint@fewbar.com>
Date:   Sat Jan 19 08:09:42 2013 +0000

    Enable 'ec2-user' in HEAT for quantal images.
    
    Employs some workarounds that can be removed when bugs reference in
    comments are fixed elsewhere.
    
    Change-Id: If423844f0dfabbddd4d0d7b8ad8fcf6d32693195

commit c8c33e3bb125021b90aaf78ce67965af66b0b6f0
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Jan 21 17:35:31 2013 -0800

    Add a simple implementation of element dependency
    
    This adds a new optional file to the root of elements. The
    file lists dependencies which will be added to the list
    requested by the user during disk image creation.
    
    Change-Id: Id71c3b333563604bbbaf90f9cf40e24fa9738fc8

commit b4e495f6efabe3babead5b97783ab6090f194e75
Merge: 35487c8 89b245c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 20 22:50:51 2013 +0000

    Merge "Install nova-api from github."

commit 35487c8639da3d45ac00a2a6f4bd08cef1847a33
Merge: 6aed59c 1951ac8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 20 22:46:39 2013 +0000

    Merge "Disable Apt Recommends."

commit 6aed59c95e8418643bcc709a9921201addc32fd4
Merge: 4c2c3a8 ec3f7f6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Jan 20 22:40:09 2013 +0000

    Merge "Add Icinga elements."

commit 1951ac88382599834adeb111805cdeca738ed1d2
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Jan 17 17:07:30 2013 +0000

    Disable Apt Recommends.
    
    This disables apt's default behaviour of installing packages in the
    Recommends field of other packages. While this can be useful, it
    causes a lot of unnecessary software to be installed and may cause
    explicit dependencies to be missed in some circumstances.
    
    Change-Id: I10f4519290e6b3dafda3365c0c5dcc42ad17c090

commit 4c2c3a873863e77126b26f8b2ec3f96d1d61b88c
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Thu Jan 10 15:01:18 2013 -0800

    add default gateway to deploy init script
    
    Change-Id: Ia2aed772d811c44e0613bc0684b2ab2a58d36f86

commit a215ffcd92d690e4222404b084578fc4ab054965
Merge: 961d6dc 0f73578
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 21 17:53:11 2012 +0000

    Merge "Allow manual installation of packages."

commit 0f73578721f4bdb59bd73efba936b2c8178a2db9
Author: Chris Jones <cmsj@tenshu.net>
Date:   Tue Dec 18 20:45:02 2012 +0000

    Allow manual installation of packages.
    
    Rather than force creation of an element for a single package install,
    allow people to do this from the command line.
    
    Change-Id: I63e2e7e50c4a7dbb8a8e198581dfadce91773621

commit 961d6dc7b2aebebe8a99dfbaa50b75be6b1c8ce6
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Dec 20 18:07:54 2012 +0000

    Include English locale in base.
    
    This change causes the "base" element to install and generate English
    locales, thereby mitigating a lot of build noise (at least for
    English speaking users). Also included is a note in the element's
    README.md about what users in other locales should do.
    
    Change-Id: I053c7e0254a0a0d7dde081f7cc72204a12aa8ef4

commit 89b245c604b89aebd856bc1eb4f3f3cdadb44069
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu Dec 20 14:10:44 2012 -0800

    Install nova-api from github.
    
    Change-Id: If3b2818386a58a5effcfb3cc93579dc296536733

commit ec3f7f64daf28c09b5fd95e788d373c6c8ed67b4
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Dec 13 15:39:53 2012 +0000

    Add Icinga elements.
    
    Add basic install-only elements for creating images for Icinga's core
    and its web UI.
    
    Change-Id: I7193a3a7130543903d07efc95322487444443d9a

commit 147489f239d05ac7dbe5b3ce8a2303c9fa38dfa8
Author: Ghe Rivero <ghe@debian.org>
Date:   Wed Dec 19 15:25:35 2012 +0000

    Add missing whitespace to local-config.
    
    Fix whitespace error in local-config/install.d/61-http-proxy that prevents
    no-proxy being written.
    
    Change-Id: Ie2511bb5b2504c42ff59ec277cd91bf92b56da59

commit d0e9f98b5b99b265d58be245c8ff8fd943fb3480
Author: Monty Taylor <mordred@inaugust.com>
Date:   Wed Dec 19 13:35:29 2012 -0800

    Replace demo references with incubator.
    
    Change-Id: I94e88471e85ab5cf364ce995d6e09631030e3aeb

commit 0d898acd7c82ca47cb1616e251029fbb174cbc0d
Merge: 20b679e 05ccb5e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 20:53:04 2012 +0000

    Merge "Clean up the MySQL element to make it suitable for generic use."

commit 20b679e95992bc268836162c502aaa9f7935ee69
Merge: 041f04a d25f89a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 20:53:02 2012 +0000

    Merge "Install quantum-api from github."

commit 041f04a8368d0a36865766e92ed027a2860bfd0c
Author: Clint Byrum <clint@fewbar.com>
Date:   Wed Dec 12 21:20:12 2012 -0800

    Add an element to install the HEAT JEOS tools.
    
    Change-Id: Id1d96479142dbfbba2265ab8ec5f242146a03b19

commit d25f89ad1217dc1a4722452cf280b5859966041e
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Wed Dec 12 15:25:46 2012 -0800

    Install quantum-api from github.
    
    Change-Id: If7ae61bce1ee263077ecd3e49beab4e5c8f97cf2

commit 05ccb5eab5bbc8914a166da68d7b144192fbd157
Author: Clint Byrum <clint@fewbar.com>
Date:   Mon Dec 17 15:00:18 2012 -0800

    Clean up the MySQL element to make it suitable for generic use.
    
    Change-Id: Ib3e384d6fb48e6df53a0897bcc48bbb46995a824

commit 804e94b5ebde80fbac21e0711338370e8597932f
Merge: 783e57e 2fcb64e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 18 16:14:57 2012 +0000

    Merge "Add glance-api element."

commit 783e57ef4fb5ba844d487d8a8f5aec85dbdd41e8
Merge: 2cefdd7 219aa52
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 18 15:32:52 2012 +0000

    Merge "Fix disk-image-create's getopt error handling:"

commit 219aa5295824cb341fbcff875bec897c7d632448
Author: Chris Jones <cmsj@tenshu.net>
Date:   Mon Dec 17 17:00:13 2012 +0000

    Fix disk-image-create's getopt error handling:
    
    We originally checked the return code of getopt, but subsequently
    a debugging echo has been inserted and now we are checking the
    return code of "echo", which is very rarely going to be useful.
    
    Change-Id: I054fecaf6576d5e9d42b07159bba7d50335bf6cc

commit 2cefdd7e601e37ff24028ea3fb54cf9164a2f28e
Author: Chris Jones <cmsj@tenshu.net>
Date:   Mon Dec 17 16:53:46 2012 +0000

    Tidy up base element:
    
    Fix a typo in the base element itself.
    Refer to it early in the README since it is likely to be useful to
    almost everyone.
    
    Change-Id: I4a753b61542f8a354ade7fcc4436076aec61e6c0

commit d212ffd1db29f61e9111006fdbe9f7bac2b6f28e
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Sun Dec 16 18:44:46 2012 -0800

    Add guidelines for composing elements.
    
    Change-Id: Id9bb81aefaad2024d9a73d02c58a73565250b813

commit dba9418f03aa1c2036d781a071923b4936cffc90
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Fri Dec 7 14:52:35 2012 -0800

    Copy both http and https proxy to local-config.
    
    Previously, only http_proxy was copied into the local-config image.
    We now preserve both http_proxy and https_proxy settings.
    
    Change-Id: I4de2712f2772fb7d07b228cecdc0c8ec6f3df567
    Co-authored-by: Chris Krelle <nobodycam@gmail.com>

commit 1f39f4c629074444d2301d9c47a8f0a6d9cae4cc
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Dec 14 13:25:18 2012 +1300

    Add a test framework for testing elements.
    
    Change-Id: I845ac3ec6bbcd212ee43151981a2bc5264f4a5b3

commit 573ee28fd2709e1dbd95adc2d3b8648502b9fc8e
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Dec 14 13:25:18 2012 +1300

    Ignore .pyc files.
    
    Change-Id: I74c1197fb5c8c35903f0ede8442741d2fc1d3f1d

commit daf9fc1d6b5164b8bce5b287397b0ef110605f67
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Dec 14 13:25:18 2012 +1300

    Add a .testr.conf configuration and ignore .testrepository.
    
    Change-Id: I182d8b5567732ecf3da69f580c3e4b6d6438ab6b

commit d03825b504ccf362315142a698bbcbe5b6ab1f8c
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Dec 14 20:17:00 2012 +1300

    Add the ability to break into a shell during builds.
    
    Change-Id: I87af952d892f8622e4c916085fc896c735a35438

commit 2fcb64ee77c6ee72142dab1170ef1a3a03f9a5a7
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Thu Dec 13 15:48:18 2012 -0800

    Add glance-api element.
    
    Change-Id: I277b353fbbed59823335c8b27e875c4417e2643d

commit 012116cad66eed0706a6381834152623df8272a0
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Dec 14 13:25:18 2012 +1300

    Move everything 'common' into base, making it avoidable for tests.
    
    Change-Id: I87edd00f6e0edcd609856192c2c98604ef3274f0

commit e8a8e99a0882a884bfc594beb1256c5076aa90ba
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Dec 14 13:25:18 2012 +1300

    Make it possible to not recompress the qcow2 image at the end.
    
    Change-Id: Icca922853ee583dcccb6d3970d080fbec11edac7

commit 115cd0edbb5fe99a79a93c03ca78a8e2d9fc4b73
Merge: 258185b 9371411
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Dec 13 17:55:27 2012 +0000

    Merge "updating devstack element to reference incubator"

commit 258185b7a22edcc76755b31f225ca46b71625fae
Author: Ghe Rivero <ghe@debian.org>
Date:   Thu Dec 13 18:20:55 2012 +0100

    Added true to avoid exit on error
    
    disk-image-create just died without any warning
    
    Change-Id: Ia5da4188d64bb22540b57d01184b91faa59149e7

commit 9371411ddb23c9bf0f592d6b068249a44bdfd783
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Thu Dec 13 02:31:26 2012 -0800

    updating devstack element to reference incubator
    
    devstack element points to github:tripleo/incubator, instead of demo.
    
    Also, the element now pulls devstack into the image, rather than relying
    on incubator/scripts/demo to pull it down after the image starts.
    
    Change-Id: I878edcc8f5b1a509b14cadfb5fb4c33571a7f312

commit e47bb5713113f2dce0eea8cabde10b67dd177f3a
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Dec 11 13:44:14 2012 -0800

    Add keystone element.
    
    Change-Id: I478227c7a6b806e2aaa52f28ba6c6408d55e9ebc

commit a6755037167dbe36b5f4e893e19aad868f15b5fb
Merge: 7afabfb 1d3ca33
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Dec 11 09:36:57 2012 +0000

    Merge "Add copyright to lib/ramdisk-*"

commit 1d3ca33ce72de233f1145fafa8c83f43b5d3a7e6
Author: Arata Notsu <notsu@virtualtech.jp>
Date:   Tue Dec 11 18:14:19 2012 +0900

    Add copyright to lib/ramdisk-*
    
    Change-Id: I6b48205858f3bc6e55b3dd6efc3e038dd6c42127

commit 7afabfb06e322d97c839575500b7c982835df0b4
Author: Robert Collins <robertc@robertcollins.net>
Date:   Tue Dec 11 21:22:43 2012 +1300

    Generate apt.conf files with correct content, fixes bug 1088805.
    
    Change-Id: I26b855260fdfc472179774779558ed7f0947da6c

commit ae1e74acd8c402a61f2caf187c1cc62e7aa93a08
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Dec 6 14:34:29 2012 +0000

    Further fleshing out of hwdiscovery element
    
    This adds support for other elements to feed into the hwdiscovery
    results.
    
    It also fixes a few bugs in the construction of the ramdisk.
    
    It also adds support for specifying a server to POST the discovered
    hardware data to, via the kernel command line
    
    Change-Id: I163db2b1388f908880e8f458e16906fa6f9db7bc

commit 9243a8e3f9d701d5b3f307d33ad1f5d7f919b58a
Author: Chris Jones <cmsj@tenshu.net>
Date:   Thu Dec 6 12:44:18 2012 +0000

    Move grub installation to the vm element
    
    It makes more sense for grub to be installed by the vm element, since
    that is intended to produce directly bootable disk images.
    
    Change-Id: Ic340ba9d3ec4dbeea3aed3576fc899c1424783a2

commit 1eff4a436e9af3c6131fca04039f943ef4fc5cf0
Author: Monty Taylor <mordred@inaugust.com>
Date:   Fri Nov 30 12:47:57 2012 -0800

    Rename flavour to element.
    
    Flavour is overloaded in openstack due to it being used by nova. Element
    seems to have the same feeling of combinability without using a term already
    in active use in the openstack community.
    
    Change-Id: Ia4c028d4062a8f69c66665821c94dd4bcdf06031

commit e1bc989c2cfb30b7b9705a621048bffedfeb887a
Author: Darragh Bailey <dbailey@hp.com>
Date:   Wed Dec 5 17:28:52 2012 +0000

    Configure git proxy settings and prefer http(s) protocol
    
    Set a proxy for http protocol usage by git, and switch to using
    the https:// protocol in preference to git:// to make it easier
    to clone from behind firewalls.
    
    Change-Id: I41e809c54f3065d59ca84d83be80b9472361dd9d

commit 7ccf5282ed3f3ec215ea587f1073111c4b97ff93
Merge: 0b81a3e e5cda1f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 3 21:38:54 2012 +0000

    Merge "Use system resolv.conf file when available"

commit e5cda1f731630f98f61c43ddb19944d0b47a2c64
Author: Darragh Bailey <dbailey@hp.com>
Date:   Fri Nov 30 15:40:24 2012 +0000

    Use system resolv.conf file when available
    
    Where possible use the system configured resolv.conf file
    to to support resolution of internal servers such as proxies.
    Use previous hardcoded google dns nameserver as fallback
    
    Change-Id: Ibc1e8a3b96e733a2f7fbcdd4b2c5d3e8926424c4

commit 0b81a3e0e805ae562250f5dd7ca50d253d83f41d
Author: Arata Notsu <notsu@virtualtech.jp>
Date:   Thu Nov 29 12:28:14 2012 +0900

    Remove udev stuff from the source tree
    
    Pick udev stuff from the running evironment instead.
    
    Change-Id: I90a004d0a2b83d3451e73ae351cf474a7bfd62ee

commit 5682d59ca64fd57cfbd65ef2d7f65fa6e10b0dcf
Author: Monty Taylor <mordred@inaugust.com>
Date:   Wed Nov 28 08:47:30 2012 -0800

    Add .gitreview file.
    
    Change-Id: I95b011b1851d4299efa19e0527e7594d31600418

commit 38dc7680c9c163c11ae6b740e376209a180fb0ed
Author: Ghe Rivero <ghe.rivero@gmail.com>
Date:   Tue Nov 27 18:37:57 2012 +0100

    Jenkins image fixed
    
    - Removed http_proxy option
    - Added sudoers entry to cp first-bot.d
    - Fixed typo on 11-jenkins-plugins
    - Restored trap exit on run-parts

commit f48fa9e369ef00508c1c94df5a93b30b7169f21b
Author: Robert Collins <robertc@robertcollins.net>
Date:   Tue Nov 27 15:13:37 2012 +1300

    Reinstate /mnt redirection of jenkins - HPCS cloud images have a very
    restricted /.

commit a3f9f12a4aa5570dd596a918cfa12a00d0d3ccb5
Author: Ghe Rivero <ghe.rivero@gmail.com>
Date:   Mon Nov 26 19:05:12 2012 +0100

    Untrap EXIT before run-parts

commit 3d596d7e9ce497cab18b024c769edb51fa74db51
Author: Chris Jones <chris.jones@canonical.com>
Date:   Mon Nov 26 10:55:30 2012 +0000

    Update hwdiscovery flavour to have lots more structure that we can build on

commit c3acf1ed9cec4b2d413d58b38cf4f5e1b4f60139
Author: Ghe Rivero <ghe.rivero@gmail.com>
Date:   Fri Nov 23 16:25:14 2012 +0100

    fix crappy header

commit fcf68d1c184966853aa3d8b876483fc8a994af41
Author: Ghe Rivero <ghe.rivero@gmail.com>
Date:   Fri Nov 23 10:12:42 2012 +0100

    Updated jenkins flavour
    
    - Install list of plugins
    - Use an http service as proxy on port 80
      - Only nginx for now

commit 5efe4f983f3dc6bd8a318efce22234af4e043529
Author: Robert Collins <robertc@robertcollins.net>
Date:   Thu Nov 22 17:58:07 2012 +1300

    Make a primitive jenkins image.

commit d935fc0e073c47bad5dcdde5064516af0224f199
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Wed Nov 21 19:00:53 2012 -0800

    be smarter about mounting qcow images
    
    some images have partition tables, some don't

commit 90f0077cbaf1a01c1eb2ec087845da5800e9ae45
Author: Robert Collins <robertc@robertcollins.net>
Date:   Thu Nov 22 15:04:51 2012 +1300

    Use base in all examples.

commit 51cbc17c4a9d113fa3d60edad30c2ed7b4413ad7
Author: Chris Krelle <nobodycam@gmail.com>
Date:   Tue Nov 20 15:21:29 2012 -0800

    added br* filter for interfaces

commit e1203eccf277c658798d3bc9a715677a0e04f9b8
Author: NoBodyCam <nobodycam@gmail.com>
Date:   Tue Nov 20 14:05:20 2012 -0800

    adding BASIC hardware discovery.

commit 2b879aea6a0771124c4d59bb06a415c3b671d384
Author: NoBodyCam <nobodycam@gmail.com>
Date:   Tue Nov 20 14:04:40 2012 -0800

    adding dhclient support

commit 06bbe7d334a973e11445cfbd911836d3607b59cc
Author: NoBodyCam <nobodycam@gmail.com>
Date:   Tue Nov 20 14:03:40 2012 -0800

    adding dhclient

commit 589d961cb2d448f7d307554b0b0abae91f1ba7be
Merge: e636d61 d0d372a
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Nov 20 11:21:21 2012 -0800

    Merge remote-tracking branch 'upstream/tripleo' into tripleo

commit e636d61365d1cf2c60a638cd2f6afd8e15fc5e8d
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Tue Nov 20 10:59:44 2012 -0800

    move misplaced salt-master install script.

commit d0d372ad78ef9bf8640e4e8fc1e9e8cbe2e3c1f7
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Tue Nov 20 05:21:53 2012 -0800

    mount_qcow_image should mount p1

commit e3551c752f54a3ba229bde95c3cc6b5ff84bb9bd
Author: NoBodyCam <nobodycam@gmail.com>
Date:   Mon Nov 19 17:04:51 2012 -0800

    removes AMQP install and adds hwinfo

commit f7fdec55a85af6e6969664d94cb527bc9673b43a
Author: NoBodyCam <nobodycam@gmail.com>
Date:   Mon Nov 19 16:01:40 2012 -0800

    added lsmod to default busybox links

commit 4e6ca85e8fcbc033e8d7b32b79514d6c17c19028
Author: Tim Miller <tim.miller.0@gmail.com>
Date:   Mon Nov 19 14:18:33 2012 -0800

    add salt-master flavor.

commit fb426153f4a5dc0dc94343fbaac12d526d62a800
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Sun Nov 18 08:17:54 2012 -0800

    remove force-xtrace in disk-image-get-kernel

commit e5fcb277906cde94ad8a5ca25135867888d1cd27
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Fri Nov 16 18:30:15 2012 -0800

    add some tooling that baremetal-devstack wants
    
    - add bin/disk-image-get-kernel to extract vmlinuz/initrd from .qcow2
    - add corresponding methods to lib/common-functions
      - map_nbd
      - (un)mount_qcow_image

commit 37253564d32683b105963a1cc550dcc2b6503361
Author: chriskrelle <chriskrelle@tooltester.(none)>
Date:   Fri Nov 16 16:30:11 2012 -0800

    move tgtd & tgtadm to bin-deps of deploy and remove from lib/ramdisk-functions

commit aa12710e5bf9e6ccba95b2e17097044d6ac633b1
Author: chriskrelle <chriskrelle@tooltester.(none)>
Date:   Fri Nov 16 15:06:14 2012 -0800

    Adding python-AMQPLib install to HWdiscovery

commit 4b7cdb4fdc27ae6584e0a5ce229b550bd0d97cbf
Author: Robert Collins <robertc@robertcollins.net>
Date:   Thu Nov 15 16:20:32 2012 +1300

    Fix copyrights for HP work.

commit 7ce2c06edd9ef719f59fa70bc78e8d1eb04034ac
Author: Robert Collins <robertc@robertcollins.net>
Date:   Tue Nov 13 15:34:29 2012 +1300

    Add a flavour for doing generic this-node-is-in-a-cloud stuff, like cloud-init tweaks.

commit ffab3354ca460b0e7a96f39bac5d58f9865ef685
Author: Devananda van der Veen <devananda.vdv@gmail.com>
Date:   Mon Nov 12 16:49:27 2012 -0800

    adding mysql flavor (untested)

commit 823e18fda2c059c1dc75b018a1385a6641e09e08
Author: Robert Collins <robertc@robertcollins.net>
Date:   Tue Nov 13 10:00:33 2012 +1300

    Document more about the layers.

commit d15b782175ec5f632852d2f5971744026fc53002
Author: Ghe Rivero <ghe.rivero@gmail.com>
Date:   Mon Nov 12 19:39:25 2012 +0100

    Some cleanup on nova-vm flavour

commit f7091cb2fc973271b1c063b892bf083b41d3c9fa
Author: Chris Jones <chris.jones@canonical.com>
Date:   Mon Nov 12 16:56:08 2012 +0000

    Add support for flavours to ship udev rules.d files and port over the mellanox variant to use this

commit cef3e552e6451feae4f740e4f887f851ba507c6a
Author: Ghe Rivero <ghe.rivero@gmail.com>
Date:   Mon Nov 12 13:09:54 2012 +0000

    Fix mysql passwords

commit 9ecbe14d9ca6ad8dad15871f5335c445a453ec0a
Author: Robert Collins <robertc@robertcollins.net>
Date:   Mon Nov 12 20:12:46 2012 +1300

    Default to 2G in size - 1G is just too small.

commit 4c3c7ea9ba50b51d1d922c12c5c41d10127e04fd
Author: Robert Collins <robertc@robertcollins.net>
Date:   Mon Nov 12 13:45:57 2012 +1300

    Fix handling of parameters that are not set by any flavour for eval_run_d.

commit 40e954735c53eb79d4f8262c2066cad9950548dc
Author: Robert Collins <robertc@robertcollins.net>
Date:   Mon Nov 12 11:47:26 2012 +1300

    Make it possible to set a size from within a flavour, and use that for devstack.

commit ac930076fb4543fd082b6827df23baa5f1c15f70
Author: Robert Collins <robertc@robertcollins.net>
Date:   Sat Nov 10 11:36:24 2012 +1300

    Rename baremetal to deploy.

commit 13d65413e1f20492f3eea5ab70d1b141396ab2c0
Author: Chris Jones <chris.jones@canonical.com>
Date:   Fri Nov 9 22:16:08 2012 +0000

    Remove some whitespace

commit 6fb8b19b7cd2f8e7b335c047992846f719ae5445
Author: Chris Jones <chris.jones@canonical.com>
Date:   Fri Nov 9 21:48:41 2012 +0000

    Update ramdisk building to support init hooks for flavours

commit 88a11115f5c1e581180b3a0556d978e1aa7484da
Author: Chris Jones <chris.jones@canonical.com>
Date:   Fri Nov 9 21:48:23 2012 +0000

    Update docs for ramdisk building

commit a9bd68f1c34fd62abb65b814c1024f72b41243cb
Author: Chris Jones <chris.jones@canonical.com>
Date:   Fri Nov 9 21:48:04 2012 +0000

    Add readmes to the ramdisk flavours

commit 511fb825f94fbdf0f0f43174b8a9b39e55a93062
Author: Robert Collins <robertc@robertcollins.net>
Date:   Sat Nov 10 10:16:06 2012 +1300

    Documented binary-deps feature.

commit eb584f14edbeeb5aebbeb98959284836bd87b5cc
Author: Chris Jones <chris.jones@canonical.com>
Date:   Fri Nov 9 18:18:08 2012 +0000

    Port old baremetal-mkinitrd.sh to the new image creation standards

commit 7da463e61790543c105eaa62588ee0b214ff9186
Author: Chris Jones <chris.jones@canonical.com>
Date:   Fri Nov 9 16:13:20 2012 +0000

    Land an extension of baremetal-mkinitrd.sh which can also build flavours, with a start at making hwdiscovery and hwburning flavours

commit 5cc195e3917043be8fad023b28766922d8e65736
Author: Robert Collins <robertc@robertcollins.net>
Date:   Sat Nov 10 00:04:13 2012 +1300

    Bring across disk image code.

commit 10b9c660d6940bf107203615c6cb4b8f40fc74b9
Merge: f2f8931 d87f92c
Author: NTTdocomo-openstack <openstack-contributor-ml@nttdocomo.com>
Date:   Thu Oct 25 22:49:56 2012 -0700

    Merge pull request #1 from tripleo/tripleo
    
    A few cleanups

commit d87f92cb4f442b142a63175ddaee81644055ae5f
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Oct 26 12:20:15 2012 +1300

    Ignore temporary files.

commit bf3474c762f79ad0aa93e0f0b2ae6ced6070fa4b
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Oct 26 12:19:47 2012 +1300

    Support KVM instances - allow /dev/vda to be detected as a disk.

commit f3eb459e3204455531c1eec33bd1b6b444264cf7
Author: Robert Collins <robertc@robertcollins.net>
Date:   Fri Oct 26 12:18:57 2012 +1300

    Turn off udev logging, it makes debugging too hard. Better would be to log to a file or something.

commit f2f89317316949e0d7503f03755237fc6b5adca4
Author: NTTdocomo <openstack-contributor-ml@nttdocomo.com>
Date:   Mon Jul 23 16:32:58 2012 +0900

    change working directory name template.

commit 70c434617cdc8c31fe61520a7d532d5dcf7ec1ef
Author: NTTdocomo <openstack-contributor-ml@nttdocomo.com>
Date:   Mon Jul 23 13:16:57 2012 +0900

    Rename to baremetal-mkinitrd.sh.

commit 8a187e29d31692ae88984417159cf2c16197e0f3
Author: NTTdocomo <openstack-contributor-ml@nttdocomo.com>
Date:   Mon Jul 23 13:07:27 2012 +0900

    initial commit