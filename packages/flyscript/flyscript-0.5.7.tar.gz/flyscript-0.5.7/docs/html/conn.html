<html>
<head>
<link rel="stylesheet" href="ridl.css" />
<link rel="stylesheet" href="flyscript.css" />
<title>FlyScript Documentation</title>
</head>

<body>
<div class="header">
<a href="http://www.riverbed.com"><img src="rb-logo.png" align="left"></a>
<div>
<p class="headerleft">FlyScript Documentation</p>
<p class="headerright"> Version 0.5.7
 - last updated Aug 14, 2013 at 11:08 AM</p>

</div>

</div>

<div class="navbar">

<div class="links" markdown="1">

<p><span class="toctitle">Quick Links:</span></p>
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="tutorials.html">Tutorials</a></li>
<li>Modules<ul>
<li><a href="common.html"><code>rvbd.common</code></a></li>
<li><a href="shark.html"><code>rvbd.shark</code></a></li>
<li><a href="profiler.html"><code>rvbd.profiler</code></a></li>
</ul>
</li>
<li><a href="rest_apis.html">REST APIs</a></li>
<li><a href="glossary.html">Glossary</a></li>
</ul>
</div>

<div class="toc"><span class="toctitle">On this page:</span><ul>
<li><a href="#rvbdcommonconnection">rvbd.common.connection</a><ul>
<li><a href="#connection">Connection</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content">

<h1 id="rvbdcommonconnection">rvbd.common.connection</h1>
<p>This module contains the Connection class, which is the underlying object
for communicating with a device via REST.</p>
<h2 id="connection">Connection</h2>
<p><a name="class_rvbd_common_connection_Connection" href="#class_rvbd_common_connection_Connection" class="linkable">class <code>rvbd.common.connection.Connection</code><span class="link-icon"></span></a></p>
<p>This class handles all HTTP/HTTPS communication with a device,
including connection management, connection pooling, XML and JSON
requests and responses.  This class is normally instantiated
by a <code>Service</code> object, but may be used separately as needed.</p>
<p>Authentication is not handled directly by this class.  The caller
must set the appropriate headers for authentication either
using the <code>extra_headers</code> parameter or by calling the <code>add_headers</code>
method.  The latter will affect all subsequent requests.</p>
<p><strong>Connection</strong>(<em>hostname</em>, <em>port</em>=None, <em>force_ssl</em>=True, <em>pool_size</em>=1, <em>reauthenticate_handler</em>=None, <em>test_resource</em>=None)</p>
<p><div class="docstring" markdown="1">
Create a connection to the requested host.</p>
<p><code>hostname</code> is the name or IP address of the device to connect to</p>
<p><code>port</code> is the TCP port to use for the connection.  This may be either
    a single port or a list of ports to try.  By default, ports
    443 and 80 will be tried.</p>
<p><code>force_ssl</code> when set to True will only allow SSL based connections.
    If False, only allow non-SSL connections.  If set to None
    (the default) try SSL first, then try non-SSL.</p>
<p><code>pool_size</code> is the number of simultaneous connections to establish as
    part of a connection pool.  Default is 1.</p>
<p><code>reauthenticate_handler</code>, if set, should contain callable that is
 invoked if a request returns a session expiration error.
 If the call succeeds, then the request is retried once.</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_request" href="#method_rvbd_common_connection_Connection_request" class="linkable"><strong>request</strong>(<em>urlpath</em>, <em>method</em>="GET", <em>body</em>="", <em>params</em>=None, <em>extra_headers</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Send a generic HTTP request to the host.</p>
<p>On success, the httplib response object is returned.  Any
pending data must be read by the caller.</p>
<p>On failure, an exception is raised.  Any data on the response object is
drained before failing.</p>
<p><code>urlpath</code> is the full path of the resource from the initial slash.
    For example "/api/common/1.0/ping"</p>
<p><code>method</code> is the HTTP method to use.  Default is GET.</p>
<p><code>body</code> is the full text to send as the body of the message as is.</p>
<p><code>params</code> is a dictionary of URL parameters to attach to the request.
    The keys and values will be urlencoded.</p>
<p><code>extra_headers</code> is a dictionary of additional HTTP headers to send
    with the request.</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_xml_request" href="#method_rvbd_common_connection_Connection_xml_request" class="linkable"><strong>xml_request</strong>(<em>urlpath</em>, <em>method</em>="GET", <em>body</em>="", <em>params</em>=None, <em>extra_headers</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Send an XML request to the host.</p>
<p>This is similar to <code>request</code> except the Content-Type and Accept headres
are set to text/xml.  In addition, any response will be XML-decoded as
an xml.etree.ElementTree.  The body is assumed to be an XML encoded
text string and is inserted into the HTTP payload as-is.</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_json_request" href="#method_rvbd_common_connection_Connection_json_request" class="linkable"><strong>json_request</strong>(<em>urlpath</em>, <em>method</em>="GET", <em>data</em>=None, <em>params</em>=None, <em>extra_headers</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Send a JSON request to the host.</p>
<p>For POST/PUT requests, the <code>data</code> parameter will be JSON-encoded before
transmission.  For all requests, the response is JSON-decoded using the
DictObject class before returning.</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_upload" href="#method_rvbd_common_connection_Connection_upload" class="linkable"><strong>upload</strong>(<em>urlpath</em>, <em>data</em>, <em>method</em>="POST", <em>params</em>=None, <em>extra_headers</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Upload raw data to the given URL path with the given content type.</p>
<p><code>data</code> may be either a string or a python file object.</p>
<p><code>extra_headers</code> is a dictionary of additional HTTP headers to send
    with the request (e.g.  Content-Type, Content-Disposition)</p>
<p><code>params</code> is a dictionary of URL parameters to attach to the request.
    The keys and values will be urlencoded.</p>
<p><code>method</code> defaults to "POST", but can be overridden if the API requires another
    method such as "PUT" to be used instead.</p>
<p>Returns location information if resource has been created,
otherwise the response body (if any).</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_download" href="#method_rvbd_common_connection_Connection_download" class="linkable"><strong>download</strong>(<em>urlpath</em>, <em>path</em>=None, <em>overwrite</em>=False, <em>method</em>="GET", <em>extra_headers</em>=None, <em>params</em>=None)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Download a file from a remote URI and save it to a local path.</p>
<p><code>urlpath</code> is the url of the file to download.</p>
<p><code>path</code> is an optional path on the local filesystem to save the downloaded file.
It can be:</p>
<div class="codehilite"><pre><span class="o">-</span> <span class="n">a</span> <span class="n">complete</span> <span class="n">path</span>
<span class="o">-</span> <span class="n">a</span> <span class="n">directory</span>
</pre></div>


<p>In the first case the file will have the specified name and extension. In the second case
the filename will be retrieved by the 'Content-Disposition' HTTP header.
If a path cannot be determined, a ValueError is raised.</p>
<p><code>overwrite</code> if True will save the downloaded file to <code>path</code> no matter if the file
            already exists.</p>
<p><code>method</code> is the HTTP method used for the request.</p>
<p><code>extra_headers</code> is a dictionary of headers to use for the request.</p>
<p><code>params</code> is a dictionary of parameters for the request.</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_add_headers" href="#method_rvbd_common_connection_Connection_add_headers" class="linkable"><strong>add_headers</strong>(<em>headers</em>)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Add the dictionary HEADERS to the list of customer headers for all requests</p>
</div>

<p><a name="method_rvbd_common_connection_Connection_del_headers" href="#method_rvbd_common_connection_Connection_del_headers" class="linkable"><strong>del_headers</strong>(<em>headers</em>)<span class="link-icon"></span></a></p>
<div class="docstring">

<p>Drop any custom headers in the list of header names in HEADERS</p>
</div>

</div>

<div class="footer">
Copyright &copy; 2013 Riverbed Technology
</div></body>
</html>
