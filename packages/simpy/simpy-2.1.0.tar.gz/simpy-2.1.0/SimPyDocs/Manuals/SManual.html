<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Basic Manual SimPy Python Simulation Language" name="description" />
<meta content="simulation python stochastic" name="keywords" />

    <title>Basic SimPy - Manual For First Time Users &mdash; SimPy v2.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="SimPy v2.1.0 documentation" href="../index.html" />
    <link rel="up" title="Using SimPy" href="../Using_SimPy.html" />
    <link rel="next" title="Simulation with SimPy - In Depth Manual" href="Manual.html" />
    <link rel="prev" title="Using SimPy" href="../Using_SimPy.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Manual.html" title="Simulation with SimPy - In Depth Manual"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../Using_SimPy.html" title="Using SimPy"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">SimPy v2.1.0 documentation</a> &raquo;</li>
          <li><a href="../Using_SimPy.html" accesskey="U">Using SimPy</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="basic-simpy-manual-for-first-time-users">
<h1><a class="toc-backref" href="#id3">Basic SimPy - Manual For First Time Users</a><a class="headerlink" href="#basic-simpy-manual-for-first-time-users" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Authors:</th><td class="field-body">G A Vignaux and Klaus Muller</td>
</tr>
<tr class="field"><th class="field-name">Date:</th><td class="field-body">August 2008</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#basic-simpy-manual-for-first-time-users" id="id3">Basic SimPy - Manual For First Time Users</a><ul>
<li><a class="reference internal" href="#introduction" id="id4">Introduction</a></li>
<li><a class="reference internal" href="#simulation-with-simpy" id="id5">Simulation with SimPy</a></li>
<li><a class="reference internal" href="#processes" id="id6">Processes</a></li>
<li><a class="reference internal" href="#resources" id="id7">Resources</a></li>
<li><a class="reference internal" href="#random-number-generation" id="id8">Random Number Generation</a></li>
<li><a class="reference internal" href="#monitors-and-recording-simulation-results" id="id9">Monitors and Recording Simulation Results</a></li>
<li><a class="reference internal" href="#appendices" id="id10">Appendices</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id4">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>SimPy is a free, open-source discrete-event simulation system written
in Python. It provides a number of tools for programmers writing
simulation programs. This document is a description of basic
techniques of SimPy. It describes a subset of SimPy&#8217;s capabilities -
sufficient, we think, to develop standard simulations. You may also
find <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/TheBank.html">The Bank</a> tutorial included in SimPy&#8217;s distribution helpful in
the early stages.  The full <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a>, included in the distribution, is
more detailed.</p>
<p>The active elements (or <em>entities</em>) of a SimPy model are objects of a
class defined by the programmer (see <a class="reference internal" href="#processes">Processes</a>, section 3). Each
entity has a standard method, a Process Execution Method (referred to
by SimPy programmers as a PEM) which specifies its actions in detail.
Each PEM runs in parallel with (and may interact with) the PEMs of
other entities.</p>
<p>The activity of an entity may be delayed for fixed or random times,
queued at resource facilities, and may be interrupted by or interact
in different ways with other entities and components. For example in a
gas station model, automobile entities (objects of an Automobile
Class) may have to wait at the gas station for a pump to become
available. On obtaining a pump it takes time to fill the tank. The
pump is then released for the next automobile in the queue if there is
one.</p>
<p>SimPy has three kinds of resource facilities (Resources, Levels, and
Stores). Each type models a congestion point where entities queue
while waiting to acquire or, in some cases, to deposit a
resource.SimPy automatically handles the queueing.</p>
<ul class="simple">
<li><a class="reference internal" href="#resources">Resources</a> have one or more identical resource units, each of which
can be held by entities. Extending the example above, the gas
station might be modelled as a Resource with its pumps as resource
units. When a car requests a pump the gas station resource
automatically queues it until a pump becomes available (perhaps
immediately). The car holds the pump until it finishes refuelling
and then releases it for use by the next car.</li>
<li><tt class="docutils literal"><span class="pre">Levels</span></tt> (not treated here) model the supply and consumption of a
homogeneous undifferentiated &#8220;material&#8221;. The Level holds an amount
that is fully described by a non-negative number which can be
increased or decreased by entities. For example, a gas station
stores gas in large storage tanks. The tanks can be filled by
tankers and emptied by cars refuelling. In contrast to the operation
of a Resource, a car need not return the gas to the gas station.</li>
<li><tt class="docutils literal"><span class="pre">Stores</span></tt> (not treated here) model the production and consumption of
distinguishable items. A Store holds a list of items. Entities can
insert or remove items from the list and these can be of any
type. They can even be SimPy process objects. For example, the gas
station holds spares of different types. A car might request a set
of spares from the Store. The store is replenished by deliveries
from a warehouse.</li>
</ul>
<p>SimPy also supplies Monitors to record simulation events. <a class="reference internal" href="#monitors-and-recording-simulation-results">Monitors</a>
are used to compile summary statistics such as waiting times and queue
lengths. These statistics includes simple averages and variances,
time-weighted averages, or histograms. In particular, data can be
gathered on the queues associated with Resources, Levels and
Stores. For example we may collect data on the average number of cars
waiting at the gas station and the distribution of their waiting
times. Monitors preserve complete time-series records that may later
be used for more advanced post-simulation analyses.</p>
<p>You need to write Python code to develop a SimPy model. In
particular, you will have to define and use classes and their
objects. Python is free and open-source and is available on most
platforms.  You can find out more about it and download it from the
<a class="reference external" href="http://www.Python.org">Python web-site</a> where there is full documentation and
tutorials. SimPy requires Python version 2.3 or later.</p>
</div>
<div class="section" id="simulation-with-simpy">
<h2><a class="toc-backref" href="#id5">Simulation with SimPy</a><a class="headerlink" href="#simulation-with-simpy" title="Permalink to this headline">¶</a></h2>
<p>To use the SimPy simulation system in your Python program you must import its
<tt class="docutils literal"><span class="pre">Simulation</span></tt> module using:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">SimPy.Simulation</span> <span class="pre">import</span> <span class="pre">*</span></tt></blockquote>
<p>We recommend that new users instead  import <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Tracing.html">SimPy.SimulationTrace</a>,
which works the same but also automatically produces a timed listing of
events as the model executes. (An example of such a trace is shown in
<a class="reference internal" href="#the-resource-example-with-tracing">The Resource Example with Tracing</a>):</p>
<blockquote>
<tt class="docutils literal"><span class="pre">from</span> <span class="pre">SimPy.SimulationTrace</span> <span class="pre">import</span> <span class="pre">*</span></tt></blockquote>
<p>Discrete-event simulation programs automatically maintain the current
simulation time in a software clock. This cannot be directly changed
by the user.  In SimPy the current clock value is returned by the
<tt class="docutils literal"><span class="pre">now()</span></tt> function and you can access this or print it out. At the
start of the simulation it is set to 0.0.  While the simulation
program runs, simulation time steps forward from one <em>event</em> to the
next. An event occurs whenever the state of the simulated system
changes such as when a car arrives or departs from the gas station.</p>
<p>The <tt class="docutils literal"><span class="pre">initialize</span></tt> statement initialises global simulation variables and
sets the software clock to 0.0. It must appear in your program before
any SimPy process objects are activated.</p>
<blockquote>
<tt class="docutils literal"><span class="pre">initialize()</span></tt></blockquote>
<p>This is followed by SimPy statements creating and activating entities
(that is, SimPy process objects). Activation of entities adds events
to the simulation event schedule. Execution of the simulation itself
starts with the following statement:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">simulate(until=</span></tt><em>endtime</em><tt class="docutils literal"><span class="pre">)</span></tt></blockquote>
<p>The simulation then starts, and SimPy seeks and executes the first event in
the schedule.  Having executed that event, the simulation seeks and
executes the next event, and so on.</p>
<p>Typically a simulation terminates when there are no more events to
execute or when the <em>endtime</em> is reached but it can be stopped at any
time by the command:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">stopSimulation(</span> <span class="pre">)</span></tt></blockquote>
<p>After the simulation stops, further statements can be executed.
<tt class="docutils literal"><span class="pre">now()</span></tt> will retain the time of stopping and data held in Monitors
will be available for display or further analysis.</p>
<p>The following fragment shows only the <em>main</em> block in a simulation
program to illustrate the general structure. A complete <a class="reference internal" href="#example-program">Example
Program</a> is shown later. Here <tt class="docutils literal"><span class="pre">Car</span></tt> is a Process class with a
<tt class="docutils literal"><span class="pre">go</span></tt> as its PEM (described later) and <tt class="docutils literal"><span class="pre">c</span></tt> is made an entity of
that class, that is, a particular car. Activating <tt class="docutils literal"><span class="pre">c</span></tt> has the effect
of scheduling at least one event by starting <tt class="docutils literal"><span class="pre">c</span></tt>&#8216;s PEM.  The
<tt class="docutils literal"><span class="pre">simulate(until=1000.0)</span></tt> statement starts the simulation
itself. This immediately jumps to the first scheduled event. It will
continue executing events until it runs out of events to execute or
the simulation time reaches <tt class="docutils literal"><span class="pre">1000.0</span></tt>. When the simulation stops the
<tt class="docutils literal"><span class="pre">Report</span></tt> function is called to display the results:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">Process</span><span class="p">):</span>
   <span class="k">def</span> <span class="nf">go</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="c"># PEM for a Car</span>
      <span class="o">...</span>

<span class="k">def</span> <span class="nf">Report</span><span class="p">():</span>
   <span class="c"># print results when finished</span>
   <span class="o">...</span>

<span class="n">initialize</span><span class="p">()</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Car23&quot;</span><span class="p">)</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c</span><span class="p">,</span>  <span class="n">c</span><span class="o">.</span><span class="n">go</span><span class="p">(),</span> <span class="n">at</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
<span class="n">simulate</span><span class="p">(</span><span class="n">until</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">)</span>

<span class="n">Report</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>In addition to <em>SimPy.Simulation</em> there are three alternative
simulation libraries with the same simulation capabilities but with
special facilities. Beside <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Tracing.html">SimPy.SimulationTrace</a>, already
mentioned, there are <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/SimRTManual.html">SimPy.SimulationRT</a> for real time
synchronisation and <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/SimStepManual/SimStepManual.html">SimPy.SimulationStep</a> for event-stepping through
a simulation. See the <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a> for more information.</p>
</div>
<div class="section" id="processes">
<h2><a class="toc-backref" href="#id6">Processes</a><a class="headerlink" href="#processes" title="Permalink to this headline">¶</a></h2>
<p>SimPy&#8217;s active objects (entities) are process objects &#8211; instances of
a class written by the user that inherits from SimPy&#8217;s Process class.</p>
<p>For example, if we are simulating a gas station we might model each
car as an object of the class <tt class="docutils literal"><span class="pre">Car</span></tt>. A car arrives at the gas
station (modelled as a Resource with <tt class="docutils literal"><span class="pre">pump</span></tt>s). It requests a pump
and may need to wait for it. Then it fills its tank and when it has
finished it releases the pump. It might also buy an item from the
station store. The <tt class="docutils literal"><span class="pre">Car</span></tt> class specifies the logic of these actions
in its Process Execution Method (PEM). The simulation creates a number
of cars as it runs and their evolutions are directed by their <tt class="docutils literal"><span class="pre">Car</span></tt>
class&#8217;s PEM.</p>
<div class="section" id="defining-a-process">
<h3>Defining a process<a class="headerlink" href="#defining-a-process" title="Permalink to this headline">¶</a></h3>
<p>Each Process class inherits from SimPy&#8217;s <tt class="docutils literal"><span class="pre">Process</span></tt> class. For example
the header of the definition of a <tt class="docutils literal"><span class="pre">Car</span></tt> Process class would
be:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">class</span> <span class="pre">Car(Process):</span></tt></blockquote>
<p>At least one Process Execution Method (PEM) must be defined in each
Process class (though an entity can have only one PEM active).  A PEM
may have arguments in addition to the required <tt class="docutils literal"><span class="pre">self</span></tt> argument
needed by all Python class methods. Naturally, other methods and, in
particular, an <tt class="docutils literal"><span class="pre">__init__</span></tt>, may be defined.</p>
<ul id="pem">
<li><p class="first"><tt class="docutils literal"><span class="pre">A</span> <span class="pre">Process</span> <span class="pre">Execution</span> <span class="pre">Method</span> <span class="pre">(PEM)</span></tt> defines the actions that are
performed by its process objects. <em>Each PEM must contain at least
one of the special ``yield`` statements, described later</em>. This
makes the PEM  a Python generator function so that it has resumable
execution &#8211; it can be restarted again after the yield statement
without losing its current state.  A PEM may have any name of your
choice. For example it may be called <tt class="docutils literal"><span class="pre">execute(</span> <span class="pre">)</span></tt> or <tt class="docutils literal"><span class="pre">run(</span>
<span class="pre">)</span></tt>. However, if a PEM is called <tt class="docutils literal"><span class="pre">ACTIONS</span></tt>, SimPy recognises this
as a PEM. This can simplify the <tt class="docutils literal"><span class="pre">start</span></tt> method as explained below.</p>
<p>The <tt class="docutils literal"><span class="pre">yield</span></tt> statements are simulation commands which affect an
ongoing life cycle of Process objects. These statements control the
execution and synchronisation of multiple processes. They can delay
a process, put it to sleep, request a shared resource or provide a
resource. They can add new events to the simulation event schedule,
cancel existing ones, or cause processes to wait for a change in the
simulated system&#8217;s state.</p>
<p>For example, here is a  Process Execution Method, <tt class="docutils literal"><span class="pre">go(self)</span></tt>,
for the simple <tt class="docutils literal"><span class="pre">Car</span></tt> class that does no more than delay for a
time.  As soon as it is activated it prints out the current time,
the car object&#8217;s name and the word <tt class="docutils literal"><span class="pre">Starting</span></tt>. After a
simulated delay of 100.0 time units (in the <tt class="docutils literal"><span class="pre">yield</span> <span class="pre">hold,</span> <span class="pre">...</span></tt>
statement) it announces that this car has &#8220;Arrived&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">go</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">now</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;Starting&#39;</span>
    <span class="k">yield</span> <span class="n">hold</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="mf">100.0</span>
    <span class="k">print</span> <span class="n">now</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&#39;Arrived&#39;</span>
</pre></div>
</div>
<p>A process object&#8217;s PEM starts execution when the object is
activated, provided the <tt class="docutils literal"><span class="pre">simulate(until=</span></tt><em>endtime</em><tt class="docutils literal"><span class="pre">)</span></tt>
statement has been executed.</p>
</li>
<li><p class="first"><strong>__init__(self, ...)</strong>, where <em>...</em> indicates other arguments. This
method is optional but is useful to initialise the process object,
setting values for its attributes.  As for any sub-class in Python,
the first line of this method must call the <tt class="docutils literal"><span class="pre">Process</span></tt> class&#8217;s
<tt class="docutils literal"><span class="pre">__init__(</span> <span class="pre">)</span></tt> method in the form:</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">Process.__init__(self)</span></tt></p>
</blockquote>
<p>You can then use additional commands to initialise attributes of the
Process class&#8217;s objects. You can also override the standard <tt class="docutils literal"><span class="pre">name</span></tt>
attribute of the object.</p>
<p>If present, the <tt class="docutils literal"><span class="pre">__init__(</span> <span class="pre">)</span></tt> method is always called whenever
you create a new process object. If you do not wish to provide for
any attributes other than a <tt class="docutils literal"><span class="pre">name</span></tt>, the <tt class="docutils literal"><span class="pre">__init__</span></tt> method may be
dispensed with. An example of an <tt class="docutils literal"><span class="pre">__init__(</span> <span class="pre">)</span></tt> method is shown in
the <a class="reference internal" href="#example-program">Example Program</a>.</p>
</li>
</ul>
</div>
<div class="section" id="creating-a-process-object">
<h3>Creating a process object<a class="headerlink" href="#creating-a-process-object" title="Permalink to this headline">¶</a></h3>
<p>An entity (process object) is created in the usual Python manner by
calling the Class. Process classes have a single attribute, <tt class="docutils literal"><span class="pre">name</span></tt>
which can be specified even if no <tt class="docutils literal"><span class="pre">__init__</span></tt> method is defined. <tt class="docutils literal"><span class="pre">name</span></tt>
defaults to <tt class="docutils literal"><span class="pre">'a_process'</span></tt> unless the user specified a different one.</p>
<p>For example to create a new <tt class="docutils literal"><span class="pre">Car</span></tt> object with a name <tt class="docutils literal"><span class="pre">Car23</span></tt>:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">Car(name=&quot;Car23&quot;)</span></tt></blockquote>
</div>
<div class="section" id="starting-simpy-process-objects">
<h3>Starting SimPy Process Objects<a class="headerlink" href="#starting-simpy-process-objects" title="Permalink to this headline">¶</a></h3>
<p>An entity (process object) is &#8220;passive&#8221; when first created, i.e., it
has no events scheduled for it. It must be <em>activated</em> to start its
Process Execution Method. To do this you can use either the
<tt class="docutils literal"><span class="pre">activate</span></tt> function or the <tt class="docutils literal"><span class="pre">start</span></tt> method of the Process.</p>
<div class="section" id="activate">
<h4>activate<a class="headerlink" href="#activate" title="Permalink to this headline">¶</a></h4>
<p>Activating an entity by using the SimPy <tt class="docutils literal"><span class="pre">activate</span></tt> function:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">activate(</span></tt><em>p, p.pemname([args])</em><tt class="docutils literal"><span class="pre">[,{at=</span></tt><em>t</em><tt class="docutils literal"><span class="pre">|delay=</span></tt><em>period</em><tt class="docutils literal"><span class="pre">}])</span></tt></p>
<p>activates process object <em>p</em>, provides its Process Execution
Method <em>p.pemname( )</em> with the arguments <em>args</em> and possibly assigns
values to the other optional parameters. You must choose one (or
neither) of <tt class="docutils literal"><span class="pre">at=</span></tt><em>t</em> and <tt class="docutils literal"><span class="pre">delay=</span></tt><em>period</em>. The default is
to activate at the current time (<tt class="docutils literal"><span class="pre">at=now(</span> <span class="pre">)</span></tt>) and with no delay
(<tt class="docutils literal"><span class="pre">delay=0</span></tt>).</p>
<p>For example: to activate an entity, <tt class="docutils literal"><span class="pre">cust</span></tt> at time 10.0
using its PEM called <tt class="docutils literal"><span class="pre">lifetime</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cust</span> <span class="o">=</span> <span class="n">Customer</span><span class="p">()</span>
<span class="n">activate</span><span class="p">(</span><span class="n">cust</span><span class="p">,</span> <span class="n">cust</span><span class="o">.</span><span class="n">lifetime</span><span class="p">(),</span> <span class="n">at</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="start">
<h4>start<a class="headerlink" href="#start" title="Permalink to this headline">¶</a></h4>
<p>An alternative to the <tt class="docutils literal"><span class="pre">activate()</span></tt> function is the <tt class="docutils literal"><span class="pre">start</span></tt> method
of Process objects:</p>
<ul>
<li><p class="first"><em>p.</em><tt class="docutils literal"><span class="pre">start(</span></tt><em>p.pemname([args])</em><tt class="docutils literal"><span class="pre">[,{at=</span></tt><em>t</em><tt class="docutils literal"><span class="pre">|delay=</span></tt><em>period</em><tt class="docutils literal"><span class="pre">}])</span></tt></p>
<p>Here <em>p</em> is a Process object.  Its PEM, <em>pemname</em>, can have any
identifier (such as <tt class="docutils literal"><span class="pre">run</span></tt>, <tt class="docutils literal"><span class="pre">lifecycle</span></tt>, etc) and any
arguments <em>args</em>.</p>
<p>For example, to activate the process object <tt class="docutils literal"><span class="pre">cust</span></tt> using the PEM
with identifier <tt class="docutils literal"><span class="pre">lifetime</span></tt> at time 10.0 we would use:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cust</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">cust</span><span class="o">.</span><span class="n">lifetime</span><span class="p">(),</span><span class="n">at</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="the-standard-pem-name-actions">
<h4>The standard PEM name, ACTIONS<a class="headerlink" href="#the-standard-pem-name-actions" title="Permalink to this headline">¶</a></h4>
<p>The identifier <tt class="docutils literal"><span class="pre">ACTIONS</span></tt> is recognised by SimPy as a PEM name and
can be used (or implied) in the <tt class="docutils literal"><span class="pre">start</span></tt> method.</p>
<ul>
<li><p class="first"><em>p.</em><tt class="docutils literal"><span class="pre">start([</span></tt><em>p.</em><tt class="docutils literal"><span class="pre">ACTIONS()]</span></tt> <tt class="docutils literal"><span class="pre">[,{at=</span></tt><em>t</em><tt class="docutils literal"><span class="pre">|delay=</span></tt><em>period</em><tt class="docutils literal"><span class="pre">}])</span></tt></p>
<p><tt class="docutils literal"><span class="pre">ACTIONS</span></tt> <em>cannot</em> have parameters. The call <em>p.</em><tt class="docutils literal"><span class="pre">ACTIONS()</span></tt>
is optional but may make your code clearer.</p>
<p>For example, to activate the Process object <tt class="docutils literal"><span class="pre">cust</span></tt> with a PEM
called <tt class="docutils literal"><span class="pre">ACTIONS</span></tt> at time 10.0, the following are equivalent
(and the second version more convenient):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cust</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">cust</span><span class="o">.</span><span class="n">ACTIONS</span><span class="p">(),</span> <span class="n">at</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="n">cust</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">at</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p><em>A reminder</em>: Even activated process objects will not actually start
operating until the <tt class="docutils literal"><span class="pre">simulate()</span></tt> statement is executed.</p>
</div>
</div>
<div class="section" id="elapsing-time-in-a-process">
<h3>Elapsing time in a Process<a class="headerlink" href="#elapsing-time-in-a-process" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="#pem">PEM</a> uses the <tt class="docutils literal"><span class="pre">yield</span> <span class="pre">hold</span></tt> command to temporarily delay a process
object&#8217;s operations. This might represent a service time for the
entity. (Waiting is handled automatically by the resource facilities
and is not modelled by <tt class="docutils literal"><span class="pre">yield</span> <span class="pre">hold</span></tt>)</p>
<div class="section" id="yield-hold">
<h4>yield hold<a class="headerlink" href="#yield-hold" title="Permalink to this headline">¶</a></h4>
<blockquote>
<p><tt class="docutils literal"><span class="pre">yield</span> <span class="pre">hold,self,</span></tt><em>t</em></p>
<p>Causes the entity to delay <em>t</em> time units.  After the delay, it
continues  with the next statement in its PEM.  During the <tt class="docutils literal"><span class="pre">hold</span></tt> the
entity&#8217;s operations are suspended.</p>
</blockquote>
<p>Paradoxically, in the model world, the entity is considered to be
<em>busy</em> during this simulated time. For example, it might be involved
in filling up with gas or driving.  In this state it can be
interrupted by other entities.</p>
</div>
</div>
<div class="section" id="more-about-processes">
<h3>More about Processes<a class="headerlink" href="#more-about-processes" title="Permalink to this headline">¶</a></h3>
<p>An entity (Process object) can be &#8220;put to sleep&#8221; or passivated using
<tt class="docutils literal"><span class="pre">yield</span> <span class="pre">passivate,self</span></tt> (and it can be reactivated by another entity
using <tt class="docutils literal"><span class="pre">reactivate</span></tt>), or permanently removed from the future event
queue by the command <tt class="docutils literal"><span class="pre">self.cancel()</span></tt>. Active entities can be
<tt class="docutils literal"><span class="pre">interrupt</span></tt>ed by other entities. Examine the full <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a> for
details.</p>
</div>
<hr class="docutils" />
<div class="section" id="a-simpy-program">
<h3>A SimPy Program<a class="headerlink" href="#a-simpy-program" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When working through this and all other SimPy manuals,
the reader is encouraged to type in, run and experiment with
all examples as she goes. No better way of learning exists
than <strong>doing</strong>! A suggestion: if you want to see how a SimPy
model is being executed, <em>trace</em> it by replacing <cite>from SimPy.Simulation
import *</cite> with <cite>fromSimPy.SimulationTrace import *</cite>.
Any Python environment is suitable &#8211; an interactive Python session,
IDLE, IPython, Scite . . .</p>
</div>
<p id="example-program">This is a complete SimPy script. We define a <tt class="docutils literal"><span class="pre">Car</span></tt> class with a PEM
called <tt class="docutils literal"><span class="pre">go(</span> <span class="pre">)</span></tt>. We also (for interest) define an <tt class="docutils literal"><span class="pre">__init__(</span> <span class="pre">)</span></tt>
method to provide individual cars with an identification name and
engine size, <tt class="docutils literal"><span class="pre">cc</span></tt>. The <tt class="docutils literal"><span class="pre">cc</span></tt> attribute is not used in this very
simple example.</p>
<p>Two cars, <tt class="docutils literal"><span class="pre">p1</span></tt> and <tt class="docutils literal"><span class="pre">p2</span></tt> are created. <tt class="docutils literal"><span class="pre">p1</span></tt> and <tt class="docutils literal"><span class="pre">p2</span></tt> are
activated to start at simulation times 0.6 and 0.0, respectively. Note
that these will <em>not</em> start in the order they appear in the program
listing. <tt class="docutils literal"><span class="pre">p2</span></tt> actually starts first in the simulation. Nothing
happens until the <tt class="docutils literal"><span class="pre">simulate(until=200)</span></tt> statement at which point the
event scheduler starts operating by finding the first event to
execute. When both cars have finished (at time <tt class="docutils literal"><span class="pre">6.0+100.0=106.0</span></tt>)
there will be no more events so the simulation will stop:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">SimPy.Simulation</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">Process</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">cc</span><span class="p">):</span>
     <span class="n">Process</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">cc</span> <span class="o">=</span> <span class="n">cc</span>

  <span class="k">def</span> <span class="nf">go</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="k">print</span> <span class="n">now</span><span class="p">(</span> <span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;Starting&quot;</span>
     <span class="k">yield</span> <span class="n">hold</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="mf">100.0</span>
     <span class="k">print</span> <span class="n">now</span><span class="p">(</span> <span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;Arrived&quot;</span>

<span class="n">initialize</span><span class="p">(</span> <span class="p">)</span>
<span class="n">c1</span>  <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="s">&quot;Car1&quot;</span><span class="p">,</span><span class="mf">2000</span><span class="p">)</span>       <span class="c"># a new car</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span><span class="n">c1</span><span class="o">.</span><span class="n">go</span><span class="p">(</span> <span class="p">),</span><span class="n">at</span><span class="o">=</span><span class="mf">6.0</span><span class="p">)</span> <span class="c"># activate at time 6.0</span>
<span class="n">c2</span>  <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="s">&quot;Car2&quot;</span><span class="p">,</span><span class="mf">1600</span><span class="p">)</span>       <span class="c"># another new car</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span><span class="n">c2</span><span class="o">.</span><span class="n">go</span><span class="p">(</span> <span class="p">))</span>        <span class="c"># activate at time 0</span>
<span class="n">simulate</span><span class="p">(</span><span class="n">until</span><span class="o">=</span><span class="mf">200</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Current time is &#39;</span><span class="p">,</span><span class="n">now</span><span class="p">(</span> <span class="p">)</span> <span class="c"># will print 106.0</span>
</pre></div>
</td></tr></table></div>
<p>Running this program gives the following output:</p>
<div class="highlight-python"><pre>0 Car2 Starting
6.0 Car1 Starting
100.0 Car2 Arrived
106.0 Car1 Arrived
Current time is  106.0</pre>
</div>
<p>If, instead one chose to import <tt class="docutils literal"><span class="pre">SimPy.SimulateTrace</span></tt> at the start
of the program one would obtain the following output. (The meaning of
the phrase <tt class="docutils literal"><span class="pre">prior</span> <span class="pre">:</span> <span class="pre">False</span></tt> in the first two lines is described in
the full <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a>. <tt class="docutils literal"><span class="pre">prior</span></tt> is an advanced technique for fine control
of PEM priorities but seldom affects simulated operations and so
normally can be ignored/)</p>
<div class="highlight-python"><pre>0 activate &lt;Car1&gt; at time: 6.0 prior: False
0 activate &lt;Car2&gt; at time: 0 prior: False
0 Car2 Starting
0 hold &lt;Car2&gt; delay: 100.0
6.0 Car1 Starting
6.0 hold &lt;Car1&gt; delay: 100.0
100.0 Car2 Arrived
100.0 &lt;Car2&gt; terminated
106.0 Car1 Arrived
106.0 &lt;Car1&gt; terminated
Current time is  106.0
</pre>
</div>
<hr class="docutils" />
</div>
</div>
<div class="section" id="resources">
<h2><a class="toc-backref" href="#id7">Resources</a><a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<p>The three resource facilities provided by SimPy are <a class="reference internal" href="#resources">Resources</a>,
<tt class="docutils literal"><span class="pre">Levels</span></tt> and <tt class="docutils literal"><span class="pre">Stores</span></tt>. Each models a congestion point where process
objects may have to queue up to access resources. This section
describes the Resource type of resource facility. <tt class="docutils literal"><span class="pre">Levels</span></tt> and
<tt class="docutils literal"><span class="pre">Stores</span></tt> are not treated in this introduction.</p>
<p>An example of queueing for a Resource might be a manufacturing plant
in which a <tt class="docutils literal"><span class="pre">Task</span></tt> (modelled as an entity or <em>Process object</em>) needs
work done by a <tt class="docutils literal"><span class="pre">Machine</span></tt> (modelled as a <em>Resource object</em>). If all
of the <tt class="docutils literal"><span class="pre">Machines</span></tt> are currently being used, the <tt class="docutils literal"><span class="pre">Task</span></tt> must wait
until one becomes free. A SimPy Resource can have a number of
identical <tt class="docutils literal"><span class="pre">units</span></tt>, such as a number of identical <tt class="docutils literal"><span class="pre">machine</span></tt>
units. An entity obtains a unit of the Resource by <tt class="docutils literal"><span class="pre">requesting</span></tt> it
and, when it is finished, <tt class="docutils literal"><span class="pre">releasing</span></tt> it. A Resource maintains a
list (the <tt class="docutils literal"><span class="pre">waitQ</span></tt>) of entities that have requested but not yet
received one of the Resource&#8217;s units, and another list (the
<tt class="docutils literal"><span class="pre">activeQ</span></tt>) of entities that are currently using a unit.  SimPy
creates and updates these queues itself &#8211; the user can read their
values, but should not change them.</p>
<div class="section" id="defining-a-resource-object">
<h3>Defining a Resource object<a class="headerlink" href="#defining-a-resource-object" title="Permalink to this headline">¶</a></h3>
<p>A Resource object, <tt class="docutils literal"><span class="pre">r</span></tt>,  is established by the following statement:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mf">1</span><span class="p">,</span>
             <span class="n">name</span><span class="o">=</span><span class="s">&#39;a_resource&#39;</span><span class="p">,</span> <span class="n">unitName</span><span class="o">=</span><span class="s">&#39;units&#39;</span><span class="p">,</span>
             <span class="n">monitored</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">capacity</span></tt> (positive integer) specifies the total
number of identical units in Resource object <tt class="docutils literal"><span class="pre">r</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">name</span></tt> (string) the name for this Resource object (e.g.,
<tt class="docutils literal"><span class="pre">'gasStation'</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">unitName</span></tt> (string) the name for a unit of the resource (e.g.,
<tt class="docutils literal"><span class="pre">'pump'</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">monitored</span></tt> (<tt class="xref docutils literal"><span class="pre">False</span></tt> or <tt class="xref docutils literal"><span class="pre">True</span></tt>) If set to <tt class="xref docutils literal"><span class="pre">True</span></tt>, then
information is gathered on the sizes of <tt class="docutils literal"><span class="pre">r</span></tt>&#8216;s <tt class="docutils literal"><span class="pre">waitQ</span></tt> and
<tt class="docutils literal"><span class="pre">activeQ</span></tt>, otherwise not.</li>
</ul>
<p>For example, in the model of a 2-pump gas-station we might define:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">gasstation</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;gasStation&#39;</span><span class="p">,</span><span class="n">unitName</span><span class="o">=</span><span class="s">&#39;pump&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Each Resource object, <tt class="docutils literal"><span class="pre">r</span></tt>,  has the following additional attributes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">r.n</span></tt>,  the number of units that are currently free.</li>
<li><tt class="docutils literal"><span class="pre">r.waitQ</span></tt>, a queue (list) of processes that have requested but
not yet received a unit of <tt class="docutils literal"><span class="pre">r</span></tt>, so <tt class="docutils literal"><span class="pre">len(r.waitQ)</span></tt> is the
number of process objects currently waiting.</li>
<li><tt class="docutils literal"><span class="pre">r.activeQ</span></tt>, a queue (list) of process objects currently using
one of the Resource&#8217;s units, so <tt class="docutils literal"><span class="pre">len(r.activeQ)</span></tt> is the number of
units that are currently in use.</li>
<li><tt class="docutils literal"><span class="pre">r.waitMon</span></tt>, the record (made by a <tt class="docutils literal"><span class="pre">Monitor</span></tt> whenever
<tt class="docutils literal"><span class="pre">monitored==True</span></tt>) of the activity in <tt class="docutils literal"><span class="pre">r.waitQ</span></tt>. So, for
example, <tt class="docutils literal"><span class="pre">r.waitMon.timeaverage()</span></tt> is the average number of
processes in <tt class="docutils literal"><span class="pre">r.waitQ</span></tt>.  See <a class="reference internal" href="#data-summaries">Data Summaries</a>
for an example.</li>
<li><tt class="docutils literal"><span class="pre">r.actMon</span></tt>, the record (made by a <tt class="docutils literal"><span class="pre">Monitor</span></tt> whenever
<tt class="docutils literal"><span class="pre">monitored==True</span></tt>) of the activity in <tt class="docutils literal"><span class="pre">r.activeQ</span></tt>.</li>
</ul>
</div>
<div class="section" id="requesting-and-releasing-a-unit-of-a-resource">
<h3>Requesting and releasing a unit of a Resource<a class="headerlink" href="#requesting-and-releasing-a-unit-of-a-resource" title="Permalink to this headline">¶</a></h3>
<p>A process can request and later release a unit of the Resource object,
<tt class="docutils literal"><span class="pre">r</span></tt>, by using the following yield commands in a Process Execution
Method:</p>
<div class="section" id="yield-request">
<h4>yield request<a class="headerlink" href="#yield-request" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">yield</span> <span class="pre">request,self,</span></tt><em>r</em></p>
<p>requests a unit of Resource <em>r</em></p>
</li>
</ul>
<p>If a Resource unit is free when the request is made, the requesting
entity takes it and moves on to the next statement in its PEM. It is
added to the Resource&#8217;s <tt class="docutils literal"><span class="pre">activeQ</span></tt>.</p>
<p>If no Resource unit is available when the request is made, the
requesting entity is appended to the Resource&#8217;s <tt class="docutils literal"><span class="pre">waitQ</span></tt> and
suspended.  The next time a unit becomes available the first entity in
the <tt class="docutils literal"><span class="pre">r.waitQ</span></tt> takes it and continues its execution.</p>
<p>For example, a <tt class="docutils literal"><span class="pre">Car</span></tt> might request a <tt class="docutils literal"><span class="pre">pump</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">yield</span> <span class="n">request</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="n">gasstation</span>
</pre></div>
</div>
<p>(It is actually requesting a <em>unit</em> of the <tt class="docutils literal"><span class="pre">gasstation</span></tt>, i.e. a
<tt class="docutils literal"><span class="pre">pump</span></tt>.) An entity holds a resource unit until it releases it.</p>
<p>Entities can use a priority system for queueing. They can also preempt
(that is, interrupt) others already in the system. They can also
<em>renege</em> from the <tt class="docutils literal"><span class="pre">waitQ</span></tt> (that is, abandon the queue if it takes
too long). This is achieved by an extension to the <tt class="docutils literal"><span class="pre">yield</span> <span class="pre">request</span></tt>
command. See the main <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a>.</p>
</div>
<div class="section" id="yield-release">
<h4>yield release<a class="headerlink" href="#yield-release" title="Permalink to this headline">¶</a></h4>
<blockquote>
<p><tt class="docutils literal"><span class="pre">yield</span> <span class="pre">release,self,r</span></tt></p>
<p>releases the  unit of <tt class="docutils literal"><span class="pre">r</span></tt>.</p>
</blockquote>
<p>The entity is removed from <tt class="docutils literal"><span class="pre">r.activeQ</span></tt> and continues with its next
statement. If, when the unit of <tt class="docutils literal"><span class="pre">r</span></tt> is released, another entity is
waiting (in <tt class="docutils literal"><span class="pre">waitQ</span></tt>) it will take the unit, leave the <tt class="docutils literal"><span class="pre">waitQ</span></tt> and
move into the <tt class="docutils literal"><span class="pre">activeQ</span></tt> and go one with its PEM.</p>
<p>For example the <tt class="docutils literal"><span class="pre">Car</span></tt> might release the <tt class="docutils literal"><span class="pre">pump</span></tt> unit of the
gasstation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">yield</span> <span class="n">release</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="n">gasstation</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="resource-example">
<h3>Resource Example<a class="headerlink" href="#resource-example" title="Permalink to this headline">¶</a></h3>
<p>In this complete script, the <tt class="docutils literal"><span class="pre">gasstation</span></tt> Resource object is given
two resource units (<tt class="docutils literal"><span class="pre">capacity=2</span></tt>). Four cars arrive at the times
specified in the program (not in the order they are listed). They all
request a <tt class="docutils literal"><span class="pre">pump</span></tt> and use it for 100 time units:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">SimPy.Simulation</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">Process</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">cc</span><span class="p">):</span>
     <span class="n">Process</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">cc</span> <span class="o">=</span> <span class="n">cc</span>

  <span class="k">def</span> <span class="nf">go</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="k">print</span> <span class="n">now</span><span class="p">(</span> <span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;Starting&quot;</span>
     <span class="k">yield</span> <span class="n">request</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="n">gasstation</span>
     <span class="k">print</span> <span class="n">now</span><span class="p">(</span> <span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;Got a pump&quot;</span>
     <span class="k">yield</span> <span class="n">hold</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="mf">100.0</span>
     <span class="k">yield</span> <span class="n">release</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="n">gasstation</span>
     <span class="k">print</span> <span class="n">now</span><span class="p">(</span> <span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;Leaving&quot;</span>


<span class="n">gasstation</span> <span class="o">=</span> <span class="n">Resource</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mf">2</span><span class="p">,</span>
                      <span class="n">name</span><span class="o">=</span><span class="s">&#39;gasStation&#39;</span><span class="p">,</span><span class="n">unitName</span><span class="o">=</span><span class="s">&#39;pump&#39;</span><span class="p">)</span>
<span class="n">initialize</span><span class="p">(</span> <span class="p">)</span>
<span class="n">c1</span>  <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="s">&quot;Car1&quot;</span><span class="p">,</span><span class="mf">2000</span><span class="p">)</span>
<span class="n">c2</span>  <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="s">&quot;Car2&quot;</span><span class="p">,</span><span class="mf">1600</span><span class="p">)</span>
<span class="n">c3</span>  <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="s">&quot;Car3&quot;</span><span class="p">,</span><span class="mf">3000</span><span class="p">)</span>
<span class="n">c4</span>  <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="s">&quot;Car4&quot;</span><span class="p">,</span><span class="mf">1600</span><span class="p">)</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span><span class="n">c1</span><span class="o">.</span><span class="n">go</span><span class="p">(</span> <span class="p">),</span><span class="n">at</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span> <span class="c"># activate at time 4.0</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span><span class="n">c2</span><span class="o">.</span><span class="n">go</span><span class="p">(</span> <span class="p">))</span>        <span class="c"># activate at time 0.0</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c3</span><span class="p">,</span><span class="n">c3</span><span class="o">.</span><span class="n">go</span><span class="p">(</span> <span class="p">),</span><span class="n">at</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span> <span class="c"># activate at time 3.0</span>
<span class="n">activate</span><span class="p">(</span><span class="n">c4</span><span class="p">,</span><span class="n">c4</span><span class="o">.</span><span class="n">go</span><span class="p">(</span> <span class="p">),</span><span class="n">at</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span> <span class="c"># activate at time 2.0</span>
<span class="n">simulate</span><span class="p">(</span><span class="n">until</span><span class="o">=</span><span class="mf">300</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Current time is &#39;</span><span class="p">,</span><span class="n">now</span><span class="p">(</span> <span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>This program results in the following output:</p>
<div class="highlight-python"><pre>0 Car2 Starting
0 Car2 Got a pump
3.0 Car3 Starting
3.0 Car3 Got a pump
3.0 Car4 Starting
4.0 Car1 Starting
100.0 Car2 Leaving
100.0 Car4 Got a pump
103.0 Car3 Leaving
103.0 Car1 Got a pump
200.0 Car4 Leaving
203.0 Car1 Leaving
Current time is  203.0
</pre>
</div>
<p>And, if we use <tt class="docutils literal"><span class="pre">SimPy.SimulationTrace</span></tt> to get an automatic trace we
get the result shown in Appendix <a class="reference internal" href="#the-resource-example-with-tracing">The Resource Example with Tracing</a>.
(It is rather long to be inserted here).</p>
<hr class="docutils" />
</div>
</div>
<div class="section" id="random-number-generation">
<h2><a class="toc-backref" href="#id8">Random Number Generation</a><a class="headerlink" href="#random-number-generation" title="Permalink to this headline">¶</a></h2>
<p>Simulations usually need random numbers. By design, SimPy does not
provide its own random number generators, so users need to import them
from some other source.  Perhaps the most convenient is the standard
<a class="reference external" href="http://www.python.org/doc/current/lib/module-random.html">Python random module</a>.  It can generate random variates from the
following continuous distributions: uniform, beta, exponential, gamma,
normal, log-normal, Weibull, and vonMises.  It can also generate
random variates from some discrete distributions. Consult the module&#8217;s
documentation for details.  Excellent brief descriptions of these
distributions, and many others, can be found in the <a class="reference external" href="http://www.wikipedia.com/">Wikipedia</a>.)</p>
<p>Python&#8217;s <tt class="docutils literal"><span class="pre">random</span></tt> module can be used in two ways: you can import the
methods directly or you can import the <tt class="docutils literal"><span class="pre">Random</span></tt> class and make your
own random objects. In the second method, each object gives a
different random number sequence, thus providing multiple random
streams as in some other simulation languages such as Simscript and
ModSim.</p>
<p>Here the first method is illustrated. A single pseudo-random sequence
is used for all calls. You <tt class="docutils literal"><span class="pre">import</span></tt> the methods you need from the
<tt class="docutils literal"><span class="pre">random</span></tt> module. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">seed</span><span class="p">,</span> <span class="n">random</span><span class="p">,</span> <span class="n">expovariate</span><span class="p">,</span> <span class="n">normalvariate</span>
</pre></div>
</div>
<p>In simulation it is good practice to set the initial <tt class="docutils literal"><span class="pre">seed</span></tt> for the
pseudo-random sequence at the start of each run. You then have good
control over the random numbers used. Replications and comparisons are
easier and, together with variance reduction techniques, can provide
more accurate estimates. In the following code snippet we set the
initial seed to <tt class="docutils literal"><span class="pre">333555</span></tt>.  <tt class="docutils literal"><span class="pre">X</span></tt> and <tt class="docutils literal"><span class="pre">Y</span></tt> are pseudo-random
variates from the two distributions. Both distributions have the same
mean:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">seed</span><span class="p">,</span> <span class="n">expovariate</span><span class="p">,</span> <span class="n">normalvariate</span>

<span class="n">seed</span><span class="p">(</span><span class="mf">333555</span><span class="p">)</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">expovariate</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">normalvariate</span><span class="p">(</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="monitors-and-recording-simulation-results">
<h2><a class="toc-backref" href="#id9">Monitors and Recording Simulation Results</a><a class="headerlink" href="#monitors-and-recording-simulation-results" title="Permalink to this headline">¶</a></h2>
<p>A Monitor enables us to observe a particular variable of interest and
to hold a time series of its values. It can return a simple data
summary either during or at the completion of a simulation run.</p>
<p>For example we might use one Monitor to record the waiting time for
each of a series of customers and another to record the total number
of customers in the shop. In a discrete-event system the number of
customers changes only at arrival or departure events and it is at
those events that the number in the shop must be observed. A Monitor
provides simple statistics useful either alone or as the start of a
more sophisticated statistical analysis.</p>
<p>When Resources are defined, a Monitor can be set up to automatically
observe the lengths of each of their queues.</p>
<div class="section" id="defining-monitors">
<h3>Defining Monitors<a class="headerlink" href="#defining-monitors" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">Monitor</span></tt> class preserves a complete time-series of the observed
data values, <tt class="docutils literal"><span class="pre">y</span></tt>, and their associated times, <tt class="docutils literal"><span class="pre">t</span></tt>. The data are held
in a list of two-item sub-lists, <tt class="docutils literal"><span class="pre">[t,y]</span></tt>. Monitors calculate data
summaries using this time-series when your program requests them. In
long simulations their memory demands may be a disadvantage</p>
<p>To define a new Monitor object:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">Monitor(name='a_Monitor')</span></tt></p>
<p>where <tt class="docutils literal"><span class="pre">name</span></tt> is a descriptive name for the Monitor object. The
descriptive name is used when the data is graphed or tabulated.</p>
</li>
</ul>
<p>For example, to record the waiting times of cars in the gas station we
might use a Monitor:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">waittimes</span> <span class="o">=</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Waiting times&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="observing-data">
<h3>Observing data<a class="headerlink" href="#observing-data" title="Permalink to this headline">¶</a></h3>
<p>Monitors use their <tt class="docutils literal"><span class="pre">observe</span></tt> method to record data.  Here and in the
next section, <tt class="docutils literal"><span class="pre">m</span></tt> is a Monitor object:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.observe(y</span> <span class="pre">[,</span></tt><em>t</em><tt class="docutils literal"><span class="pre">])</span></tt></p>
<p>records the current value of the variable, <tt class="docutils literal"><span class="pre">y</span></tt> and time <em>t</em> (or
the current time, <tt class="docutils literal"><span class="pre">now()</span></tt>, if <em>t</em> is missing). A Monitor retains
the two values as a sub-list <tt class="docutils literal"><span class="pre">[t,y]</span></tt>.</p>
</li>
</ul>
<p>For example, using the Monitor in the previous example, we might
record the waiting times of the cars as shown in the following
fragment of the PEM of a <tt class="docutils literal"><span class="pre">Car</span></tt>:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="n">startwaiting</span> <span class="o">=</span> <span class="n">now</span><span class="p">()</span>             <span class="c"># start wait</span>
<span class="k">yield</span> <span class="n">request</span><span class="p">,</span><span class="bp">self</span><span class="p">,</span><span class="n">gasstation</span>
<span class="n">waitingtime</span> <span class="o">=</span> <span class="n">now</span><span class="p">()</span><span class="o">-</span><span class="n">startwaiting</span> <span class="c"># time spent waiting</span>

<span class="n">waittimes</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">waitingtime</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The first three lines measure the waiting time (from the time of the
request to the time the <tt class="docutils literal"><span class="pre">pump</span></tt> is obtained). The last records the
waiting time in the <tt class="docutils literal"><span class="pre">waittimes</span></tt> Monitor.</p>
<p>The data recording can be <tt class="docutils literal"><span class="pre">reset</span></tt> to start at any time in the
simulation:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.reset([</span></tt><em>t</em><tt class="docutils literal"><span class="pre">])</span></tt></p>
<p>resets the observations. The recorded data is re-initialised, and
the observation starting time is set to <em>t</em>, or to the current
simulation time, <tt class="docutils literal"><span class="pre">now(</span> <span class="pre">)</span></tt>, if <em>t</em> is missing.</p>
</li>
</ul>
</div>
<div class="section" id="data-summaries">
<h3>Data summaries<a class="headerlink" href="#data-summaries" title="Permalink to this headline">¶</a></h3>
<p>The following simple data summaries are available from Monitors at
any time during or after the simulation run:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">m[i]</span></tt> holds the <tt class="docutils literal"><span class="pre">i</span></tt>-th observation as a two-item list, <em>[ti,
yi]</em></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.yseries(</span> <span class="pre">)</span></tt> is a list of the recorded data values, <em>yi</em></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.tseries(</span> <span class="pre">)</span></tt> is a list of the recorded times, <em>ti</em></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.count(</span> <span class="pre">)</span></tt>, the current number of observations. (This is the
same as <tt class="docutils literal"><span class="pre">len(r)</span></tt>).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.total(</span> <span class="pre">)</span></tt>, the sum of the <tt class="docutils literal"><span class="pre">y</span></tt> values</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.mean(</span> <span class="pre">)</span></tt>, the simple numerical average of the observed <em>y</em>
values, <em>ignoring the times at which they were made</em>.  This is
<tt class="docutils literal"><span class="pre">m.total(</span> <span class="pre">)/m.count(</span> <span class="pre">)</span></tt>.</p>
<div align="center" class="figure" style="width: 400px">
<img alt="Standard mean value" src="../_images/Mon004.png" />
<p class="caption"><tt class="docutils literal"><span class="pre">m.mean</span></tt> is the simple average of the <em>y</em> values observed.</p>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.var(</span> <span class="pre">)</span></tt> the <em>sample</em> variance of the observations, ignoring the
times at which they were made. If an unbiased estimate of the
<em>population</em> variance is desired, the sample variance should be
multiplied by <em>n/(n-1)</em>, where <em>n = m.count( )</em>.  In either case the
standard deviation is, of course, the square-root of the variance</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.timeAverage(</span></tt><em>[t]</em><tt class="docutils literal"><span class="pre">)</span></tt> the time-weighted average of <tt class="docutils literal"><span class="pre">y</span></tt>,
calculated from time 0 (or the last time <tt class="docutils literal"><span class="pre">m.reset(</span></tt><em>[t]</em><tt class="docutils literal"><span class="pre">)</span></tt>
was called) to time <em>t</em> (or to the current simulation time,
<tt class="docutils literal"><span class="pre">now()</span></tt>, if <em>t</em> is missing).</p>
<p>This is intended to measure the average of a quantity that always
exists, such as the length of a queue or the amount in a Level <a class="footnote-reference" href="#id2" id="id1">[1]</a>.
In discrete-event simulation such quantity changes are always
instantaneous jumps occurring at events. The recorded times and new
levels are sufficient information to calculate the average over
time. The graph shown in the figure below illustrates the calculation. The
total area under the line is calculated and divided by the total
time of observation.  For accurate time-average results <em>y</em> must be
piecewise constant like this and observed <em>just after</em> each change
in its value. That is, the <em>y</em> value observed must be the <em>new</em>
value after the state change.</p>
<div align="center" class="figure" style="width: 400px">
<img alt="Time Average" src="../_images/Mon005.png" />
<p class="caption"><tt class="docutils literal"><span class="pre">m.timeAverage([t])</span></tt> is the time-weighted average of the observed
<tt class="docutils literal"><span class="pre">y</span></tt> values. Each <tt class="docutils literal"><span class="pre">y</span></tt> value is weighted by the time for which
it exists. The average is the area under the above curve divided
by the total time, <em>t</em>.</p>
</div>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><p class="first last"><tt class="docutils literal"><span class="pre">timeAverage</span></tt> is not intended to measure instantaneous
values such as a service time or a waiting time. <tt class="docutils literal"><span class="pre">m.mean()</span></tt>
is used for that.</p>
</td></tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.timeVariance([t])</span></tt> the time-weighted variance of the <tt class="docutils literal"><span class="pre">y</span></tt>
values calculated from time 0 (or the last time <tt class="docutils literal"><span class="pre">m.reset([t])</span></tt> was
called) to time <em>t</em> (or to the current simulation time, <tt class="docutils literal"><span class="pre">now()</span></tt>,
if <em>t</em> is missing).</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">m.__str__(</span> <span class="pre">)</span></tt> is a string that briefly describes the current state
of the monitor. This can be used in a print statement.</p>
</li>
</ul>
</div>
<div class="section" id="monitoring-resource-queues">
<h3>Monitoring Resource Queues<a class="headerlink" href="#monitoring-resource-queues" title="Permalink to this headline">¶</a></h3>
<p>If a Resource, <tt class="docutils literal"><span class="pre">m</span></tt>, (and similarly for a Level or a Store) is
defined with <tt class="docutils literal"><span class="pre">monitored=True</span></tt>, SimPy automatically records the
lengths of its associated queues (i.e. <tt class="docutils literal"><span class="pre">waitQ</span></tt> and <tt class="docutils literal"><span class="pre">activeQ</span></tt> for
Resources, and the analogous queues for Levels and Stores). These
records are kept in Monitors <tt class="docutils literal"><span class="pre">m.waitMon</span></tt> for the <tt class="docutils literal"><span class="pre">waitQ</span></tt> and
<tt class="docutils literal"><span class="pre">m.actMon</span></tt> for the <tt class="docutils literal"><span class="pre">activeQ</span></tt> (and analogously for the other
resource types). This solves a problem, particularly for the <tt class="docutils literal"><span class="pre">waitQ</span></tt>
which cannot easily be recorded externally to the resource.</p>
<p>Complete time series for queue lengths are maintained and can be used
for advanced post-simulation statistical analyses and to display
summary statistics.</p>
</div>
<div class="section" id="more-on-monitors">
<h3>More on Monitors<a class="headerlink" href="#more-on-monitors" title="Permalink to this headline">¶</a></h3>
<p>When a Monitor is defined it is automatically entered into a global
list <tt class="docutils literal"><span class="pre">allMonitors</span></tt>. Each Monitor also has a descriptive label for
its variable values, <tt class="docutils literal"><span class="pre">y</span></tt>, and their corresponding times, <tt class="docutils literal"><span class="pre">t</span></tt>, that can
be used when the data are plotted.  The function <tt class="docutils literal"><span class="pre">startCollection()</span></tt>
can be called to initialise all the Monitors in <tt class="docutils literal"><span class="pre">allMonitors</span></tt> at a
certain simulation time. This is helpful when a simulation needs a
&#8216;warmup&#8217; period to achieve steady state before measurements are
started.  A Monitor can also generate a <tt class="docutils literal"><span class="pre">Histogram</span></tt> of the data
(The SimPy <tt class="docutils literal"><span class="pre">Tally</span></tt> is an alternative to <tt class="docutils literal"><span class="pre">Monitor</span></tt> that does essentially
the same job but uses less storage space at some cost of speed and
flexibility. See the <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a> for more information on these options.)</p>
</div>
</div>
<div class="section" id="appendices">
<h2><a class="toc-backref" href="#id10">Appendices</a><a class="headerlink" href="#appendices" title="Permalink to this headline">¶</a></h2>
<div class="section" id="simpy-information">
<h3>SimPy Information<a class="headerlink" href="#simpy-information" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">SimPy Web-site:</th><td class="field-body"><a class="reference external" href="http://simpy.sourceforge.net/">http://simpy.sourceforge.net/</a></td>
</tr>
<tr class="field"><th class="field-name">Python-Version:</th><td class="field-body">2.3 and later (not 3.0)</td>
</tr>
<tr class="field"><th class="field-name">SimPy version:</th><td class="field-body">2.0</td>
</tr>
<tr class="field"><th class="field-name">SVN:</th><td class="field-body">$Revision: 431 $</td>
</tr>
<tr class="field"><th class="field-name">Date:</th><td class="field-body">2008-08-07</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-resource-example-with-tracing">
<h3>The Resource Example with Tracing<a class="headerlink" href="#the-resource-example-with-tracing" title="Permalink to this headline">¶</a></h3>
<p>This is the trace produced in the Resource example when
<tt class="docutils literal"><span class="pre">SimPy.SimulationTrace</span></tt> is imported at the head of the program. The
relevance of the phrases <tt class="docutils literal"><span class="pre">`prior:</span> <span class="pre">False`</span></tt> and <tt class="docutils literal"><span class="pre">`priority:</span>
<span class="pre">default`</span></tt> refer to advanced but seldom-needed methods for
fine-grained control of event timing, as explained in the <a class="reference external" href="http://simpy.sourceforge.net/SimPyDocs/Manual.html">Manual</a>. The
trace contains the results of all the <tt class="docutils literal"><span class="pre">print</span></tt> output specifically
called for by the user&#8217;s program (for example, line 5) but adds a line
for every event executed. (The <tt class="docutils literal"><span class="pre">request</span></tt> at time <tt class="docutils literal"><span class="pre">3.0</span></tt>, for
example, lists the contents of the <tt class="docutils literal"><span class="pre">waitQ</span></tt> and the <tt class="docutils literal"><span class="pre">activeQ</span></tt> for
the <tt class="docutils literal"><span class="pre">gasstation</span></tt>.)</p>
<div class="highlight-python"><pre>0 activate &lt;Car1&gt; at time: 4.0 prior: False
0 activate &lt;Car2&gt; at time: 0 prior: False
0 activate &lt;Car3&gt; at time: 3.0 prior: False
0 activate &lt;Car4&gt; at time: 3.0 prior: False
0 Car2 Starting
0 request &lt;Car2&gt; &lt;gasStation&gt;  priority: default 
. . .waitQ: [] 
. . .activeQ: ['Car2']
0 Car2 Got a pump
0 hold &lt;Car2&gt; delay: 100.0
3.0 Car3 Starting
3.0 request &lt;Car3&gt; &lt;gasStation&gt;  priority: default 
. . .waitQ: [] 
. . .activeQ: ['Car2', 'Car3']
3.0 Car3 Got a pump
3.0 hold &lt;Car3&gt; delay: 100.0
3.0 Car4 Starting
3.0 request &lt;Car4&gt; &lt;gasStation&gt;  priority: default 
. . .waitQ: ['Car4'] 
. . .activeQ: ['Car2', 'Car3']
4.0 Car1 Starting
4.0 request &lt;Car1&gt; &lt;gasStation&gt;  priority: default 
. . .waitQ: ['Car4', 'Car1'] 
. . .activeQ: ['Car2', 'Car3']
100.0 reactivate &lt;Car4&gt; time: 100.0 prior: 1
100.0 release &lt;Car2&gt; &lt;gasStation&gt; 
. . .waitQ: ['Car1'] 
. . .activeQ: ['Car3', 'Car4']
100.0 Car2 Leaving
100.0 &lt;Car2&gt; terminated
100.0 Car4 Got a pump
100.0 hold &lt;Car4&gt; delay: 100.0
103.0 reactivate &lt;Car1&gt; time: 103.0 prior: 1
103.0 release &lt;Car3&gt; &lt;gasStation&gt; 
. . .waitQ: [] 
. . .activeQ: ['Car4', 'Car1']
103.0 Car3 Leaving
103.0 &lt;Car3&gt; terminated
103.0 Car1 Got a pump
103.0 hold &lt;Car1&gt; delay: 100.0
200.0 release &lt;Car4&gt; &lt;gasStation&gt; 
. . .waitQ: [] 
. . .activeQ: ['Car1']
200.0 Car4 Leaving
200.0 &lt;Car4&gt; terminated
203.0 release &lt;Car1&gt; &lt;gasStation&gt; 
. . .waitQ: [] 
. . .activeQ: []
203.0 Car1 Leaving
203.0 &lt;Car1&gt; terminated
Current time is  203.0
</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/sm_SimPy_Logo.png" alt="Logo"/>
            </a></p>
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="#">Basic SimPy - Manual For First Time Users</a><ul>
<li><a class="reference external" href="#introduction">Introduction</a></li>
<li><a class="reference external" href="#simulation-with-simpy">Simulation with SimPy</a></li>
<li><a class="reference external" href="#processes">Processes</a><ul>
<li><a class="reference external" href="#defining-a-process">Defining a process</a></li>
<li><a class="reference external" href="#creating-a-process-object">Creating a process object</a></li>
<li><a class="reference external" href="#starting-simpy-process-objects">Starting SimPy Process Objects</a><ul>
<li><a class="reference external" href="#activate">activate</a></li>
<li><a class="reference external" href="#start">start</a></li>
<li><a class="reference external" href="#the-standard-pem-name-actions">The standard PEM name, ACTIONS</a></li>
</ul>
</li>
<li><a class="reference external" href="#elapsing-time-in-a-process">Elapsing time in a Process</a><ul>
<li><a class="reference external" href="#yield-hold">yield hold</a></li>
</ul>
</li>
<li><a class="reference external" href="#more-about-processes">More about Processes</a></li>
<li><a class="reference external" href="#a-simpy-program">A SimPy Program</a></li>
</ul>
</li>
<li><a class="reference external" href="#resources">Resources</a><ul>
<li><a class="reference external" href="#defining-a-resource-object">Defining a Resource object</a></li>
<li><a class="reference external" href="#requesting-and-releasing-a-unit-of-a-resource">Requesting and releasing a unit of a Resource</a><ul>
<li><a class="reference external" href="#yield-request">yield request</a></li>
<li><a class="reference external" href="#yield-release">yield release</a></li>
</ul>
</li>
<li><a class="reference external" href="#resource-example">Resource Example</a></li>
</ul>
</li>
<li><a class="reference external" href="#random-number-generation">Random Number Generation</a></li>
<li><a class="reference external" href="#monitors-and-recording-simulation-results">Monitors and Recording Simulation Results</a><ul>
<li><a class="reference external" href="#defining-monitors">Defining Monitors</a></li>
<li><a class="reference external" href="#observing-data">Observing data</a></li>
<li><a class="reference external" href="#data-summaries">Data summaries</a></li>
<li><a class="reference external" href="#monitoring-resource-queues">Monitoring Resource Queues</a></li>
<li><a class="reference external" href="#more-on-monitors">More on Monitors</a></li>
</ul>
</li>
<li><a class="reference external" href="#appendices">Appendices</a><ul>
<li><a class="reference external" href="#simpy-information">SimPy Information</a></li>
<li><a class="reference external" href="#the-resource-example-with-tracing">The Resource Example with Tracing</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../Using_SimPy.html"
                                  title="previous chapter">Using SimPy</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="Manual.html"
                                  title="next chapter">Simulation with SimPy - In Depth Manual</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/Manuals/SManual.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Manual.html" title="Simulation with SimPy - In Depth Manual"
             >next</a> |</li>
        <li class="right" >
          <a href="../Using_SimPy.html" title="Using SimPy"
             >previous</a> |</li>
        <li><a href="../index.html">SimPy v2.1.0 documentation</a> &raquo;</li>
          <li><a href="../Using_SimPy.html" >Using SimPy</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, 2009, Klaus Muller, Tony Vignaux.
      Last updated on May 11, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.5.
    </div>
  </body>
</html>