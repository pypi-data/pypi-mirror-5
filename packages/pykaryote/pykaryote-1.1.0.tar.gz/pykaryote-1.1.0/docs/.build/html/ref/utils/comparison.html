<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Comparer &mdash; Pykaryote 1.1.0d documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.1.0d',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Pykaryote 1.1.0d documentation" href="../../index.html" />
    <link rel="up" title="Modules" href="../modules.html" />
    <link rel="next" title="Test" href="../test/test.html" />
    <link rel="prev" title="Globals" href="globals.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../test/test.html" title="Test"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="globals.html" title="Globals"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Pykaryote 1.1.0d documentation</a> &raquo;</li>
          <li><a href="../modules.html" accesskey="U">Modules</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="comparer">
<h1>Comparer<a class="headerlink" href="#comparer" title="Permalink to this headline">¶</a></h1>
<p>This module handles comparison.</p>
<div class="section" id="module-pykaryote.utils.comparison">
<span id="documentation"></span><h2>Documentation<a class="headerlink" href="#module-pykaryote.utils.comparison" title="Permalink to this headline">¶</a></h2>
<p>The comparer module is responsible for analyzing the effects of 
changing a variable. It takes care of running the simulations, 
compiling the data, and producing graphs.</p>
<dl class="class">
<dt id="pykaryote.utils.comparison.Comparer">
<em class="property">class </em><tt class="descclassname">pykaryote.utils.comparison.</tt><tt class="descname">Comparer</tt><big>(</big><em>sim_config</em>, <em>cmp_config</em>, <em>name='Experiment'</em>, <em>data='.'</em>, <em>clear=True</em>, <em>identical_genomes=True</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Comparer" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a bunch of simulations with slight differences and aggregates the results.</p>
<dl class="docutils">
<dt><em>Args</em>:</dt>
<dd><p class="first"><tt class="docutils literal"><span class="pre">sim_config</span></tt> (str) the template configuration file for the experiment</p>
<p><tt class="docutils literal"><span class="pre">cmp_config</span></tt> (str) the comparison configuration file for the experiment</p>
<p><tt class="docutils literal"><span class="pre">name</span></tt> (str): the name of the comparison; defaults to <tt class="docutils literal"><span class="pre">Experiment</span></tt></p>
<p><tt class="docutils literal"><span class="pre">data</span></tt> (str): the data directory; defaults to the current directory.</p>
<p class="last"><tt class="docutils literal"><span class="pre">identical_genomes</span></tt> (bool): whether all of the trials simulations 
should start out with the same set of genomes (identical generation 0)</p>
</dd>
</dl>
<dl class="method">
<dt id="pykaryote.utils.comparison.Comparer.run">
<tt class="descname">run</tt><big>(</big><em>verbose=True</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Comparer.run" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><em>Args</em>:</dt>
<dd><tt class="docutils literal"><span class="pre">verbose</span></tt></dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pykaryote.utils.comparison.AnalyzerAggregator">
<em class="property">class </em><tt class="descclassname">pykaryote.utils.comparison.</tt><tt class="descname">AnalyzerAggregator</tt><big>(</big><em>data_dir</em>, <em>comparison_name</em>, <em>cmp_values</em>, <em>sim_config</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.AnalyzerAggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates data from multiple simulations into a comparative-analyzer
directory.</p>
<p>When a comparison is run, it creates an <tt class="docutils literal"><span class="pre">analyzer</span></tt> directory for each
type of simulation. <tt class="docutils literal"><span class="pre">AnalyzerAggregator</span></tt> combines them by putting the
columns next to each other. For example, combining three simulations, each
with one column of data, produces a data file with three columns - one for
each simulation.</p>
<dl class="method">
<dt id="pykaryote.utils.comparison.AnalyzerAggregator.compile_all">
<tt class="descname">compile_all</tt><big>(</big><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.AnalyzerAggregator.compile_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles all data files into a single <tt class="docutils literal"><span class="pre">comparative-analyzer</span></tt> dir.</p>
</dd></dl>

<dl class="method">
<dt id="pykaryote.utils.comparison.AnalyzerAggregator.compile_metric">
<tt class="descname">compile_metric</tt><big>(</big><em>metric</em>, <em>read_style</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.AnalyzerAggregator.compile_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile a single type of data file.</p>
<dl class="docutils">
<dt><em>Args</em>:</dt>
<dd><p class="first"><tt class="docutils literal"><span class="pre">metric</span></tt> (str): the filename to read and write</p>
<p><tt class="docutils literal"><span class="pre">read_style</span></tt> (str):</p>
<ul class="last">
<li><p class="first">if <tt class="docutils literal"><span class="pre">one_col</span></tt>, then the metric is assumed to have only one column.</p>
</li>
<li><dl class="first docutils">
<dt>if <tt class="docutils literal"><span class="pre">each_col</span></tt>, then each column is treated as its own metric, </dt>
<dd><p class="first last">and they are each written to &#8220;&lt;metric_name&gt;-&lt;col#&gt;&#8221;</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pykaryote.utils.comparison.Grapher">
<em class="property">class </em><tt class="descclassname">pykaryote.utils.comparison.</tt><tt class="descname">Grapher</tt><big>(</big><em>data_folder</em>, <em>sim_config</em>, <em>cmp_config_filename=None</em>, <em>verbose=True</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a comparison&#8217;s analyzer directory and provides methods for 
plotting the data.</p>
<dl class="docutils">
<dt><em>Args</em>:</dt>
<dd><tt class="docutils literal"><span class="pre">data_folder</span></tt> (str): a folder which contains a folder 
named <tt class="docutils literal"><span class="pre">comparative-analyzer</span></tt>, which has the necessary data.</dd>
</dl>
<dl class="method">
<dt id="pykaryote.utils.comparison.Grapher.draw_environment">
<tt class="descname">draw_environment</tt><big>(</big><em>save_dir</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher.draw_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the chemical environment and saves as an image.</p>
</dd></dl>

<dl class="method">
<dt id="pykaryote.utils.comparison.Grapher.plot">
<tt class="descname">plot</tt><big>(</big><em>metric</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher.plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt><em>Args</em>:</dt>
<dd><tt class="docutils literal"><span class="pre">metric</span></tt> (str): the name of the file to be plotted, 
inside of the directory &#8220;comparative-analyzer&#8221;. 
Columns must correspond to values of vary_attr and 
rows to generations.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pykaryote.utils.comparison.Grapher.plot_final_values">
<tt class="descname">plot_final_values</tt><big>(</big><em>metric</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher.plot_final_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a bar graph of the final values of a metric.</p>
<p>Each var_attr is a bar on the x axis.
metric is the y axis.
The value of each bar is the value of metric at the last generation.</p>
<p>Input files contain 2d numpy arrays containing values for metric, where
each row is a generation and each column corresponds to a value 
of self.vary_attrs.</p>
<dl class="docutils">
<dt>For example:</dt>
<dd><dl class="first last docutils">
<dt>x-axis (bars) = varying config parameter</dt>
<dd>(ex: cost of genome length)</dd>
<dt>y-axis = final value for a metric after 1000 runs </dt>
<dd>(ex: average complexity)</dd>
</dl>
</dd>
<dt>Args:</dt>
<dd>metric (str): The metric to plot.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pykaryote.utils.comparison.Grapher.plot_threshold">
<tt class="descname">plot_threshold</tt><big>(</big><em>metric</em>, <em>thresholds</em>, <em>save_dir=None</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher.plot_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a scatter plot of the number of generations it took a metric
to pass a threshold value.</p>
<p>These graphs are specified in the &#8216;threshold-metrics&#8217; section of 
a simulation&#8217;s configuration file.</p>
</dd></dl>

<dl class="method">
<dt id="pykaryote.utils.comparison.Grapher.save_all">
<tt class="descname">save_all</tt><big>(</big><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher.save_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves images of the plots of all of the metrics</p>
</dd></dl>

<dl class="method">
<dt id="pykaryote.utils.comparison.Grapher.save_time_spent_in_gaussian">
<tt class="descname">save_time_spent_in_gaussian</tt><big>(</big><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.Grapher.save_time_spent_in_gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots <tt class="docutils literal"><span class="pre">time_spent_in_gaussian</span></tt> data.</p>
<p>Data should only be present if num_runs == 0.
Data files are located in folders named
<tt class="docutils literal"><span class="pre">comparative-analyzer/sim-x/</span></tt>, where <tt class="docutils literal"><span class="pre">x</span></tt> is a number associated
with each simulation.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pykaryote.utils.comparison.get_config">
<tt class="descclassname">pykaryote.utils.comparison.</tt><tt class="descname">get_config</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a comparison configuration file.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>filename: The filename of comparison configuration file.</dd>
</dl>
<p>Returns a tuple of (tuple of option names, list of tuples of values to use)</p>
<dl class="docutils">
<dt>If a line begins with a <tt class="docutils literal"><span class="pre">(</span></tt>, it is simply <tt class="docutils literal"><span class="pre">eval</span></tt>-ed. (options should </dt>
<dd>have quotes!)</dd>
<dt>If the first line doesn&#8217;t begin with a <tt class="docutils literal"><span class="pre">(</span></tt>, then the text is surrounded </dt>
<dd>by quotes and put in a tuple.</dd>
<dt>If subsequent lines don&#8217;t begin with a <tt class="docutils literal"><span class="pre">(</span></tt>, then they are simply </dt>
<dd>placed into tuples.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pykaryote.utils.comparison.make_cfg">
<tt class="descclassname">pykaryote.utils.comparison.</tt><tt class="descname">make_cfg</tt><big>(</big><em>options</em>, <em>replacement_values</em>, <em>base_config</em>, <em>out_filename</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.make_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a sim config file by replacing options in base_config.</p>
<p>Replaces options in base_config with values from replacement_values and
saves the resulting simulation configuration file to out_filename.</p>
<p>Used to create a sim.cfg config file from a cmp.cfg comparison config.</p>
</dd></dl>

<dl class="function">
<dt id="pykaryote.utils.comparison.get_metrics_files">
<tt class="descclassname">pykaryote.utils.comparison.</tt><tt class="descname">get_metrics_files</tt><big>(</big><em>folder</em>, <em>metric</em><big>)</big><a class="headerlink" href="#pykaryote.utils.comparison.get_metrics_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of files associated with metric.</p>
<dl class="docutils">
<dt><em>Args</em>:</dt>
<dd><tt class="docutils literal"><span class="pre">folder</span></tt> (str): the path to the &#8220;comparative-analyzer&#8221; folder. <em>Must</em> have a trailing &#8216;/&#8217;.
<tt class="docutils literal"><span class="pre">metric</span></tt> (str): the name of the metric.</dd>
</dl>
<p><em>Returns</em> [str..]: the filenames that match.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Comparer</a><ul>
<li><a class="reference internal" href="#module-pykaryote.utils.comparison">Documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="globals.html"
                        title="previous chapter">Globals</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../test/test.html"
                        title="next chapter">Test</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/ref/utils/comparison.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../test/test.html" title="Test"
             >next</a> |</li>
        <li class="right" >
          <a href="globals.html" title="Globals"
             >previous</a> |</li>
        <li><a href="../../index.html">Pykaryote 1.1.0d documentation</a> &raquo;</li>
          <li><a href="../modules.html" >Modules</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011 - 2013, James Lamine and Ethan Van Andel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>