var __hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define(["environ","mediator","channels","underscore","backbone"],function(e,t,n,r,i){var s,o,u;s=function(e){function i(){return u=i.__super__.constructor.apply(this,arguments),u}return __extends(i,e),i.prototype.url=App.urls.preferences,i.prototype.defaults={json:{}},i.prototype.initialize=function(){var e=this;return i.__super__.initialize.apply(this,arguments),t.subscribe(n.SESSION_SET,function(t,n){var r,i;return r=e.get("json"),(i=r.session)||(i=r.session={}),i[t]=n,e.save()}),this.on("sync",function(){return t.publish(n.SESSION_SYNCED)}),this.on("change",function(){return this.load()}),this.fetch()},i.prototype.load=function(){var e,i,s,o,u;s=this.get("json"),u=s.session||{};for(o in u)i=u[o],e=r.template(n.SESSION_LOAD,{key:o}),t.publish(e,i)},i}(i.Model),o=new s});