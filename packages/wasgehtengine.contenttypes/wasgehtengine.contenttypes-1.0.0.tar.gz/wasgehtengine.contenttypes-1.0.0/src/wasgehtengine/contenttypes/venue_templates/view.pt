<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:tal="http://xml.zope.org/namespaces/tal" xmlns:metal="http://xml.zope.org/namespaces/metal"
	xmlns:i18n="http://xml.zope.org/namespaces/i18n"
	metal:use-macro="context/main_template/macros/master" i18n:domain="wasgehtengine.contenttypes">

	<body>

		<metal:content-core fill-slot="content-core">
			<metal:content-core define-macro="content-core">

				<div class="vcard" tal:define="address context/postalAddress">
					<span id="venueName" class="fn" tal:content="context/title">Kult 41</span>
					<br />
					<span id="venueStreet" class="street-address" tal:condition="python: 'street' in address"
						tal:content="python:address['street']">Musterstraße</span>
					<span id="venueHousenumber" class="street-address"
						tal:condition="python: 'housenumber' in address" tal:content="python:address['housenumber']">666
					</span>
					<br />
					<span id="venuePostcode" class="street-address" tal:condition="python: 'postcode' in address"
						tal:content="python:address['postcode']">12345</span>
					<span id="venueCity" class="street-address" tal:condition="python: 'city' in address"
						tal:content="python:address['city']">Musterstadt</span>
					<br />
					<a id="venueUrl" class="url external" tal:condition="context/website" tal:attributes="href context/website"
						tal:content="context/website" />
					<div tal:condition="context/phoneNumber">
							<span>Telefon: </span><span tal:content="context/phoneNumber">+49 228 123456789</span>
					</div>
				</div>

				<div id="map" />
				
				<!-- <div id="osm-element-tags">
					<h3 for="osm-element-tags" i18n:translate="label_venue_osm-element-tags">OSM Element Tags:</h3>
					<ul>
						<li tal:repeat="key context/osmReference/osmElementTags/keys">
							<span tal:content="key" />
							<span>: </span>
							<span tal:content="python:context.osmReference.osmElementTags[key]" />
						</li>
					</ul>
				</div> -->

				<div id="geo-position" tal:condition="context/geographicPosition">
					<h3 i18n:translate="label_venue_geo-position">Geographic Position:</h3>
					<span id="latitude" tal:content="context/geographicPosition/latitude" />
					<span>,</span>
					<span id="longitude" tal:content="context/geographicPosition/longitude" />
				</div>

				<section>
					<h1>Nächste Veranstaltungen</h1>
					<ul>
						<li tal:repeat="event view/upcoming_events">
							<time tal:attributes="datetime python:event.period.start.isoformat()"
								tal:content="python:event.period.start.strftime('%x')" /><span>:</span>
							<a tal:define="title python: unicode(event.title)"
								tal:attributes="href event/absolute_url" tal:content="python: title[:50] + (title[50:] and '...')" />
						</li>
					</ul>
				</section>
			</metal:content-core>
		</metal:content-core>

	</body>
</html>
