{%- macro rellink_markup() %}
  <nav id="rellinks">
    <ul>
      {%- for rellink in rellinks %}
      <li>
        <a href="{{ pathto(rellink[0]) }}" title="{{ rellink[1]|striptags|e }}"
            {{ accesskey(rellink[2]) }}>{{ rellink[3] }}</a>
      </li>
      {%- endfor %}
    </ul>
  </nav>
{%- endmacro %}

{%- macro breadcrumbs_markup() %}
  <nav id="breadcrumbs">
    <ul>
      {%- block rootrellink %}
      <li><a href="{{ pathto(master_doc) }}">{{ shorttitle|e }}</a></li>
      {%- endblock %}
      {%- for parent in parents %}
      <li>
        <a href="{{ parent.link|e }}">{{ parent.title }}</a>
      </li>
      {%- endfor %}
      {%- block relbaritems %} {% endblock %}
    </ul>
  </nav>
{%- endmacro %}

{%- macro relbar_top() %}
  {%- if theme_showrelbartop|tobool %}
  <div class="related top">
    {{- rellink_markup () }}
    {{- breadcrumbs_markup() }}
  </div>
  {%- endif %}
{%- endmacro %}

{%- macro relbar_bottom() %}
  {%- if theme_showrelbarbottom|tobool %}
  <div class="related bottom">
    {{- rellink_markup () }}
    {{- breadcrumbs_markup() }}
  </div>
  {%- endif %}
{%- endmacro %}
