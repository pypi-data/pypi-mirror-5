#!/usr/bin/env python
# -*- coding: utf-8 -*-
from argh import ArghParser
from optimus.cli.build import build
from optimus.cli.watch import watch
from optimus.cli.init import init

if __name__=='__main__':
    parser = ArghParser()
    enabled_commands = [init, build, watch]

    try:
        import cherrypy
    except ImportError:
        pass
    else:
        from optimus.cli.runserver import runserver
        enabled_commands.append(runserver)
    
    parser.add_commands(enabled_commands)
    parser.dispatch()
