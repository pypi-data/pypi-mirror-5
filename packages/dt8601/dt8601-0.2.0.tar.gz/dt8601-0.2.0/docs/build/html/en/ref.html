<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Reference and Definitions &mdash; dt8601 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="dt8601 0.1.0 documentation" href="index.html" />
    <link rel="prev" title="IsoDate class" href="objects.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="objects.html" title="IsoDate class"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">dt8601 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="reference-and-definitions">
<h1>Reference and Definitions<a class="headerlink" href="#reference-and-definitions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="definitions-module">
<h2>Definitions module<a class="headerlink" href="#definitions-module" title="Permalink to this headline">¶</a></h2>
<p>The module <tt class="docutils literal"><span class="pre">definitions.py</span></tt> contains a dictionary named <tt class="docutils literal"><span class="pre">COUNTRYDATA</span></tt> with a dictionary for each country,
identified by the ISO2 code for the country. This is the definition for Germany:</p>
<div class="highlight-python"><pre>'DE': {
    'weekend': ['SA', 'SU'],
    'start_of_week': 'MO',
    'first_week': 'ISO',
    'long_day_names': {'MO':'Montag', 'TU':'Dienstag', 'WE':'Mittwoch', 'TH':'Donnerstag',
                       'FR':'Freitag', 'SA':'Samstag', 'SU':'Sonntag'},
    'short_day_names': {'MO':'MO', 'TU':'DI', 'WE':'MI', 'TH':'DO', 'FR':'FR', 'SA':'SA', 'SU':'SO'},
    'long_month_names': ['', 'Januar', 'Februar', 'März', 'April', 'Mai', 'Juni',
                         'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
    'short_month_names': ['', 'Jan', 'Feb', 'Mrz', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
    'holidays': [
                {'name': 'Neujahrstag', 'date': 'F:01-01::'},
                {'name': 'H. drei Könige', 'date': 'F:01-06::', 'states': ['BW', 'BY', 'ST']},
                {'name': 'Karfreitag', 'date': 'V:easter:-2::'},
                {'name': 'Ostersonntag', 'date': 'V:easter:::'},
                {'name': 'Ostermontag', 'date': 'V:easter:+1::'},
                {'name': 'Tag der Arbeit', 'date': 'F:05-01::'},
                {'name': 'Christi Himmelfahrt', 'date': 'V:easter:+39::'},
                {'name': 'Pfingstsonntag', 'date': 'V:easter:+49::'},
                {'name': 'Pfingstmontag', 'date': 'V:easter:+50::'},
                {'name': 'Fronleichnam', 'date': 'V:easter:+60::', 'states': ['BW', 'BY', 'HE', 'NW', 'RP', 'SL']},
                {'name': 'Maria Himmelfahrt', 'states': ['BY'], 'date': 'F:08-15::'},
                {'name': 'Tag der deutschen Einheit', 'date': 'F:10-03::'},
                {'name': 'Reformationstag', 'states': ['BB', 'SN', 'MV', 'ST', 'TH'], 'date': 'F:10-31::'},
                {'name': 'Allerheiligen', 'date': 'F:11-01::', 'states': ['BW', 'BY', 'NW', 'RP', 'SL']},
                {'name': 'Buß- und Bettag', 'date': 'V:advent:-WE::1995-', 'states': ['SN']},
                {'name': 'Buß- und Bettag', 'date': 'V:advent:-WE::-1994'},
                {'name': '1. Weihnachtstag', 'date': 'F:12-25::'},
                {'name': '2. Weihnachtstag', 'date': 'F:12-26::'},
                ],
}</pre>
</div>
<p>Please have a look the code in the <tt class="docutils literal"><span class="pre">definitions.py</span></tt> module, where you also will find all the abbreviations
for the state codes. Country codes will always be ISO2.</p>
</div>
<div class="section" id="how-to-define-holidays">
<h2>How to define holidays<a class="headerlink" href="#how-to-define-holidays" title="Permalink to this headline">¶</a></h2>
<p>The <cite>definitions.py</cite> module contains core definitions for the package in a structure based on country.
The holiday section for each country may contain holiday definitions in a text-based formula.</p>
<div class="section" id="fixed-or-variable-holiday">
<h3>Fixed or variable holiday<a class="headerlink" href="#fixed-or-variable-holiday" title="Permalink to this headline">¶</a></h3>
<p>Public holidays may occur on a fixed date (same month and day every year) or on variable dates that
may change every year (Easter / Pentecost). For fixed holidays, use <cite>F</cite> as the first letter of the
definition, for variable holidays use a <cite>V</cite> as the first letter.</p>
<div class="section" id="fixed-holidays">
<h4>Fixed holidays<a class="headerlink" href="#fixed-holidays" title="Permalink to this headline">¶</a></h4>
<p>A definitions for a fixed holiday consists of four fields:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;F&#8217;</li>
<li>&lt;month&gt;-&lt;day&gt;</li>
<li>&lt;spread&gt;</li>
<li>&lt;validity&gt;</li>
</ul>
</div></blockquote>
<p>A simple example would be Labor Day in Europe, always on May, 1st:  <tt class="docutils literal"><span class="pre">F:05-01::</span></tt>.
As you can see, content for fields <cite>spread</cite> and validity` are optional.</p>
</div>
<div class="section" id="variable-holidys">
<h4>Variable holidys<a class="headerlink" href="#variable-holidys" title="Permalink to this headline">¶</a></h4>
<p>A definition for a variable holiday consists of five fields:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;V&#8217;</li>
<li>&lt;basedate&gt;</li>
<li>&lt;formula&gt;</li>
<li>&lt;spread&gt;</li>
<li>&lt;validity&gt;</li>
</ul>
</div></blockquote>
<p>We use the definition for Ascension in Germany (39 days after Easter): <tt class="docutils literal"><span class="pre">V:Easter+39</span></tt>.</p>
</div>
<div class="section" id="what-is-spread">
<h4>What is &#8220;spread&#8221;?<a class="headerlink" href="#what-is-spread" title="Permalink to this headline">¶</a></h4>
<p>In many countries there are special rules if a holiday occurs on a weekend. Independence Day in
the United States is an example. If the 4th of July is a saturday, the firday will not be a
workday. The field <cite>spread</cite> is used for this purpose.</p>
<p>The definitions consists of the weekday of the holiday and the spreading of the day. Let&#8217;s
stick to our example of Independence Day: if July 4th is a sunday, the monday will be a day off
in addition to the rule for saturday. So we define the field value as <tt class="docutils literal"><span class="pre">SA-FR``for</span> <span class="pre">the</span> <span class="pre">first</span>
<span class="pre">part</span> <span class="pre">and</span> <span class="pre">``SU+MO</span></tt> for the second part. Both parts will be separated by a comma, like so:
<tt class="docutils literal"><span class="pre">F:07-04:SA-FR,SU+MO:</span></tt> (the last field validity is empty).</p>
<p>In Great Britain there is a rule for Christmas Day: is December, 25th is on a weekend, the
next tuesday is not a working day: <tt class="docutils literal"><span class="pre">F:12-25:SA+TU,SU+TU:</span></tt></p>
</div>
<div class="section" id="validity">
<h4>Validity<a class="headerlink" href="#validity" title="Permalink to this headline">¶</a></h4>
<p>If a holiday is valid only up until a certain year of from a certain year, you may use the
<cite>validity</cite> field to store that information. Starting next year, the Netherlands will be
celebrating &#8220;Konigsdag&#8221; on April 27. Up and including 2013, the &#8220;Koniginnendag&#8221; is
April 30th. This day has been celebrated starting 1949, when Queen Juliana became Queen.
(to our friends from The Netherlands: I hope I got that right, if I need to make corrections,
please let me know)</p>
<blockquote>
<div><ul class="simple">
<li>so this is the definitions for the Koniginnendag:  <tt class="docutils literal"><span class="pre">F:04-30:SU-SA:1949-2013</span></tt></li>
<li>and this is the definitions for the Konigsdag:  <tt class="docutils literal"><span class="pre">F:04-27:SU-SA:0-2014</span></tt></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="formel">
<h4>Formel<a class="headerlink" href="#formel" title="Permalink to this headline">¶</a></h4>
<p>For variable holidays you may specify a formula, based on a starting point in time.
In th esouthern part of Germany, Ascension will be celebrated 39 days after Easter.
So the base date would be <tt class="docutils literal"><span class="pre">Easter</span></tt>. As 39 days after Easter is always a thursday,
you have two options to specify this:</p>
<blockquote>
<div><ul class="simple">
<li>alternative 1: <tt class="docutils literal"><span class="pre">Easter+39</span></tt></li>
<li>alternative 2: <tt class="docutils literal"><span class="pre">Easter+TH+TH+TH+TH+TH+TH</span></tt></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="more-examples">
<h3>More examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h3>
<div class="section" id="october-bank-holiday-irland">
<h4>October Bank Holiday (Irland)<a class="headerlink" href="#october-bank-holiday-irland" title="Permalink to this headline">¶</a></h4>
<p>V:Nov-1-MO  (last monday in october)</p>
</div>
<div class="section" id="independence-day-usa">
<h4>Independence Day (USA)<a class="headerlink" href="#independence-day-usa" title="Permalink to this headline">¶</a></h4>
<p>F:07-04:SA-FR,SU+MO:</p>
<blockquote>
<div><ul class="simple">
<li>fixed</li>
<li>Falls Samstag, ist der Freitag frei</li>
<li>Falls Sonntag, ist der Montag frei</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="martin-luther-king-day-usa">
<h4>Martin Luther King Day (USA)<a class="headerlink" href="#martin-luther-king-day-usa" title="Permalink to this headline">¶</a></h4>
<p>V:Feb+MO+MO+MO</p>
<blockquote>
<div><ul class="simple">
<li>variable</li>
<li>Basisdatum ist <tt class="docutils literal"><span class="pre">Feb</span></tt> (also der 1. Februar)</li>
<li>dann der dritte Montag</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="christmas-day-boxing-day-uk">
<h4>Christmas Day / Boxing Day (UK)<a class="headerlink" href="#christmas-day-boxing-day-uk" title="Permalink to this headline">¶</a></h4>
<p>F:12-25:SA+TU,SU+TU:
F:12-26:SA+MO,SU+MO:</p>
<blockquote>
<div><ul class="simple">
<li>fixed</li>
<li>falls der 25.12. ein Wochenende ist, ist der nächste Dienstag frei</li>
<li>falls der 26.12. ein Wochenende ist, ist der nächste Montag frei</li>
<li>keine Gültigkeit bedeutet immer</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Reference and Definitions</a><ul>
<li><a class="reference internal" href="#definitions-module">Definitions module</a></li>
<li><a class="reference internal" href="#how-to-define-holidays">How to define holidays</a><ul>
<li><a class="reference internal" href="#fixed-or-variable-holiday">Fixed or variable holiday</a><ul>
<li><a class="reference internal" href="#fixed-holidays">Fixed holidays</a></li>
<li><a class="reference internal" href="#variable-holidys">Variable holidys</a></li>
<li><a class="reference internal" href="#what-is-spread">What is &#8220;spread&#8221;?</a></li>
<li><a class="reference internal" href="#validity">Validity</a></li>
<li><a class="reference internal" href="#formel">Formel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-examples">More examples</a><ul>
<li><a class="reference internal" href="#october-bank-holiday-irland">October Bank Holiday (Irland)</a></li>
<li><a class="reference internal" href="#independence-day-usa">Independence Day (USA)</a></li>
<li><a class="reference internal" href="#martin-luther-king-day-usa">Martin Luther King Day (USA)</a></li>
<li><a class="reference internal" href="#christmas-day-boxing-day-uk">Christmas Day / Boxing Day (UK)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="objects.html"
                        title="previous chapter">IsoDate class</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/ref.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="objects.html" title="IsoDate class"
             >previous</a> |</li>
        <li><a href="index.html">dt8601 0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Armin Hanisch.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>