<metal:blogTitle define-macro="blog_title">
    <h1 class="documentFirstHeading" tal:content="context/Title"
        tal:attributes="style hiddableStyle|nothing">Title</h1>
</metal:blogTitle>

<metal:blogDesc define-macro="blog_description">
    <p class="documentDescription" tal:condition="context/Description"
        tal:attributes="style hiddableStyle|nothing">
        <metal:field use-macro="python:context.widget('description', mode='view')">
            Description
        </metal:field>
    </p>
</metal:blogDesc>

<metal:blogText define-macro="blog_text">
    <div metal:define-macro="text-field-view"
        id="parent-fieldname-text" class="stx"
        tal:define="kss_class python:getKssClasses('text',
                    templateId=templateId, macro='text-field-view');
                    text view/getText|nothing"
        tal:condition="text"
        tal:attributes="class python:context.Format() in ('text/structured',
                        'text/x-rst', ) and 'stx' + kss_class or 'plain' + kss_class">
        <div metal:define-slot="inside" tal:replace="structure text">The body</div>
    </div>
</metal:blogText>

<metal:entryTitle define-macro="entry_title">
    <a name="" tal:attributes="name item_id"></a>
    <h2><a href="#" class="summary url"
        tal:attributes="href python:item_type in use_view_action and item_url+'/view' or item_url;"
        tal:content="item_title_or_id">
        Item Title
        </a>
    </h2>
</metal:entryTitle>

<metal:entryDesc define-macro="entry_description">
    <div class="tileDesc" tal:condition="item_description">
        <p class="description" tal:content="item_description">
            description
        </p>
    </div>
</metal:entryDesc>

<metal:entryText define-macro="entry_text">
    <tal:body tal:condition="python:show_body and item_text"
        replace="structure item_text">
        Text
    </tal:body>
</metal:entryText>

<metal:entryBlogger define-macro="entry_blogger" i18n:domain="xhostplus.blog">
    <tal:name tal:condition="python:item_creator or item_blogger"
        tal:define="author python:not item_blogger and item_creator and view.tools.membership().getMemberInfo(item_creator);
                    bio python:item_blogger_bio and item_blogger_bio.absolute_url() or None">
        <span i18n:translate="label_posted_by">
            Posted by
            <a href="#"
                tal:attributes="href python:bio or '%s/author/?author=%s' % (nav_root, item_creator)"
                tal:content="python:item_blogger or (author and author['fullname']) or item_creator"
                tal:omit-tag="python:not (author or bio)"
                i18n:name="author">
                Bob Dobalina
            </a>
        </span>
    </tal:name>
</metal:entryBlogger>

<metal:entryPermalink define-macro="entry_permalink" i18n:domain="xhostplus.blog">
    <tal:permalink>
        |
        <a href="" title="Permalink"
            class="permalink"
            tal:attributes="href python:item_type in use_view_action and item_url+'/view' or item_url;"
            i18n:attributes="title label_permalink"
            i18n:translate="label_permalink">
            Permalink
        </a>
    </tal:permalink>
</metal:entryPermalink>

<metal:entryCategories define-macro="entry_categories" i18n:domain="xhostplus.blog">
    <tal:block condition="item_subject">
        |
        <tal:filedunder i18n:translate="label_filed_under">filed under:</tal:filedunder>
        <span tal:repeat="category item_subject">
            <a href=""
                class="link-category"
                rel="tag"
                tal:content="category"
                tal:define="quotedCat python:url_quote(category)"
                tal:attributes="href string:${context/absolute_url}?Subject%3Alist=${quotedCat}">
                Category
            </a><tal:separator condition="not: repeat/category/end">,</tal:separator>
        </span>
    </tal:block>
</metal:entryCategories>

<metal:entryDocumentByLine define-macro="entry_documentbyline">
    <div class="documentByLine" tal:condition="python: view.site_props.allowAnonymousViewAbout or not isAnon">
        <metal:entryBlogger use-macro="here/xhostplus_blog_macros/macros/entry_blogger"/>
        <metal:entryPermalink use-macro="here/xhostplus_blog_macros/macros/entry_permalink"/>
        <metal:entryCategories use-macro="here/xhostplus_blog_macros/macros/entry_categories"/>
    </div>
</metal:entryDocumentByLine>

<metal:entryTitleImage define-macro="entry_title_image">
    <div class="blogImageContainer"
        tal:condition="item_object/title_image_thumb|nothing">

        <a href="#"
            tal:attributes="href string:$item_url"
            id="parent-fieldname-image">

            <img tal:replace="structure python: item_object.tag(scale='thumb', css_class='blogImage')" src="" alt="" />
        </a>

    </div>
</metal:entryTitleImage>

<metal:entryFooter define-macro="entry_footer" i18n:domain="xhostplus.blog">
    <div class="tileFooter">
        <tal:block tal:condition="python:item_date and item_date != None">
            <span class="actionDate" tal:content="item_date">
                August 16, 2001 at 23:35:59
            </span>
        </tal:block>

        <tal:block tal:condition="python:(not show_body) and (not item_can_edit) and item_text">
            |
            <a title="Click to read full entry."
                class="actionReadMore"
                tal:attributes="href string:${item_url}"
                i18n:translate="label_read_more"
                i18n:attributes="title label_click_to_read_full_entry"
                >Read more</a>
        </tal:block>

        <tal:block tal:condition="item_can_edit">
            |
            <a title="Click to edit this entry."
                class="actionEdit"
                tal:attributes="href string:${item_url}/edit"
                i18n:translate="label_edit"
                i18n:attributes="title label_edit_title">
                Edit</a>
        </tal:block>
    </div>
</metal:entryFooter>

<metal:blogEmpty define-macro="blog_empty" i18n:domain="xhostplus.blog">
    <p class="discreet"
        tal:condition="not:batch"
        i18n:translate="description_no_items_in_blog">
        There are currently no contents in this blog.
    </p>
</metal:blogEmpty>
