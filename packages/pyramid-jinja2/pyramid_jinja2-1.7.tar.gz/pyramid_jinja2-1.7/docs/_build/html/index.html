
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pyramid_jinja2 &mdash; pyramid_jinja2 1.5dev0 documentation</title>
    
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.5dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyramid_jinja2 1.5dev0 documentation" href="#" />
    <link rel="next" title="Glossary" href="glossary.html" />
<link rel="stylesheet" href="https://static.pylonsproject.org/fonts/nobile/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://static.pylonsproject.org/fonts/neuton/stylesheet.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/pyramid.ico"/>

  </head>
  <body>




<a href="https://github.com/Pylons/pyramid_jinja2"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/camo.github.com/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub"></a>


<div class="header-small">
	
	<div class="logo-small">
		<a href="#">
      		<img class="logo" src="_static/pyramid-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             accesskey="N">next</a> |</li>
    	<li><a href="#">pyramid_jinja2 1.5dev0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pyramid-jinja2">
<h1>pyramid_jinja2<a class="headerlink" href="#pyramid-jinja2" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="id1"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="glossary.html#term-pyramid-jinja2"><em class="xref std std-term">pyramid_jinja2</em></a> is a set of bindings that make templates written for the
<a class="reference internal" href="glossary.html#term-jinja2"><em class="xref std std-term">Jinja2</em></a> templating system work under the <a class="reference internal" href="glossary.html#term-pyramid"><em class="xref std std-term">Pyramid</em></a> web framework.</p>
</div>
<div class="section" id="installation">
<span id="instalation"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Install using setuptools, e.g. (within a virtualenv):</p>
<div class="highlight-python"><pre>$ $myvenv/bin/easy_install pyramid_jinja2</pre>
</div>
</div>
<div class="section" id="setup">
<span id="id2"></span><h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>There are two ways to make sure that <tt class="docutils literal"><span class="pre">pyramid_jinja2</span></tt> is active.  Both
are completely equivalent:</p>
<ol class="arabic">
<li><p class="first">Use the <a class="reference internal" href="api.html#pyramid_jinja2.includeme" title="pyramid_jinja2.includeme"><tt class="xref py py-func docutils literal"><span class="pre">includeme()</span></tt></a> function via <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/api/config.html#pyramid.config.Configurator.include" title="(in The Pyramid Web Application Development Framework v1.4b1)"><tt class="xref py py-meth docutils literal"><span class="pre">include()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span> <span class="o">=</span> <span class="n">Configurator</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">include</span><span class="p">(</span><span class="s">&#39;pyramid_jinja2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">If you&#8217;re using <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid_zcml/en/latest/">pyramid_zcml</a>
instead of imperative configuration, ensure that some ZCML file with an
analogue of the following contents is executed by your Pyramid
application:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;include</span> <span class="na">package=</span><span class="s">&quot;pyramid_jinja2&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
</ol>
<p>Once activated either of these says, the following happens:</p>
<ol class="arabic simple">
<li>Files with the <tt class="file docutils literal"><span class="pre">.jinja2</span></tt> extension are considered to be
<a class="reference internal" href="glossary.html#term-jinja2"><em class="xref std std-term">Jinja2</em></a> templates.</li>
<li>The <a class="reference internal" href="api.html#pyramid_jinja2.add_jinja2_search_path" title="pyramid_jinja2.add_jinja2_search_path"><tt class="xref py py-func docutils literal"><span class="pre">pyramid_jinja2.add_jinja2_search_path()</span></tt></a> directive is added to
the <a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> instance.</li>
<li>The <a class="reference internal" href="api.html#pyramid_jinja2.add_jinja2_extension" title="pyramid_jinja2.add_jinja2_extension"><tt class="xref py py-func docutils literal"><span class="pre">pyramid_jinja2.add_jinja2_extension()</span></tt></a> directive is added to the
<a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> instance.</li>
<li>The <a class="reference internal" href="api.html#pyramid_jinja2.get_jinja2_environment" title="pyramid_jinja2.get_jinja2_environment"><tt class="xref py py-func docutils literal"><span class="pre">pyramid_jinja2.get_jinja2_environment()</span></tt></a> directive is added to the
<a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> instance.</li>
<li><a class="reference external" href="http://jinja.pocoo.org/docs/api/#jinja2.Environment" title="(in Jinja2 v2.7-dev)"><tt class="xref py py-class docutils literal"><span class="pre">jinja2.Environment</span></tt></a> is constructed and registered globally.</li>
</ol>
<p>To setup the Jinja2 search path either one of the following steps must be taken:</p>
<ol class="arabic">
<li><p class="first">Add <a class="reference internal" href="#setting-jinja2-directories"><em>jinja2.directories</em></a> to your <tt class="file docutils literal"><span class="pre">.ini</span></tt> settings file using the pyramid asset spec:</p>
<div class="highlight-python"><pre>jinja2.directories = yourapp:templates</pre>
</div>
</li>
<li><p class="first">Or Alternatively by using the <a class="reference internal" href="api.html#pyramid_jinja2.add_jinja2_search_path" title="pyramid_jinja2.add_jinja2_search_path"><tt class="xref py py-func docutils literal"><span class="pre">add_jinja2_search_path()</span></tt></a>
directive attached to your application&#8217;s <a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> instance also
using the pyramid asset spec:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span><span class="o">.</span><span class="n">add_jinja2_search_path</span><span class="p">(</span><span class="s">&quot;yourapp:templates&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>If you do not explicitly configure your Jinja2 search path it will
default to the root of your application. If the specified template
is not found in the root of your application and you did not specify
a package on the template path it will then try to load the template
path relative to the module&#8217;s caller package. For example:</p>
<p>Without the search path configured:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&#39;templates/mytemplate.jinja2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>With the search path configured:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&#39;mytemplate.jinja2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you view module is in app.module.view and your template is
under <tt class="file docutils literal"><span class="pre">app/module/templates/mytemplate.jinja2</span></tt> you can access
that asset in a few different ways.</p>
<p>Using the full path:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&quot;module/templates/mytemplate.jinja2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the package:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&quot;app.module:templates/mytemplate.jinja2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Using the relative path to current package:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&quot;templates/mytemplate.jinja2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">You need to be careful when using relative paths though, if
there is an <tt class="file docutils literal"><span class="pre">app/templates/mytemplate.jinja2</span></tt> this will be
used instead as Jinja2 lookup will first try the path relative
to the root of the app and then it will try the path relative
to the current package.</p>
</div>
</div>
<div class="section" id="usage">
<span id="id3"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Once <a class="reference internal" href="glossary.html#term-pyramid-jinja2"><em class="xref std std-term">pyramid_jinja2</em></a> been activated <tt class="file docutils literal"><span class="pre">.jinja2</span></tt> templates
can be loaded either by looking up names that would be found on
the <a class="reference internal" href="glossary.html#term-jinja2"><em class="xref std std-term">Jinja2</em></a> search path or by looking up asset specifications.</p>
<div class="section" id="template-lookups">
<span id="id4"></span><h3>Template Lookups<a class="headerlink" href="#template-lookups" title="Permalink to this headline">¶</a></h3>
<p>The default lookup mechanism for templates uses the <a class="reference internal" href="glossary.html#term-jinja2"><em class="xref std std-term">Jinja2</em></a>
search path (specified with <a class="reference internal" href="#setting-jinja2-directories"><em>jinja2.directories</em></a> or by using
the <a class="reference internal" href="api.html#pyramid_jinja2.add_jinja2_search_path" title="pyramid_jinja2.add_jinja2_search_path"><tt class="xref py py-func docutils literal"><span class="pre">add_jinja2_search_path()</span></tt></a> directive on the
<a class="reference internal" href="glossary.html#term-configurator"><em class="xref std std-term">Configurator</em></a> instance).</p>
<p>Rendering <a class="reference internal" href="glossary.html#term-jinja2"><em class="xref std std-term">Jinja2</em></a> templates with a view like this is typically
done as follows (where the <tt class="file docutils literal"><span class="pre">templates</span></tt> directory is expected to
live in the search path):</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.view</span> <span class="kn">import</span> <span class="n">view_config</span>

<span class="nd">@view_config</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s">&#39;mytemplate.jinja2&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">myview</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Rendering templates outside of a view (and without a request) can be
done using the renderer api:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyramid.renderers</span> <span class="kn">import</span> <span class="n">render_to_response</span>
<span class="n">render_to_response</span><span class="p">(</span><span class="s">&#39;mytemplate.jinja2&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;foo&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;bar&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
</pre></div>
</td></tr></table></div>
<div class="section" id="template-inheritance">
<h4><a class="reference internal" href="glossary.html#term-template-inheritance"><em class="xref std std-term">Template Inheritance</em></a><a class="headerlink" href="#template-inheritance" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="glossary.html#term-template-inheritance"><em class="xref std std-term">Template inheritance</em></a> can use asset specs in the same manner as regular
template lookups.  An example:</p>
<div class="highlight-html+django"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot;&gt;</span>
<span class="c">&lt;!-- templates/layout.jinja2 --&gt;</span>

<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-html+django"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c">&lt;!-- templates/root.jinja2 --&gt;</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;templates/layout.jinja2&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
<span class="nt">&lt;h1&gt;</span>Yes<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;</span>
  Some random paragraph.
<span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</td></tr></table></div>
<p>For further information on <a class="reference internal" href="glossary.html#term-template-inheritance"><em class="xref std std-term">Template Inheritance</em></a> in Jinja2
templates please see <a class="reference external" href="http://jinja.pocoo.org/docs/templates/#template-inheritance" title="(in Jinja2 v2.7-dev)"><em class="xref std std-ref">Template Inheritance</em></a>
in Jinja2 documentation.</p>
</div>
</div>
<div class="section" id="asset-specification-lookups">
<span id="assets-spec-lookups"></span><h3>Asset Specification Lookups<a class="headerlink" href="#asset-specification-lookups" title="Permalink to this headline">¶</a></h3>
<p>Looking up templates via asset specification is a feature specific
to <a class="reference internal" href="glossary.html#term-pyramid"><em class="xref std std-term">Pyramid</em></a>.  For further info please see <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/assets.html#asset-specifications" title="(in The Pyramid Web Application Development Framework v1.4b1)"><em class="xref std std-ref">Understanding
Asset Specifications</em></a>.
Overriding templates in this style uses the standard
<a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/assets.html#overriding-assets-section" title="(in The Pyramid Web Application Development Framework v1.4b1)"><em class="xref std std-ref">pyramid asset overriding technique</em></a>.</p>
</div>
</div>
<div class="section" id="settings">
<span id="id5"></span><h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="glossary.html#term-jinja2"><em class="xref std std-term">Jinja2</em></a> derives additional settings to configure its template renderer. Many
of these settings are optional and only need to be set if they should be
different from the default.  The below values can be present in the
<tt class="file docutils literal"><span class="pre">.ini</span></tt> file used to configure the Pyramid application (in the <tt class="docutils literal"><span class="pre">app</span></tt>
section representing your Pyramid app) or they can be passed directly within
the <tt class="docutils literal"><span class="pre">settings</span></tt> argument passed to a Pyramid Configurator.</p>
<div class="section" id="generic-settings">
<h3>Generic Settings<a class="headerlink" href="#generic-settings" title="Permalink to this headline">¶</a></h3>
<p>These setttings correspond to the ones documented in Jinja2.
Set them accordingly.</p>
<p>For reference please see: <a class="reference external" href="http://jinja.pocoo.org/docs/api/#high-level-api">http://jinja.pocoo.org/docs/api/#high-level-api</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the boolean settings please use <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt></p>
</div>
<p>jinja2.block_start_string</p>
<p>jinja2.block_end_string</p>
<p>jinja2.variable_start_string</p>
<p>jinja2.variable_end_string</p>
<p>jinja2.comment_start_string</p>
<p>jinja2.comment_end_string</p>
<p>jinja2.line_statement_prefix</p>
<p>jinja2.line_comment_prefix</p>
<p>jinja2.trim_blocks</p>
<p>jinja2.newline_sequence</p>
<p>jinja2.optimized</p>
<p>jinja2.cache_size</p>
</div>
<div class="section" id="jinja2-autoescape">
<h3>jinja2.autoescape<a class="headerlink" href="#jinja2-autoescape" title="Permalink to this headline">¶</a></h3>
<p>Jinja2 autoescape setting.</p>
<p>Possible values: <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>By default Jinja2 sets autoescaping to False.</p>
<p class="last">pyramid_jinja2 sets it to true as it is considered a good security
practice.</p>
</div>
</div>
<div class="section" id="pyramid-reload-templates">
<span id="setting-reload-templates"></span><h3>pyramid.reload_templates<a class="headerlink" href="#pyramid-reload-templates" title="Permalink to this headline">¶</a></h3>
<p>This is a Pyramid setting (not a pyramid_jinja2 one)</p>
<p>For usage see <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/templates.html#reload-templates-section" title="(in The Pyramid Web Application Development Framework v1.4b1)"><em class="xref std std-ref">Pyramid: Automatically Reloading Templates</em></a>.</p>
<p><tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt> representing whether Jinja2 templates should be
reloaded when they change on disk.  Useful for development to be <tt class="docutils literal"><span class="pre">true</span></tt>.
This setting sets to Jinja2 <tt class="docutils literal"><span class="pre">auto_reload</span></tt> setting.</p>
<p>The rationale for using is a differently named setting is: this setting existed
when Pyramid only supported Chameleon and Mako templates and acts uniformly
across the template renderers.</p>
</div>
<div class="section" id="reload-templates">
<h3>reload_templates<a class="headerlink" href="#reload-templates" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Deprecated as of version 1.5, use <a class="reference internal" href="#setting-reload-templates"><em>pyramid.reload_templates</em></a> instead</p>
</div>
</div>
<div class="section" id="jinja2-auto-reload">
<span id="setting-jinja2-autoreload"></span><h3>jinja2.auto_reload<a class="headerlink" href="#jinja2-auto-reload" title="Permalink to this headline">¶</a></h3>
<p>Use Pyramid <a class="reference internal" href="#setting-reload-templates"><em>pyramid.reload_templates</em></a> setting.</p>
</div>
<div class="section" id="jinja2-directories">
<span id="setting-jinja2-directories"></span><h3>jinja2.directories<a class="headerlink" href="#jinja2-directories" title="Permalink to this headline">¶</a></h3>
<p>A list of directory names or a newline-delimited string with each line
representing a directory name.  These locations are where Jinja2 will
search for templates.  Each can optionally be an absolute resource
specification (e.g. <tt class="docutils literal"><span class="pre">package:subdirectory/</span></tt>).</p>
</div>
<div class="section" id="jinja2-input-encoding">
<span id="setting-jinja2-input-encoding"></span><h3>jinja2.input_encoding<a class="headerlink" href="#jinja2-input-encoding" title="Permalink to this headline">¶</a></h3>
<p>The input encoding of templates.  Defaults to <tt class="docutils literal"><span class="pre">utf-8</span></tt>.</p>
</div>
<div class="section" id="jinja2-undefined">
<span id="setting-jinja2-undefined"></span><h3>jinja2.undefined<a class="headerlink" href="#jinja2-undefined" title="Permalink to this headline">¶</a></h3>
<p>Changes the undefined types that are used when a variable name lookup fails.
If unset, defaults to <a class="reference external" href="http://jinja.pocoo.org/docs/api/#jinja2.Undefined" title="(in Jinja2 v2.7-dev)"><tt class="xref py py-class docutils literal"><span class="pre">Undefined</span></tt></a> (silent ignore). Setting
it to <tt class="docutils literal"><span class="pre">strict</span></tt> will trigger <a class="reference external" href="http://jinja.pocoo.org/docs/api/#jinja2.StrictUndefined" title="(in Jinja2 v2.7-dev)"><tt class="xref py py-class docutils literal"><span class="pre">StrictUndefined</span></tt></a> behavior
(raising an error, this is recommended for development). Setting it to
<tt class="docutils literal"><span class="pre">debug</span></tt> will trigger <a class="reference external" href="http://jinja.pocoo.org/docs/api/#jinja2.DebugUndefined" title="(in Jinja2 v2.7-dev)"><tt class="xref py py-class docutils literal"><span class="pre">DebugUndefined</span></tt></a>, which outputs
debug information in some cases.  See <a class="reference external" href="http://jinja.pocoo.org/docs/api/#undefined-types">Undefined Types</a></p>
</div>
<div class="section" id="jinja2-extensions">
<span id="setting-jinja2-extensions"></span><h3>jinja2.extensions<a class="headerlink" href="#jinja2-extensions" title="Permalink to this headline">¶</a></h3>
<p>A list of extension objects or a newline-delimited set of dotted import
locations where each line represents an extension. <a class="reference external" href="http://jinja.pocoo.org/docs/extensions/#i18n-extension" title="(in Jinja2 v2.7-dev)"><em class="xref std std-ref">jinja2.ext.i18n</em></a> is automatically activated.</p>
</div>
<div class="section" id="jinja2-i18n-domain">
<span id="setting-jinja2-i18n-domain"></span><h3>jinja2.i18n.domain<a class="headerlink" href="#jinja2-i18n-domain" title="Permalink to this headline">¶</a></h3>
<p>Pyramid domain for translations. See <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/glossary.html#term-translation-domain" title="(in The Pyramid Web Application Development Framework v1.4b1)"><em class="xref std std-term">Translation Domain</em></a> in Pyramid
documentation.</p>
</div>
<div class="section" id="jinja2-filters">
<span id="setting-jinja2-filers"></span><h3>jinja2.filters<a class="headerlink" href="#jinja2-filters" title="Permalink to this headline">¶</a></h3>
<p>A dictionary mapping filter name to filter object, or a newline-delimted
string with each line in the format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">name</span> <span class="o">=</span> <span class="n">dotted</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">filter</span>
</pre></div>
</div>
<p>representing <a class="reference external" href="http://jinja.pocoo.org/docs/api/#writing-filters" title="(in Jinja2 v2.7-dev)"><em class="xref std std-ref">Jinja2 filters</em></a>.</p>
</div>
<div class="section" id="jinja2-tests">
<span id="setting-jinja2-tests"></span><h3>jinja2.tests<a class="headerlink" href="#jinja2-tests" title="Permalink to this headline">¶</a></h3>
<p>A dictionary mapping test name to test object, or a newline-delimted
string with each line in the format:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">name</span> <span class="o">=</span> <span class="n">dotted</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">test</span>
</pre></div>
</div>
<p>representing <a class="reference external" href="http://jinja.pocoo.org/docs/api/#writing-tests" title="(in Jinja2 v2.7-dev)"><em class="xref std std-ref">Jinja2 tests</em></a>.</p>
</div>
<div class="section" id="jinja2-bytecode-caching">
<span id="setting-jinja2-byte-cache"></span><h3>jinja2.bytecode_caching<a class="headerlink" href="#jinja2-bytecode-caching" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt> to enable filesystem bytecode caching. Defaults to
<tt class="docutils literal"><span class="pre">true</span></tt>. See <a class="reference external" href="http://jinja.pocoo.org/docs/api/#bytecode-cache" title="(in Jinja2 v2.7-dev)"><em class="xref std std-ref">Bytecode Cache</em></a> in Jinja2
documentation.</p>
</div>
<div class="section" id="jinja2-bytecode-caching-directory">
<span id="setting-jinja2-byte-cache-dir"></span><h3>jinja2.bytecode_caching_directory<a class="headerlink" href="#jinja2-bytecode-caching-directory" title="Permalink to this headline">¶</a></h3>
<p>Absolute path to directory to store bytecode caching files. Defaults to
temporary directory. See <a class="reference external" href="http://jinja.pocoo.org/docs/api/#jinja2.FileSystemBytecodeCache" title="(in Jinja2 v2.7-dev)"><tt class="xref py py-class docutils literal"><span class="pre">jinja2.FileSystemBytecodeCache</span></tt></a>.</p>
</div>
</div>
<div class="section" id="id6">
<span id="id7"></span><h2>Jinja2 Filters<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">pyramid_jinja2</span></tt> provides two filters.</p>
<dl class="function">
<dt id="pyramid_jinja2.filters.model_url_filter">
<tt class="descclassname">pyramid_jinja2.filters.</tt><tt class="descname">model_url_filter</tt><big>(</big><em>model</em>, <em>*elements</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pyramid_jinja2.filters.model_url_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>A filter from <tt class="docutils literal"><span class="pre">model</span></tt> to a string representing the absolute URL.
This filter calls <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/api/url.html#pyramid.url.resource_url" title="(in The Pyramid Web Application Development Framework v1.4b1)"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.url.resource_url()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pyramid_jinja2.filters.route_url_filter">
<tt class="descclassname">pyramid_jinja2.filters.</tt><tt class="descname">route_url_filter</tt><big>(</big><em>route_name</em>, <em>*elements</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pyramid_jinja2.filters.route_url_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>A filter from <tt class="docutils literal"><span class="pre">route_name</span></tt> to a string representing the absolute URL.
This filter calls <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/api/url.html#pyramid.url.route_url" title="(in The Pyramid Web Application Development Framework v1.4b1)"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.url.route_url()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pyramid_jinja2.filters.static_url_filter">
<tt class="descclassname">pyramid_jinja2.filters.</tt><tt class="descname">static_url_filter</tt><big>(</big><em>path</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#pyramid_jinja2.filters.static_url_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>A filter from <tt class="docutils literal"><span class="pre">path</span></tt> to a string representing the absolute URL.
This filter calls <a class="reference external" href="http://docs.pylonsproject.org/projects/pyramid/en/latest/api/url.html#pyramid.url.static_url" title="(in The Pyramid Web Application Development Framework v1.4b1)"><tt class="xref py py-func docutils literal"><span class="pre">pyramid.url.static_url()</span></tt></a>.</p>
</dd></dl>

<p>To use these filters, configure the settings of <tt class="docutils literal"><span class="pre">jinja2.filters</span></tt>:</p>
<div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">[app:yourapp]</span>
<span class="c"># ... other stuff ...</span>
<span class="na">jinja2.filters</span> <span class="o">=</span><span class="s"></span>
<span class="s">    model_url = pyramid_jinja2.filters:model_url_filter</span>
<span class="s">    route_url = pyramid_jinja2.filters:route_url_filter</span>
<span class="s">    static_url = pyramid_jinja2.filters:static_url_filter</span>
</pre></div>
</td></tr></table></div>
<p>And use the filters in template.</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{context|model_url(&#39;edit&#39;)}}&quot;</span><span class="nt">&gt;</span>Edit<span class="nt">&lt;/a&gt;</span>

<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{&#39;top&#39;|route_url}}&quot;</span><span class="nt">&gt;</span>Top<span class="nt">&lt;/a&gt;</span>

<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;{{&#39;yourapp:static/css/style.css&#39;|static_url}}&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-a-jinja2-pyramid-project">
<h2>Creating a Jinja2 <tt class="docutils literal"><span class="pre">Pyramid</span></tt> Project<a class="headerlink" href="#creating-a-jinja2-pyramid-project" title="Permalink to this headline">¶</a></h2>
<p>After you&#8217;ve got <tt class="docutils literal"><span class="pre">pyramid_jinja2</span></tt> installed, you can invoke one of the
following commands to create a Jinja2-based Pyramid project.</p>
<p>On Pyramid 1.0, 1.1, or 1.2:</p>
<div class="highlight-python"><pre>$ $myvenv/bin/paster create -t pyramid_jinja2_starter myproject</pre>
</div>
<p>On Pyramid 1.3:</p>
<div class="highlight-python"><pre>$ $myenv/bin/pcreate -s pyramid_jinja2_starter myproject</pre>
</div>
<p>After it&#8217;s created, you can visit the <tt class="docutils literal"><span class="pre">myproject</span></tt> directory and run
<tt class="docutils literal"><span class="pre">setup.py</span> <span class="pre">develop</span></tt>.  At that point you can start the application like any
other Pyramid application.</p>
<p>This is a good way to see a working Pyramid application that uses Jinja2, even
if you wind up not using the result.</p>
<div class="section" id="paster-template-i18n">
<h3>Paster Template I18N<a class="headerlink" href="#paster-template-i18n" title="Permalink to this headline">¶</a></h3>
<p>The paster template automatically sets up pot/po/mo locale files for use
with the generated project.</p>
<p>The usual pattern for working with i18n in pyramid_jinja2 is as follows:</p>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre># make sure Babel is installed
easy_install Babel

# extract translatable strings from *.jinja2 / *.py
python setup.py extract_messages
python setup.py update_catalog

# Translate strings in &lt;mypackage&gt;/locale/&lt;mylocale&gt;/LC_MESSAGES/&lt;myproject&gt;.po
# and re-compile *.po files
python setup.py compile_catalog
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="more-information">
<h2>More Information<a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html"><tt class="docutils literal"><span class="pre">pyramid_jinja2</span></tt> API</a></li>
</ul>
</div>
</div>
<div class="section" id="reporting-bugs-development-versions">
<h2>Reporting Bugs / Development Versions<a class="headerlink" href="#reporting-bugs-development-versions" title="Permalink to this headline">¶</a></h2>
<p>Visit <a class="reference external" href="http://github.com/Pylons/pyramid_jinja2">http://github.com/Pylons/pyramid_jinja2</a> to download development or tagged
versions.</p>
<p>Visit <a class="reference external" href="http://github.com/Pylons/pyramid_jinja2/issues">http://github.com/Pylons/pyramid_jinja2/issues</a> to report bugs.</p>
<div class="section" id="indices-and-tables">
<h3>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="glossary.html#glossary"><em>Glossary</em></a></li>
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pyramid_jinja2</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#template-lookups">Template Lookups</a><ul>
<li><a class="reference internal" href="#template-inheritance"><tt class="docutils literal"><span class="pre">Template</span> <span class="pre">Inheritance</span></tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#asset-specification-lookups">Asset Specification Lookups</a></li>
</ul>
</li>
<li><a class="reference internal" href="#settings">Settings</a><ul>
<li><a class="reference internal" href="#generic-settings">Generic Settings</a></li>
<li><a class="reference internal" href="#jinja2-autoescape">jinja2.autoescape</a></li>
<li><a class="reference internal" href="#pyramid-reload-templates">pyramid.reload_templates</a></li>
<li><a class="reference internal" href="#reload-templates">reload_templates</a></li>
<li><a class="reference internal" href="#jinja2-auto-reload">jinja2.auto_reload</a></li>
<li><a class="reference internal" href="#jinja2-directories">jinja2.directories</a></li>
<li><a class="reference internal" href="#jinja2-input-encoding">jinja2.input_encoding</a></li>
<li><a class="reference internal" href="#jinja2-undefined">jinja2.undefined</a></li>
<li><a class="reference internal" href="#jinja2-extensions">jinja2.extensions</a></li>
<li><a class="reference internal" href="#jinja2-i18n-domain">jinja2.i18n.domain</a></li>
<li><a class="reference internal" href="#jinja2-filters">jinja2.filters</a></li>
<li><a class="reference internal" href="#jinja2-tests">jinja2.tests</a></li>
<li><a class="reference internal" href="#jinja2-bytecode-caching">jinja2.bytecode_caching</a></li>
<li><a class="reference internal" href="#jinja2-bytecode-caching-directory">jinja2.bytecode_caching_directory</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6">Jinja2 Filters</a></li>
<li><a class="reference internal" href="#creating-a-jinja2-pyramid-project">Creating a Jinja2 <tt class="docutils literal"><span class="pre">Pyramid</span></tt> Project</a><ul>
<li><a class="reference internal" href="#paster-template-i18n">Paster Template I18N</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-information">More Information</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#reporting-bugs-development-versions">Reporting Bugs / Development Versions</a><ul>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="glossary.html"
                        title="next chapter">Glossary</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             >next</a> |</li>
    	<li><a href="#">pyramid_jinja2 1.5dev0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Agendaless Consulting &lt;chrism@plope.com&gt;.
      Last updated on Nov 24, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>