<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Architecture &mdash; Velruse 1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Velruse 1.1 documentation"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Velruse 1.1 documentation" href="index.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Velruse Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Velruse Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Velruse 1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="architecture">
<span id="id1"></span><h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<p>Velruse implements an API similar to <a class="reference external" href="http://rpxnow.com/">RPXNow</a> to standardize the
way a web application handles user authentication. The standard flow of using
Velruse looks like this:</p>
<img alt="Velruse Authentication flow" class="align-center" src="_images/overview.png" />
<ol class="arabic simple">
<li>Website sends a POST to the <a class="reference internal" href="glossary.html#term-auth-provider"><em class="xref std std-term">auth provider</em></a>&#8216;s URL with an endpoint
that the user should be redirected back to when authentication is complete
and includes any additional parameters that the <a class="reference internal" href="glossary.html#term-auth-provider"><em class="xref std std-term">auth provider</em></a>
requires.</li>
<li>When the <a class="reference internal" href="glossary.html#term-auth-provider"><em class="xref std std-term">auth provider</em></a> finishes the authentication, the user is
redirected back to the endpoint specified with a POST, which includes the
user&#8217;s authentication data.</li>
</ol>
<div class="section" id="auth-providers">
<h2>Auth Providers<a class="headerlink" href="#auth-providers" title="Permalink to this headline">¶</a></h2>
<p>Auth Providers implement all the messy details of authentication. Since they
listen to HTTP requests underneath their prefix, they can interact with other
systems that require redirects to authenticate. When the Auth Provider is done
it redirects back to the endpoint that it was provided with.</p>
<p>The Auth Provider is expected to respond to a POST to <tt class="docutils literal"><span class="pre">/login</span></tt>, and then
proceed with the necessary calls and/or redirects necessary to complete
the authentication. Each provider is responsible for converting profile
data into a format compatible with <a class="reference external" href="http://portablecontacts.net/draft-spec.html">Portable Contacts</a>.</p>
</div>
<div class="section" id="provider-html-examples">
<h2>Provider HTML Examples<a class="headerlink" href="#provider-html-examples" title="Permalink to this headline">¶</a></h2>
<p>Every authentication provider that is available comes with a basic HTML
example illustrating the parameters it requires. The template generally
includes a logo when it&#8217;s a third party <a class="reference internal" href="glossary.html#term-identity-provider"><em class="xref std std-term">identity provider</em></a> to help
a website user find the preferred authentication option.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While most websites will redirect to Velruse to handle the authentication
for a user to login or register, the authentication can be done anytime
for &#8216;linking&#8217; an account to another provider as well.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Architecture</a><ul>
<li><a class="reference internal" href="#auth-providers">Auth Providers</a></li>
<li><a class="reference internal" href="#provider-html-examples">Provider HTML Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Velruse Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usage.html"
                        title="next chapter">Usage</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/architecture.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="usage.html" title="Usage"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Velruse Documentation"
             >previous</a> |</li>
        <li><a href="index.html">Velruse 1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Ben Bangert.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>